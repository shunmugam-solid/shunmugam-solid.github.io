"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[3006],{3006:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"widgetContainer bg-white contact-details-form"},[e("div",{staticClass:"navigationHeader"},[e("div",{staticClass:"navigationHeader__inner"},["contact"!==t.page?e("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:t.back}}):t._e(),this.getCreateContactData&&this.getCreateContactData.id?e("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:t.cancel}}):t._e(),e("p",{staticClass:"title"},[t._v(" "+t._s(t.$t(t.getCreateContactData&&t.getCreateContactData.id?"contact_details_EditTitle":"contact_Details_NavTitle"))+" ")]),"contact"===t.page?e("span",{staticClass:"el-icon-close",on:{click:t.drawerClose}}):t._e()])]),e("div",{staticClass:"widgetContainer__body"},[e("el-form",{ref:"contactDetail",staticClass:"wise-form",attrs:{model:t.formData,rules:t.formRules}},[e("el-form-item",{staticClass:"is-no-asterisk",attrs:{prop:"name",label:t.$t("contact_Details_Name")}},[e("el-input",{model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1),e("el-form-item",{staticClass:"is-no-asterisk",attrs:{prop:"phone",label:t.$t("contact_Details_Phone")}},[e("vue-tel-input",t._b({on:{validate:t.mobileNumberUpdate},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}},"vue-tel-input",t.inputProps,!1))],1),e("el-form-item",{staticClass:"is-no-asterisk",attrs:{prop:"email",label:t.$t("contact_Details_Email")}},[e("el-input",{model:{value:t.formData.email,callback:function(a){t.$set(t.formData,"email",a)},expression:"formData.email"}})],1)],1)],1),e("div",{staticClass:"el-drawer__footer"},[e("el-button",{staticClass:"width-100 el-button__brand brand contact-details-form__done-btn",attrs:{type:"primary",disabled:!t.isFormValid},on:{click:function(a){return t.next()}}},[t._v(" "+t._s(t.$t("contact_Details_NavRightButton_Title"))+" ")])],1)])},i=[],n=e(144),o=e(1420),c=e.n(o),r=e(6895),l=e(629);n["default"].use(c());var d={name:"ContactDetailForm",mixins:[r.Z],props:{page:{type:String,default:"contact"}},data(){return{formData:{name:"",phone:"",email:""},isPhoneNumberValid:!1,inputProps:{defaultCountry:"US",placeholder:"",mode:"international",inputOptions:{showDialCode:!0,autofocus:!0,required:!0,styleClasses:["el-input__inner","mobile_number"]},disabledFormatting:!1,wrapperClasses:"el-input",validCharactersOnly:!0},formRules:{name:[{required:!0,message:this.$t("businessNameOrFullNameRequired"),trigger:"blur"}],email:[{type:"email",message:this.$t("emailInvalid"),trigger:"blur"}]}}},computed:{...(0,l.Se)("contact",["getCreateContactData"]),isFormValid(){return""!==this.formData.name&&(""===this.formData.phone||this.isPhoneNumberValid)}},created(){this.getCreateContactData&&(this.formData={name:this.getCreateContactData.name,phone:this.getCreateContactData.phone,email:this.getCreateContactData.email},this.getCreateContactData.phone&&(this.isPhoneNumberValid=!0))},methods:{...(0,l.OI)("contact",["updateCreateContactData","updateSelectedContactData"]),...(0,l.nv)("contact",["createContact","updateContact"]),mobileNumberUpdate(t){this.isPhoneNumberValid=t.valid},next(){this.$refs.contactDetail.validate((t=>{if(!t)return;const a=this.getCreateContactData||{};this.updateCreateContactData({...a,...this.formData});let e="createContact";a.id&&(e="updateContact");const s=this.formData;s.phone=s.phone.replace(/\s/g,"");const i=this.showLoader();this[e]({...a,...s,accountId:this.getSelectedAccount.id}).then((t=>{this.updateCreateContactData(t),this.updateSelectedContactData(t),"createContact"===e?setTimeout((()=>{"contact"===this.page||"send-card"===this.page?this.drawerPush("contact-success"):this.drawerReplace("contact-success")}),0):(this.$emit("fetchContacts"),this.drawerBack())})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{i.close()}))}))},cancel(){this.getCreateContactData&&this.getCreateContactData.id?this.drawerPush("details"):this.drawerClose()},back(){"send-card"===this.page?this.drawerReplace("sendCard-contacts"):this.drawerReplace("CheckDeposit-contacts")}}},m=d,u=e(3736),h=(0,u.Z)(m,s,i,!1,null,"5939122e",null),p=h.exports}}]);
//# sourceMappingURL=3006.1689658294188.js.map