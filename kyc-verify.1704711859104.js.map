{"version":3,"file":"kyc-verify.1704711859104.js","mappings":"uJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,oHAAoH,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAAEN,EAAIO,IAAI,0BAA2BH,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,2BAA2B,OAAOV,EAAIW,KAAKP,EAAG,kBAAkB,CAACQ,MAAM,CAAC,iBAAiB,YAAY,UAAY,sBAAsB,MAAO,KAAQR,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,uBAAuB,OAAON,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,sBAAsB,OAAQV,EAAIO,IAAI,yBAA0BH,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,0BAA0B,OAAOV,EAAIW,KAAKP,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,YAAY,CAACE,YAAY,8CAA8CM,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQb,EAAIc,UAAU,CAACd,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,6BAA6B,QAAQ,IAAI,MAAM,EAC7mCK,EAAkB,G,mBCiCtB,GACAC,WAAAA,CACAC,gBAAAA,EAAAA,GAEAC,SAAAA,KACA,8BACA,gBACA,mBACA,oBACA,sBAEA,wCACA,sCAEAC,OACA,OACAC,UAAAA,KAEA,EACAC,UACA,0BACA,wBACA,SACA,qBACAC,MAAAC,IACA,sBACA,gBACA,yBACA,mCACA,IACAC,SAAA,KACAC,EAAAA,OAAAA,GAGA,EACAC,QAAAA,KACA,8EACAZ,UACA,8BACA,oBACA,OACAa,SAAAA,EAAAA,GACAC,OAAAA,CAAAA,GAGA,KACAC,UAAAC,GACAR,MAAAC,IACAQ,YAAAA,KACA,2BACA,EAFA,IAIAC,OAAAC,IACAC,QAAAA,IAAAA,GACA,2BAEAV,SAAA,KACAC,EAAAA,OAAAA,IAGAU,OAAAA,WAAAA,OAAAA,UAAAA,MAAAA,kBACA,EACAC,aAAAA,GAEAD,OAAAA,eAAAA,QAAAA,UAAAA,KAAAA,cACAA,OAAAA,eAAAA,QAAAA,mBAAAA,KAAAA,UAAAA,KAAAA,mBACAA,OAAAA,eAAAA,QAAAA,YAAAA,KAAAA,MAAAA,SAAAA,QAAAA,OAAAA,iBACAA,OAAAA,SAAAA,KAAAA,EAAAA,iBAAAA,OAAAA,SAAAA,OAAAA,mBACA,EACAE,WAEA,8BACA,YACA,0BACA,qBACAf,MAAA,KACA,uCAEAU,OAAAC,IACAC,QAAAA,IAAAA,GACA,2BAEAV,SAAA,KACAC,EAAAA,OAAAA,GAEA,CACA,ICxHuS,I,UCOnSa,GAAY,OACd,EACAvC,EACAgB,GACA,EACA,KACA,KACA,MAIF,EAAeuB,EAAiB,O","sources":["webpack://Solid/./src/modules/kyc/views/Persona.vue?1ec6","webpack://Solid/src/modules/kyc/views/Persona.vue","webpack://Solid/./src/modules/kyc/views/Persona.vue?52be","webpack://Solid/./src/modules/kyc/views/Persona.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"verfiy-content\"},[_c('div',{staticClass:\"widgetContainer widgetContainer--center widgetContainer--full-screen appStatus appStatus--verifying verifyOnfido\"},[_c('div',{staticClass:\"widgetContainer__body\"},[(_vm.$te('verifyOnfido_title_alt'))?_c('p',{staticClass:\"title-alt\"},[_vm._v(\" \"+_vm._s(_vm.$t('verifyOnfido_title_alt'))+\" \")]):_vm._e(),_c('LottieAnimation',{attrs:{\"animation-name\":\"searching\",\"reference\":\"kyc-status-review-1\",\"loop\":true}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('verifyOnfido_title'))+\" \")]),_c('p',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.$t('verifyOnfido_desc'))+\" \")]),(_vm.$te('verifyOnfido_desc_alt'))?_c('p',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.$t('verifyOnfido_desc_alt'))+\" \")]):_vm._e(),_c('div',{staticClass:\"widgetContainer__footer--fixed\"},[_c('el-button',{staticClass:\"welcome__get-started el-button__brand brand\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.proceed}},[_vm._v(\" \"+_vm._s(_vm.$t('verifyOnfido_buttonTitle'))+\" \")])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"verfiy-content\">\n    <div\n      class=\"widgetContainer widgetContainer--center widgetContainer--full-screen appStatus appStatus--verifying verifyOnfido\">\n      <div class=\"widgetContainer__body\">\n        <p class=\"title-alt\" v-if=\"$te('verifyOnfido_title_alt')\">\n          {{ $t('verifyOnfido_title_alt') }}\n        </p>\n        <LottieAnimation animation-name=\"searching\" reference=\"kyc-status-review-1\" :loop=\"true\" />\n        <p class=\"title\">\n          {{ $t('verifyOnfido_title') }}\n        </p>\n        <p class=\"description\">\n          {{ $t('verifyOnfido_desc') }}\n        </p>\n        <p class=\"description\" v-if=\"$te('verifyOnfido_desc_alt')\">\n          {{ $t('verifyOnfido_desc_alt') }}\n        </p>\n        <div class=\"widgetContainer__footer--fixed\">\n          <el-button\n            type=\"primary\"\n            class=\"welcome__get-started el-button__brand brand\"\n            @click=\"proceed\">\n            {{ $t('verifyOnfido_buttonTitle') }}\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport LottieAnimation from '@/components/LottieAnimation.vue';\n\nexport default {\n  components: {\n    LottieAnimation\n  },\n  computed: {\n    ...mapGetters(['getActiveEnv']),\n    ...mapGetters('user', [\n      'getPersonDetails',\n      'getProgramDetails',\n      'getBrandColor'\n    ]),\n    ...mapGetters('kyc', ['getOnfidoDetails']),\n    ...mapGetters('user', ['getUserAuthToken'])\n  },\n  data() {\n    return {\n      onfidoOut: null\n    };\n  },\n  created() {\n    const loader = this.showLoader();\n    const person = this.getPersonDetails;\n    if (person && person.id) {\n      this.idvStatus(person.id)\n        .then((res) => {\n          if(res.status === 'approved') {\n            this.startKYC();\n          } else if(res.status !== 'notStarted') {\n            this.$router.push('/kyc/kycStatus');\n          }\n        }).finally(() => {\n          loader.close();\n        });\n    }\n  },\n  methods: {\n    ...mapActions('kyc', ['fetchVerificationToken', 'submitKyc', 'idvSubmit', 'idvStatus']),\n    proceed() {\n      const person = this.getPersonDetails;\n      const loader = this.showLoader();\n      let payload = {\n        personId: person.id,\n        params: {\n        }\n      };\n      this\n        .idvSubmit(payload)\n        .then((res) => {\n          setTimeout(() => {\n            this.startPersona(res.url);\n          }, 0);\n        })\n        .catch((e) => {\n          console.log(e);\n          this.apiErrorMessage(e);\n        })\n        .finally(() => {\n          loader.close();\n        });\n      \n      window.analytics && window.analytics.track('proceedIdentity');\n    },\n    startPersona(url) {\n      //store session\n      window.sessionStorage.setItem('app_env', this.getActiveEnv)\n      window.sessionStorage.setItem('user_auth_tokens', JSON.stringify(this.getUserAuthToken));\n      window.sessionStorage.setItem('device_id', this.$http.defaults.headers.common['SD-Device-ID']);\n      window.location.href = url + '&redirect-uri='+window.location.origin + '/kyc/idv-callback';\n    },\n    startKYC() {\n      /** @type {import('@/modules/user/store/state').userState['personDetails']} */\n      const person = this.getPersonDetails;\n      if (person && person.id) {\n        const loader = this.showLoader();\n        this.submitKyc(person.id)\n          .then(() => {\n            this.$router.push('/kyc/kycStatus');\n          })\n          .catch((e) => {\n            console.log(e);\n            this.apiErrorMessage(e);\n          })\n          .finally(() => {\n            loader.close();\n          });\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Persona.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Persona.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Persona.vue?vue&type=template&id=29a994f2&\"\nimport script from \"./Persona.vue?vue&type=script&lang=js&\"\nexport * from \"./Persona.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$te","_v","_s","$t","_e","attrs","on","proceed","staticRenderFns","components","LottieAnimation","computed","data","onfidoOut","created","then","res","finally","loader","methods","personId","params","idvSubmit","payload","setTimeout","catch","e","console","window","startPersona","startKYC","component"],"sourceRoot":""}