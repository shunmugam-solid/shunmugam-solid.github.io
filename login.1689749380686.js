"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[4535],{677:function(e,t,s){s.d(t,{Z:function(){return u}});var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"el-input "+(e.showCountryCodeSelector?"with-country-code":"")},[s("the-mask",{ref:"mobileNumber",staticClass:"el-input__inner mobile_number",attrs:{mask:e.mask,type:"tel",autocomplete:"off",name:"mobile_number",masked:!0,value:e.phone,placeholder:e.placeholder},nativeOn:{input:function(t){return e.updateInput(t)}}}),e.showCountryCodeSelector?s("el-select",{staticClass:"country-code-selector",attrs:{size:"mini"},model:{value:e.selectedCountryCode,callback:function(t){e.selectedCountryCode=t},expression:"selectedCountryCode"}},e._l(e.supportedCountries,(function(t){return s("el-option",{key:t.dial_code,attrs:{value:t.dial_code,label:t.dial_code}},[s("span",{staticClass:"flag"},[s("img",{attrs:{src:e.flag(t),alt:t.name}})]),s("span",{staticClass:"select-country-code"},[e._v(" "+e._s(t.dial_code)+" ")])])})),1):e._e()],1)},i=[],r=s(9896),l=s(2982),n={components:{TheMask:l.TheMask},props:{value:{type:String,default:""},autofocus:{type:Boolean,default:!1},showCountryCodeSelector:{type:Boolean,default:!1}},computed:{supportedCountries(){return(0,r.oE)()},selectedCountry(){const e=this.supportedCountries.find((e=>e.dial_code===this.selectedCountryCode));return e},mask(){const e=this.supportedCountries.find((e=>e.dial_code===this.selectedCountryCode));return this.showCountryCodeSelector?e.mask:e.dial_code+" "+e.mask},placeholder(){const e=this.mask;let t=0;const s=e.split("").map((e=>"#"===e?(t++,t>=10?t%10:t):e)).join("");return s}},data(){return{selectedCountryCode:"+1",phone:""}},mounted(){this.autofocus&&this.$refs.mobileNumber.$el.focus()},methods:{updateInput(e){let t=e.target.value;t?this.showCountryCodeSelector?this.$emit("input",{value:this.selectedCountryCode+t.replace(/\D+/g,""),number:t,dial_code:this.selectedCountryCode,selectedCountry:this.selectedCountry,isValid:this.selectedCountry.mask.length===t.length}):this.$emit("input","+"+t.replace(/\D+/g,"")):this.$emit("input",null)},flag(e){const t=(0,r.dU)("VUE_APP_ASSETS");return`${t}/flags/${e.code}.png`}},watch:{value:{handler:function(e){if(this.showCountryCodeSelector&&""!==e&&null!==e){const{dial_code:t}=(0,r.em)(e);this.selectedCountryCode=t,this.phone=e.replace(t,"")}else this.phone=e},immediate:!0}}},a=n,c=s(3736),d=(0,c.Z)(a,o,i,!1,null,null,null),u=d.exports},4910:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"widgetContainer widgetContainer--center login"},[s("div",{staticClass:"navigationHeader"},[s("div",{staticClass:"navigationHeader__inner"},[s("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:e.cancel}}),s("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("mobileNo_NavTitle"))+" ")])])]),s("div",{staticClass:"widgetContainer__body"},[s("el-form",{ref:"user",staticClass:"wise-form",attrs:{model:e.user,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()},submit:function(e){e.preventDefault()}}},[s("el-form-item",{attrs:{prop:"phone",label:e.$t("mobileNo_Title")}},[s("MobileInput",{attrs:{value:e.user.phone,"show-country-code-selector":!0,autofocus:!0},on:{input:e.mobileNumberUpdate}})],1)],1),s("div",{staticClass:"widgetContainer__footer--fixed border-0"},[s("div",{staticClass:"width-100 accept-terms"},[s("el-checkbox",{staticClass:"accept-terms__checkbox",attrs:{label:e.$t("mobileNo_SmsTerm")},model:{value:e.isTermAccepted,callback:function(t){e.isTermAccepted=t},expression:"isTermAccepted"}})],1),s("el-button",{staticClass:"el-button__brand brand width-100",attrs:{"data-testid":"submit",type:"primary",disabled:!e.isValid||e.isDisabled||!e.isTermAccepted},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("next"))+" ")])],1)],1)])},i=[],r=s(144),l=s(677),n=s(629),a=s(7936);r["default"].use(a.VueReCaptcha,{siteKey:"6LesGLoaAAAAAPw7-E2MRHpomm9YGA0MCnZ3otRI"});var c={name:"Login",components:{MobileInput:l.Z},data(){return{isValid:!1,isDisabled:!1,user:{phone:""},isTermAccepted:!1,rules:{phone:"required"}}},computed:{...(0,n.Se)("user",["getUserDetails"])},mounted(){const e=this.$recaptchaInstance;e&&e.showBadge()},methods:{...(0,n.nv)("user",["login"]),async loginWithRecaptcha(){this.isDisabled=!0,await this.$recaptchaLoaded();const e=await this.$recaptcha("login"),t=this.showLoader();this.login({mobileNumber:this.user.phone,recaptchaToken:e}).then((()=>{this.$router.push("/user/loginOtp")})).catch((e=>{this.isDisabled=!1,console.log(e),this.apiErrorMessage(e)})).finally((()=>{this.isDisabled=!1,t.close()}))},submitForm(){if(!this.isValid)return!0;this.loginWithRecaptcha()},cancel(){this.$router.push("/welcome")},mobileNumberUpdate(e){if(e){const{value:t,isValid:s}=e;this.user.phone=t,this.isValid=s}else this.user.phone="",this.isValid=!1}},destroyed(){const e=this.$recaptchaInstance;e&&e.hideBadge()}},d=c,u=s(3736),p=(0,u.Z)(d,o,i,!1,null,null,null),m=p.exports},2372:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-redirect"},[o("div",{staticClass:"mobile-redirect__body"},[o("BrandImg",{staticClass:"mobile-redirect__logo",attrs:{src:"logos/Logo.svg","data-testid":"logo",alt:"logo"}}),o("p",{staticClass:"mobile-redirect__info"},[e._v(" For a smoother experience, open on a desktop browser or download the app ")]),o("div",{staticClass:"mobile-redirect__logos"},[e.urls.ios&&e.urls.ios.url&&""!==e.urls.ios.url?o("a",{attrs:{href:e.urls.ios.url},on:{click:function(t){return e.redirect("ios")}}},[o("img",{attrs:{src:s(3129),alt:"Apple Store"}})]):e._e(),e.urls.android&&e.urls.android.url&&""!==e.urls.android.url?o("a",{attrs:{href:e.urls.android.url},on:{click:function(t){return e.redirect("android")}}},[o("img",{attrs:{src:s(7302),alt:"Android Store"}})]):e._e()])],1)])},i=[],r=s(9896),l=s(5315),n={computed:{urls(){const e=(0,r._7)("appUrl",{});return e}},components:{BrandImg:l.Z},methods:{redirect(e){const{urlScheme:t,url:s}=this.urls[e];""!==t&&(window.location.href=t),setTimeout((()=>window.location.href=s),3e3)}}},a=n,c=s(3736),d=(0,c.Z)(a,o,i,!1,null,null,null),u=d.exports},5330:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"widgetContainer widgetContainer--full-screen widgetContainer--center welcome"},[s("BrandImg",{staticClass:"welcome__logo",attrs:{src:"logos/Logo.svg","data-testid":"logo",alt:"logo"}}),s("div",{staticClass:"welcome__header"},[s("p",{attrs:{"data-testid":"welcome-txt"}},[e._v(" "+e._s(e.$t("welcome_title"))+" ")]),s("span",{attrs:{"data-testid":"welcome-desc"}},[e._v(e._s(e.welcomText))])]),1==e.isTestModeEnabled?s("ul",{staticClass:"welcome__switch-list"},[s("li",{staticClass:"test-mode",attrs:{"data-testid":"test-mode"},on:{click:function(t){return e.login("prod"===e.currentMode?"prodtest":e.mode)}}},[s("p",[e._v(" "+e._s(e.$t("prod_test"))+" ")]),s("span",{staticClass:"icon-Arrow-small-right"})]),s("li",{staticClass:"live-mode",attrs:{"data-testid":"live-mode"},on:{click:function(t){return e.login("prod")}}},[s("p",[e._v(" "+e._s(e.$t("prod_live"))+" ")]),s("span",{staticClass:"icon-Arrow-small-right"})])]):s("el-button",{staticClass:"welcome__get-started el-button__brand brand",style:{background:e.primaryColor},attrs:{type:"primary"},on:{click:function(t){return e.login(e.mode)}}},[e._v(" "+e._s(e.$t("Restart_get_started_button_title"))+" ")])],1)])},i=[],r=s(9896),l=s(629),n=s(5315),a={name:"Welcome",components:{BrandImg:n.Z},data:()=>({mode:"prodtest"}),created(){this.mode=this.getActiveEnv},computed:{...(0,l.Se)(["getActiveEnv"]),currentMode(){return"prodtest"},isTestModeEnabled(){return(0,r.g2)("isTestModeEnabled",!0)},primaryColor(){return(0,r._7)("primaryColor","#141414")},welcomText(){const e=(0,r.BI)();return this.$t("solid"!==e?e+"_welcome_tagline":"welcome_desc")}},methods:{login(e){this.mode=e,(0,r.Nb)(this.mode),setTimeout((()=>{window.analytics&&window.analytics.track("getStarted"),this.$router.push("/user/login")}),0)}}},c=a,d=s(3736),u=(0,d.Z)(c,o,i,!1,null,null,null),p=u.exports},7302:function(e,t,s){e.exports=s.p+"img/Android-store.80f925c3.svg"},3129:function(e,t,s){e.exports=s.p+"img/Apple-store.61ead695.svg"}}]);
//# sourceMappingURL=login.1689749380686.js.map