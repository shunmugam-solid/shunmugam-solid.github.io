{"version":3,"file":"9461.1704711859104.js","mappings":"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","sources":["webpack://Solid/./src/modules/contact/views/ContactDetailForm.vue?5c95","webpack://Solid/src/modules/contact/views/ContactDetailForm.vue","webpack://Solid/./src/modules/contact/views/ContactDetailForm.vue?7317","webpack://Solid/./src/modules/contact/views/ContactDetailForm.vue","webpack://Solid/./src/modules/contact/mixins/contact.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"widgetContainer bg-white contact-details-form\"},[_c('div',{staticClass:\"navigationHeader\"},[_c('div',{staticClass:\"navigationHeader__inner\"},[(_vm.page !== 'contact')?_c('span',{staticClass:\"icon-Arrow-big-left cancel\",on:{\"click\":_vm.back}}):_vm._e(),((this.getCreateContactData && this.getCreateContactData.id))?_c('span',{staticClass:\"icon-Arrow-big-left cancel\",on:{\"click\":_vm.cancel}}):_vm._e(),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t( _vm.getCreateContactData && _vm.getCreateContactData.id ? 'contact_details_EditTitle' : 'contact_Details_NavTitle' ))+\" \")]),(_vm.page === 'contact')?_c('span',{staticClass:\"el-icon-close\",on:{\"click\":_vm.drawerClose}}):_vm._e()])]),_c('div',{staticClass:\"widgetContainer__body\"},[_c('el-form',{ref:\"contactDetail\",staticClass:\"wise-form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{staticClass:\"is-no-asterisk\",attrs:{\"prop\":\"name\",\"label\":_vm.$t('contact_Details_Name')}},[_c('el-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('el-form-item',{staticClass:\"is-no-asterisk\",attrs:{\"prop\":\"phone\",\"label\":_vm.$t('contact_Details_Phone')}},[_c('vue-tel-input',_vm._b({on:{\"validate\":_vm.mobileNumberUpdate},model:{value:(_vm.formData.phone),callback:function ($$v) {_vm.$set(_vm.formData, \"phone\", $$v)},expression:\"formData.phone\"}},'vue-tel-input',_vm.inputProps,false))],1),_c('el-form-item',{staticClass:\"is-no-asterisk\",attrs:{\"prop\":\"email\",\"label\":_vm.$t('contact_Details_Email')}},[_c('el-input',{model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}})],1)],1)],1),_c('div',{staticClass:\"el-drawer__footer\"},[_c('el-button',{staticClass:\"width-100 el-button__brand brand contact-details-form__done-btn\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.isFormValid},on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\" \"+_vm._s(_vm.$t('contact_Details_NavRightButton_Title'))+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"widgetContainer bg-white contact-details-form\">\n    <div class=\"navigationHeader\">\n      <div class=\"navigationHeader__inner\">\n        <span v-if=\"page !== 'contact'\" class=\"icon-Arrow-big-left cancel\" @click=\"back\" />\n        <span class=\"icon-Arrow-big-left cancel\" @click=\"cancel\" v-if=\"(this.getCreateContactData && this.getCreateContactData.id)\" />\n        <p class=\"title\">\n          {{\n            $t(\n              getCreateContactData && getCreateContactData.id\n                ? 'contact_details_EditTitle'\n                : 'contact_Details_NavTitle'\n            )\n          }}\n        </p>\n        <span v-if=\"page === 'contact'\" class=\"el-icon-close\" @click=\"drawerClose\" />\n      </div>\n    </div>\n\n    <div class=\"widgetContainer__body\">\n      <el-form\n        class=\"wise-form\"\n        ref=\"contactDetail\"\n        :model=\"formData\"\n        :rules=\"formRules\">\n        <el-form-item\n          class=\"is-no-asterisk\"\n          prop=\"name\"\n          :label=\"$t('contact_Details_Name')\">\n          <el-input v-model=\"formData.name\" />\n        </el-form-item>\n        <el-form-item\n          class=\"is-no-asterisk\"\n          prop=\"phone\"\n          :label=\"$t('contact_Details_Phone')\">\n          <vue-tel-input\n            v-model=\"formData.phone\"\n            @validate=\"mobileNumberUpdate\"\n            v-bind=\"inputProps\" />\n        </el-form-item>\n        <el-form-item\n          class=\"is-no-asterisk\"\n          prop=\"email\"\n          :label=\"$t('contact_Details_Email')\">\n          <el-input v-model=\"formData.email\" />\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"el-drawer__footer\">\n      <el-button\n        type=\"primary\"\n        :disabled=\"!isFormValid\"\n        @click=\"next()\"\n        class=\"width-100 el-button__brand brand contact-details-form__done-btn\">\n        {{ $t('contact_Details_NavRightButton_Title') }}\n      </el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport Vue from 'vue';\nimport VueTelInput from 'vue-tel-input';\nimport 'vue-tel-input/dist/vue-tel-input.css';\nimport ContactMixin from '../mixins/contact';\nimport { mapMutations, mapGetters, mapActions } from 'vuex';\nVue.use(VueTelInput);\nexport default {\n  name: 'ContactDetailForm',\n  mixins: [ContactMixin],\n  props: {\n    page: {\n      type: String,\n      default: 'contact'\n    }\n  },\n  data() {\n    return {\n      formData: {\n        name: '',\n        phone: '',\n        email: ''\n      },\n      isPhoneNumberValid: false,\n      inputProps: {\n        defaultCountry: 'US',\n        placeholder: '',\n        mode: 'international',\n        inputOptions: {\n          showDialCode: true,\n          autofocus: true,\n          required: true,\n          styleClasses: ['el-input__inner', 'mobile_number']\n        },\n        disabledFormatting: false,\n        wrapperClasses: 'el-input',\n        validCharactersOnly: true\n      },\n      formRules: {\n        name: [\n          {\n            required: true,\n            message: this.$t('businessNameOrFullNameRequired'),\n            trigger: 'blur'\n          }\n        ],\n        email: [\n          {\n            type: 'email',\n            message: this.$t('emailInvalid'),\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  },\n  computed: {\n    ...mapGetters('contact', ['getCreateContactData']),\n    isFormValid() {\n      return this.formData.name !== '' && (this.formData.phone === '' ||  this.isPhoneNumberValid);\n    }\n  },\n  created() {\n    if (this.getCreateContactData) {\n      this.formData = {\n        name: this.getCreateContactData.name,\n        phone: this.getCreateContactData.phone,\n        email: this.getCreateContactData.email\n      };\n      if(this.getCreateContactData.phone) {\n        this.isPhoneNumberValid = true;\n      }\n    }\n  },\n  methods: {\n    ...mapMutations('contact', [\n      'updateCreateContactData',\n      'updateSelectedContactData'\n    ]),\n    ...mapActions('contact', ['createContact', 'updateContact']),\n    mobileNumberUpdate(v) {\n      this.isPhoneNumberValid = v.valid;\n    },\n    next() {\n      this.$refs.contactDetail.validate((valid) => {\n        if (!valid) return;\n\n        const data = this.getCreateContactData || {};\n        this.updateCreateContactData({ ...data, ...this.formData });\n\n        let action = 'createContact';\n        if (data.id) {\n          action = 'updateContact';\n        }\n\n        const fdata = this.formData;\n        fdata.phone = fdata.phone.replace(/\\s/g, '');\n        const loader = this.showLoader();\n        this[action]({\n          ...data,\n          ...fdata,\n          accountId: this.getSelectedAccount.id\n        })\n          .then((res) => {\n            this.updateCreateContactData(res);\n            this.updateSelectedContactData(res);\n            if (action === 'createContact') {\n              setTimeout(() => {\n                if(this.page === 'contact' || this.page === 'send-card') {\n                  this.drawerPush('contact-success');\n                } else {\n                  this.drawerReplace('contact-success');\n                }\n                // this.$router.replace('/contact/success');\n              }, 0);\n            } else {\n              this.$emit('fetchContacts');\n              this.drawerBack();\n              //this.goToPreviousScreen();\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n            this.apiErrorMessage(e);\n          })\n          .finally(() => {\n            loader.close();\n          });\n      });\n    },\n    cancel() {\n      if (this.getCreateContactData && this.getCreateContactData.id) {\n        //this.$router.push('/contact/details');\n        this.drawerPush('details');\n      } else {\n        this.drawerClose();\n        // this.goToPreviousScreen();\n      }\n    },\n    back() {\n      if(this.page === 'send-card') {\n        this.drawerReplace('sendCard-contacts');\n      } else {\n        this.drawerReplace('CheckDeposit-contacts');\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.contact-details-form {\n  &__footer {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    background-color: white;\n    padding: 16px;\n    border-top: 1px solid #eeeeee;\n  }\n  &__done-btn {\n    &.is-disabled{\n      opacity: 0.5;\n    }\n    width: 100%;\n  }\n}\n</style>\n<style lang=\"scss\">\n.contact-details-form {\n  .vue-tel-input {\n    width: 100%;\n    border-color: #edeff1;\n  }\n  .vue-tel-input:focus-within {\n    outline: none;\n    border-color: #141414;\n    box-shadow: none;\n  }\n  .vti__dropdown {\n    margin: 5px 0 5px 5px;\n    padding: 0 5px;\n    background: #f6f7f9;\n  }\n  .vti__selection {\n    height: 38px;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContactDetailForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContactDetailForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactDetailForm.vue?vue&type=template&id=5939122e&scoped=true&\"\nimport script from \"./ContactDetailForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactDetailForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactDetailForm.vue?vue&type=style&index=0&id=5939122e&prod&lang=scss&scoped=true&\"\nimport style1 from \"./ContactDetailForm.vue?vue&type=style&index=1&id=5939122e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5939122e\",\n  null\n  \n)\n\nexport default component.exports","import { mapGetters } from 'vuex';\nexport default {\n  computed: {\n    ...mapGetters('kyb', ['getSelectedBusiness']),\n    ...mapGetters('account', ['getSelectedAccount'])\n  },\n  created() {\n    if (!this.getSelectedAccount) {\n      this.goToWelcomeScreen();\n    }\n  }\n};\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","page","on","back","_e","getCreateContactData","id","cancel","_v","_s","$t","drawerClose","ref","attrs","formData","formRules","model","value","callback","$$v","$set","expression","_b","mobileNumberUpdate","inputProps","isFormValid","$event","next","staticRenderFns","Vue","name","mixins","props","type","default","data","phone","email","isPhoneNumberValid","defaultCountry","placeholder","mode","inputOptions","showDialCode","autofocus","required","styleClasses","disabledFormatting","wrapperClasses","validCharactersOnly","message","trigger","computed","created","methods","action","fdata","accountId","then","res","setTimeout","catch","e","console","finally","loader","component","mapGetters","getSelectedAccount","goToWelcomeScreen"],"sourceRoot":""}