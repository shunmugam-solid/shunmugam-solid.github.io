"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[752],{752:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widgetContainer contactList full-width"},["contact"!==t.type?a("div",{staticClass:"navigationHeader"},[a("div",{staticClass:"navigationHeader__inner"},[a("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:t.back}}),a("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("cotacts_list_title"))+" ")])])]):t._e(),a("div",{staticClass:"widgetContainer__body"},["contact"===t.type?a("p",{staticClass:"header-1"},[t._v(" "+t._s(t.$t("cotacts_list_title"))+" ")]):t._e(),a("div",{staticClass:"contactList__search-add"},[a("div",{staticClass:"searchInput"},[a("el-input",{attrs:{type:"text",placeholder:t.$t("cotacts_list_seach_placeholder"),clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("span",{staticClass:"icon-icon-search"})],1),a("div",{staticClass:"add",on:{click:t.newContact}},[a("p",[a("span",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("cotacts_list_addContact")))])])]),t.insidedrawer?a("Contacts",{ref:"contacts",attrs:{type:t.type,searchterm:t.searchterm},on:{onContactClick:t.onContactClick}}):a("Contacts",{ref:"contacts",attrs:{type:t.type,searchterm:t.searchterm}})],1)])},n=[],i=a(1712),c=a(6895),o=a(3520),l={name:"ContactList",mixins:[c.Z],props:{type:{type:String,default:"contact"}},components:{Contacts:o.Z},data(){return{search:null,searchterm:null,insidedrawer:!1}},created(){this.$listeners.onContactClick&&(this.insidedrawer=!0)},methods:{newContact(){this.$refs.contacts.updateSelectedContactData(null),this.$refs.contacts.updateCreateContactData(null),"contact"===this.type?this.$refs.contacts.openContactDetails():this.$emit("newContact")},addAccount(){this.$router.push("/account/create")},back(){"check-deposit"===this.type||"send-card"===this.type?this.$emit("back"):this.goToDashboard()},onContactClick(t){this.$listeners.onContactClick&&this.$emit("onContactClick",t)}},watch:{search:(0,i.Ds)((function(){this.searchterm=this.search.trim()}),1e3)}},r=l,d=a(3736),h=(0,d.Z)(r,s,n,!1,null,null,null),u=h.exports},3520:function(t,e,a){a.d(e,{Z:function(){return b}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"list"===t.layout?a("div",{staticClass:"contacts"},[t.loading&&1===t.page?a("SkeletonListContact",{attrs:{count:3,title:"Contacts"}}):[0!==t.contacts.length?a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"widgetContainer__body widgetContainer--scrollable",attrs:{"infinite-scroll-disabled":t.disabledLoadMore,"infinite-scroll-immediate":!1}},[a("p",{staticClass:"header-3"},[t._v(" "+t._s(t.$t("cotacts_list_header"))+" ")]),a("ul",t._l(t.contacts,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.viewDetails(e)}}},[a("div",{staticClass:"initialsInfoContact initialCaps"},[a("span",[t._v(t._s(t.getShortName(e)))])]),a("div",{staticClass:"details"},[a("p",{staticClass:"name initialCaps"},[t._v(" "+t._s(e.name)+" ")]),a("p",{staticClass:"date initialCaps"},[t._v(" "+t._s(e.lastName)+" ")])]),a("span",{staticClass:"icon-Arrow-small-right icon"})])})),0),t.loading&&1!==t.page?a("div",{staticClass:"infinite-loading"},[a("p",[t._v("Loading...")])]):t._e()]):a("div",{staticClass:"noData"},[a("p",[t._v(" "+t._s(t.$t("no_contact"))+" ")])])],"contact"===t.type&&t.contactDetailsDialog?a("Drawer",{staticClass:"default-drawer",attrs:{components:t.contactDetailsRoutes,show:t.contactDetailsDialog},on:{"update:show":function(e){t.contactDetailsDialog=e}}}):t._e()],2):0!==t.contacts.length?a("div",[t.loading?a("SkeletonListContactSmall",{attrs:{count:6,title:"Contacts"}}):a("div",{staticClass:"dashboard_contacts"},[a("div",{staticClass:"header"},[a("p",{staticClass:"header-1"},[t._v(" "+t._s(t.$t("contact_header"))+" ")]),a("div",{staticClass:"go-to",on:{click:t.viewAll}},[t._v(" "+t._s(t.$t("dashboard_section_viewAll"))+" "),a("span",{staticClass:"icon-Arrow-small-right"})])]),a("ul",{staticClass:"contacts__grid"},t._l(t.contacts,(function(e){return a("li",{key:e.id,staticClass:"contact__card",on:{click:function(a){return t.viewDetails(e)}}},[a("span",{staticClass:"contact__card--short"},[t._v(" "+t._s(t.getShortName(e))+" ")]),a("span",{staticClass:"contact__card--full"},[t._v(" "+t._s(e.name)+" "+t._s(e.lastName)+" ")])])})),0),t.contactDetailsDialog?a("Drawer",{staticClass:"default-drawer",attrs:{components:t.contactDetailsRoutes,show:t.contactDetailsDialog},on:{"update:show":function(e){t.contactDetailsDialog=e}}}):t._e()],1)],1):t._e()},n=[],i=a(629),c=a(6895),o=a(1812),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"skeleton-list-contact__normal"},[t.title?a("p",{staticClass:"header-3"},[t._v(" "+t._s(t.title)+" ")]):t._e(),a("el-skeleton",{attrs:{animated:!0,count:t.count}},[a("template",{slot:"template"},[a("div",{staticClass:"content"},[a("el-skeleton-item",{attrs:{variant:"rect"}}),a("el-skeleton-item",{attrs:{variant:"p"}})],1)])],2)],1)},r=[],d={props:{animated:{type:Boolean,required:!1,default:!0},title:{type:String,default:null,required:!1},count:{type:Number,default:null,required:!1}}},h=d,u=a(3736),p=(0,u.Z)(h,l,r,!1,null,null,null),m=p.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"skeleton-list-contact__small"},[t.title?a("p",{staticClass:"header-1"},[t._v(" "+t._s(t.title)+" ")]):t._e(),a("el-skeleton",{attrs:{animated:!0,count:t.count}},[a("template",{slot:"template"},[a("div",{staticClass:"content"},[a("el-skeleton-item",{attrs:{variant:"rect"}}),a("el-skeleton-item",{attrs:{variant:"p"}})],1)])],2)],1)},_=[],g={props:{animated:{type:Boolean,required:!1,default:!0},title:{type:String,default:null,required:!1},count:{type:Number,default:null,required:!1}}},f=g,v=(0,u.Z)(f,C,_,!1,null,null,null),D=v.exports,w={name:"ContactList",mixins:[c.Z],props:{type:{type:String,default:"contact"},searchterm:{type:String,default:null},initialCall:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},layout:{type:String,default:"list"}},components:{Drawer:o.Z,SkeletonListContact:m,SkeletonListContactSmall:D},data(){return{contactDetailsDialog:!1,loading:!0,page:1,limit:25,persistItemCount:0,contactDetailsRoutes:[{name:"details",component:()=>a.e(6514).then(a.bind(a,6514)),default:!0,data:{},methods:{fetchContacts:this.getData}},{name:"paymentType",component:()=>a.e(2367).then(a.bind(a,2367))},{name:"intraBank",component:()=>a.e(5789).then(a.bind(a,5789))},{name:"ach",component:()=>a.e(5053).then(a.bind(a,5053))},{name:"check",component:()=>a.e(8408).then(a.bind(a,8408))},{name:"domestic-wire-address",component:()=>a.e(4695).then(a.bind(a,4695))},{name:"domestic-wire-account",component:()=>a.e(1150).then(a.bind(a,1150))},{name:"card-payment",component:()=>Promise.all([a.e(653),a.e(1733)]).then(a.bind(a,1733))},{name:"pay-success",component:()=>Promise.all([a.e(6537),a.e(3083)]).then(a.bind(a,3083)),methods:{onPay:()=>{this.$emit("onPay")}}},{name:"edit-contact",component:()=>Promise.all([a.e(653),a.e(3006)]).then(a.bind(a,3006)),methods:{fetchContacts:this.getUpdatedData}},{name:"add-contact",component:()=>Promise.all([a.e(653),a.e(3006)]).then(a.bind(a,3006))},{name:"contact-success",component:()=>Promise.all([a.e(6537),a.e(6420)]).then(a.bind(a,6420)),methods:{fetchContacts:this.getUpdatedData,openContactDeatilsDrawer:this.openContactDeatilsDrawer}}]}},created(){this.initialCall&&this.getData()},computed:{...(0,i.Se)("contact",["getContacts","getCreateContactData"]),contacts(){const t=this.getContacts.data;return t.length&&t.sort(((t,e)=>t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0)),t},disabledLoadMore(){return!1===this.pagination||!0===this.loading||this.getContacts.total<=this.page*this.limit}},methods:{...(0,i.nv)("contact",["listAllContacts"]),...(0,i.OI)("contact",["updateSelectedContactData","updateCreateContactData"]),viewDetails(t){this.$listeners.onContactClick?this.$emit("onContactClick",t):(this.updateSelectedContactData(t),this.contactDetailsRoutes=this.contactDetailsRoutes.map((t=>(t.default="details"===t.name,t))),setTimeout((()=>{this.contactDetailsDialog=!0}),0))},getData(){this.loading=!0;let t=this.limit,e=(this.page-1)*this.limit;this.persistItemCount>0&&(t=this.persistItemCount,e=0),this.listAllContacts({accountId:this.getSelectedAccount.id,limit:t,offset:e,query:this.searchterm}).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{this.loading=!1,this.persistItemCount=0}))},getUpdatedData(){this.persistItemCount=this.page*this.limit,this.getData()},openContactDeatilsDrawer(){this.viewDetails(this.getCreateContactData)},load(){!1===this.loading&&this.getContacts.total>this.page*this.limit&&(this.page++,this.getData())},openContactDetails(){this.contactDetailsRoutes=this.contactDetailsRoutes.map((t=>(t.default="add-contact"===t.name,t))),setTimeout((()=>{this.contactDetailsDialog=!0}),0)},viewAll(){this.$router.push("/contact/list")},getShortName(t){const[e,a]=t.name.split(" ");let s=e.charAt(0);return s+=a?a.charAt(0):e.charAt(1)||"",s}},watch:{getSelectedAccount(t,e){t&&e&&t.id!==e.id&&this.getData()},searchterm(t,e){t!==e&&(this.page=1,this.getData())}}},y=w,k=(0,u.Z)(y,s,n,!1,null,null,null),b=k.exports},6895:function(t,e,a){var s=a(629);e["Z"]={computed:{...(0,s.Se)("kyb",["getSelectedBusiness"]),...(0,s.Se)("account",["getSelectedAccount"])},created(){this.getSelectedAccount||this.goToWelcomeScreen()}}}}]);
//# sourceMappingURL=752.1689751251178.js.map