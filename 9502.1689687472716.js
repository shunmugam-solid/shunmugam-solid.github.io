"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[9502],{9502:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"widgetContainer widgetContainer--center widgetContainer--scrollable yourOwnership"},[s("div",{staticClass:"navigationHeader"},[s("div",{staticClass:"navigationHeader__inner"},[s("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:e.goToPreviousScreen}}),s("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("addOwnerPercentage_NavTitle"))+" ")])])]),s("div",{staticClass:"widgetContainer__body"},[s("el-form",{staticClass:"wise-form",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()},submit:function(e){e.preventDefault()}},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[e._e(),e.greaterThan25?s("el-form-item",{staticClass:"is-no-asterisk column-input",attrs:{prop:"percentage",label:e.$t("additionalOwnerPercentage_TextField_Descriptions")}},[e.greaterThan25?s("el-input",{staticClass:"is-no-asterisk",attrs:{type:"number",maxlength:"3"},model:{value:e.formData.percentage,callback:function(t){e.$set(e.formData,"percentage",t)},expression:"formData.percentage"}}):e._e()],1):e._e(),s("p",{staticClass:"yourOwnership__verify-description wise-form__info"},[e._v(" "+e._s(e.$t("addOwnerPercentage_Descriptions"))+" ")])],1)],1),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"el-button__brand brand",attrs:{type:"primary",disabled:e.isFormInValid},on:{click:e.submit}},[e._v(" "+e._s(e.$t("addOwnerPercentage_NextButton"))+" ")])],1)])])},a=[],n=s(629),r=s(1956),o={name:"OwnerOwnership",mixins:[r.Z],data(){return{formData:{percentage:null},greaterThan25:!0,ownerDetails:null}},computed:{...(0,n.Se)("kyb",["getCreatePageOwnersDetail","getOwnersDetails"]),isFormInValid(){const e=parseInt(this.formData.percentage);return!!this.greaterThan25&&!(e>=25&&e<=100&&this.totalOwnerShip+e<=100)},totalOwnerShip(){let e=0;return this.getOwnersDetails.forEach((t=>{e+=parseInt(t.ownership)})),e}},created(){null===this.getCreatePageOwnersDetail&&this.$router.push("/kyb/ownersList")},methods:{...(0,n.nv)("kyb",["createOwner","submitOwnerKyc"]),...(0,n.OI)("kyb",["setCreatePageOwnerDetails"]),submit(){if(this.isFormInValid)return;this.greaterThan25||(this.formData.percentage=0);const e=this.getCreatePageOwnersDetail;if(e){e.ownership=this.formData.percentage,e.title="other";const t=this.showLoader();this.createOwner(e).then((e=>{this.setCreatePageOwnerDetails(null),setTimeout((()=>{this.ownerKyc(e.id)}),0)})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{t.close()}))}},ownerKyc(e){const t=this.showLoader();this.submitOwnerKyc(e).then((()=>{setTimeout((()=>{this.$router.push("/kyb/ownersList")}),0)})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{t.close()}))}}},l=o,c=s(3736),u=(0,c.Z)(l,i,a,!1,null,null,null),h=u.exports},1956:function(e,t,s){var i=s(629);t["Z"]={computed:{...(0,i.Se)("kyb",["getSelectedBusiness"])},methods:{...(0,i.nv)("kyb",["fetchAllOwners","listAllBusiness","updateOwner"]),...(0,i.OI)("kyb",["setSelectedBusiness"])},created(){const e=this.getSelectedBusiness;if(e)this.afterBusiness&&"function"===typeof this.afterBusiness&&this.afterBusiness(e);else{const e=this.showLoader();this.listAllBusiness().then((e=>{if(0!==e.total){const t=e.data;this.setSelectedBusiness(t[0]),this.afterBusiness&&"function"===typeof this.afterBusiness&&setTimeout((()=>{this.afterBusiness(t[0])}),0)}})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{e.close()}))}}}}}]);
//# sourceMappingURL=9502.1689687472716.js.map