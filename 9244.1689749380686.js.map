{"version":3,"file":"9244.1689749380686.js","mappings":"uJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,OAAO,CAACE,YAAY,6BAA6BC,GAAG,CAAC,MAAQP,EAAIQ,cAAcJ,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,aAAa,WAAWP,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAAGN,EAAIY,eAA+H,IAAnBZ,EAAIa,KAAKC,MAAaV,EAAG,MAAM,CAACW,WAAW,CAAC,CAACC,KAAK,kBAAkBC,QAAQ,oBAAoBC,MAAOlB,EAAQ,KAAEmB,WAAW,SAASb,YAAY,8BAA8Bc,MAAM,CAAC,2BAA2BpB,EAAIqB,iBAAiB,6BAA4B,IAAQ,CAACjB,EAAG,KAAK,CAACE,YAAY,YAAYN,EAAIsB,GAAItB,EAAIa,KAAS,MAAE,SAASU,GAAK,OAAOnB,EAAG,KAAK,CAACoB,IAAID,EAAIE,GAAGnB,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACJ,EAAIS,GAAGT,EAAIU,GAAGa,EAAIP,KAAKU,OAAO,SAAStB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGa,EAAIP,MAAM,OAAOZ,EAAG,IAAI,CAACE,YAAY,2BAA2B,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGa,EAAII,aAAa,UAAU,IAAG,GAAI3B,EAAI4B,SAAwB,IAAb5B,EAAI6B,KAAYzB,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACJ,EAAIS,GAAG,kBAAkBT,EAAI8B,OAAO1B,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,WAAW,SAAx+BP,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,gCAAs7B,EACn9CoB,EAAkB,G,SCsDtB,GACAf,KAAAA,UACAgB,OACA,OACAC,IAAAA,KACAC,KAAAA,KACAL,KAAAA,EACAM,MAAAA,IACAP,SAAAA,EACAhB,gBAAAA,EACAC,KAAAA,CACAmB,KAAAA,GACAlB,MAAAA,GAGA,EACAsB,UACA,0BACA,0BACAC,UAAAA,YAAAA,oBAAAA,IACA,qDACA,2BACA,6BACA,uBACAC,EAAAA,QACA,iBACA,IACAC,IACAC,QAAAA,IAAAA,GACA,uBACAF,EAAAA,OAAAA,GAEA,MACA,uBACA,sDACAE,QAAAA,IAAAA,EACA,CACA,EACAC,SAAAA,KACA,oCACApB,mBACA,OACA,kBACA,qCAEA,GAEAqB,QAAAA,KACA,gCACAC,YACA,0BACA,kBACAC,OAAAA,KAAAA,gBAAAA,GACAX,IAAAA,KAAAA,IACAC,KAAAA,KAAAA,KAGAC,MAAAA,KAAAA,MACAN,KAAAA,KAAAA,OACAgB,MAAAhC,IACA,cACA,YAEA,8BACA,IACAiC,SAAA,KACAR,EAAAA,OAAAA,GAEA,EACAS,QAEA,kBACA,uCAEA,YACA,iBAEA,ICpIuS,I,UCQnSC,GAAY,OACd,EACAjD,EACAgC,GACA,EACA,KACA,KACA,MAIF,EAAeiB,EAAiB,O","sources":["webpack://Solid/./src/modules/card/views/FindATM.vue?9466","webpack://Solid/src/modules/card/views/FindATM.vue","webpack://Solid/./src/modules/card/views/FindATM.vue?7f8b","webpack://Solid/./src/modules/card/views/FindATM.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"widgetContainer cardDetails bg-white\"},[_c('div',{staticClass:\"navigationHeader\"},[_c('div',{staticClass:\"navigationHeader__inner\"},[_c('span',{staticClass:\"icon-Arrow-big-left cancel\",on:{\"click\":_vm.drawerBack}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('ATM_list'))+\" \")])])]),_c('div',{staticClass:\"widgetContainer__body\"},[(!_vm.havePermission)?_c('div',{staticClass:\"noData\"},[_c('p',[_vm._v(_vm._s(_vm.$t('location_permission')))])]):(_vm.atms.total !== 0)?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"widgetContainer--scrollable\",attrs:{\"infinite-scroll-disabled\":_vm.disabledLoadMore,\"infinite-scroll-immediate\":false}},[_c('ul',{staticClass:\"atm-list\"},_vm._l((_vm.atms.data),function(atm){return _c('li',{key:atm.id,staticClass:\"atm-list__item\"},[_c('div',{staticClass:\"initialsInfoContact initialCaps\"},[_c('span',[_vm._v(_vm._s(atm.name.charAt(0)))])]),_c('div',{staticClass:\"details\"},[_c('p',{staticClass:\"name initialCaps\"},[_vm._v(\" \"+_vm._s(atm.name)+\" \")]),_c('p',{staticClass:\"description initialCaps\"},[_vm._v(\" \"+_vm._s(atm.description)+\" \")])])])}),0),(_vm.loading && _vm.page !== 1)?_c('div',{staticClass:\"infinite-loading\"},[_c('p',[_vm._v(\"Loading...\")])]):_vm._e()]):_c('div',{staticClass:\"noData\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('no_ATM'))+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"widgetContainer cardDetails bg-white\">\n    <div class=\"navigationHeader\">\n      <div class=\"navigationHeader__inner\">\n        <span class=\"icon-Arrow-big-left cancel\" @click=\"drawerBack\" />\n        <p class=\"title\">\n          {{ $t('ATM_list') }}\n        </p>\n      </div>\n    </div>\n    \n    <div class=\"widgetContainer__body\">\n      <div v-if=\"!havePermission\"\n           class=\"noData\">\n        <p>{{ $t('location_permission') }}</p>\n      </div>\n      <div class=\"widgetContainer--scrollable\"\n           v-infinite-scroll=\"load\"\n           :infinite-scroll-disabled=\"disabledLoadMore\"\n           :infinite-scroll-immediate=\"false\"\n           v-else-if=\"atms.total !== 0\">\n        <ul class=\"atm-list\">\n          <li\n            class=\"atm-list__item\"\n            v-for=\"atm in atms.data\"\n            :key=\"atm.id\">\n            <div class=\"initialsInfoContact initialCaps\">\n              <span>{{ atm.name.charAt(0) }}</span>\n            </div>\n            <div class=\"details\">\n              <p class=\"name initialCaps\">\n                {{ atm.name }}\n              </p>\n              <p class=\"description initialCaps\">\n                {{ atm.description }}\n              </p>\n            </div>\n          </li>\n        </ul>\n        <div class=\"infinite-loading\"\n             v-if=\"loading && page !== 1\">\n          <p>Loading...</p>\n        </div>\n      </div>\n      <div class=\"noData\"\n           v-else>\n        <p>\n          {{ $t('no_ATM') }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nexport default {\n  name: 'FindATM',\n  data() {\n    return {\n      lat: null,\n      long: null,\n      page: 1,\n      limit: 100,\n      loading: false,\n      havePermission: false,\n      atms: {\n        data: [],\n        total: 0\n      }\n    }\n  },\n  created() {\n    if (navigator.geolocation) {\n      const loader = this.showLoader();\n      navigator.geolocation.getCurrentPosition((position) => {\n        if(position && position.coords && position.coords.latitude && position.coords.longitude) {\n          this.lat = position.coords.latitude;\n          this.long = position.coords.longitude;\n          this.havePermission = true;\n          loader.close();\n          this.fetchATMs();\n        }\n      }, (e) => {\n        console.log(e)\n        this.havePermission = false;\n        loader.close();\n      });\n    } else { \n      this.havePermission = false;\n      let m = 'Geolocation is not supported by this browser.';\n      console.log(m);\n    }\n  },\n  computed: {\n    ...mapGetters('card', ['getSelectedCard']),\n    disabledLoadMore() {\n      return (\n        this.loading === true ||\n        this.atms.total <= this.page * this.limit\n      );\n    }\n  },\n  methods: {\n    ...mapActions('card',['findNearATM']),\n    fetchATMs() {\n      const loader = this.showLoader();\n      this.findNearATM({\n        cardId: this.getSelectedCard.id,\n        lat: this.lat,\n        long: this.long,\n        // lat: '41.972424',\n        // long: '-87.660225',\n        limit: this.limit,\n        page: this.page\n      }).then((atms) => {\n        if(this.page === 1) {\n          this.atms = atms;\n        } else {\n          this.atms.data.push(...atms.data);\n        }\n      }).finally(() => {\n        loader.close();\n      })\n    },\n    load() {\n      if (\n        this.loading === false &&\n        this.atms.total > this.page * this.limit\n      ) {\n        this.page++;\n        this.fetchATMs();\n      }\n    },\n  }\n}\n</script>\n<style lang=\"scss\">\n.atm-list {\n    &__item {\n        display: flex;\n        column-gap: 10px;\n        margin-bottom: 15px;\n        border-bottom: 1px solid #c5c5c5;\n        padding-bottom: 15px;\n        .initialsInfoContact {\n        width: 40px;\n        min-width: 40px;\n        height: 40px;\n        }\n        .details {\n        .description {\n            font-size: 12px;\n            color: gray;\n            margin-top: 5px;\n        }\n        }\n    }\n    .details {\n      .description {\n        font-size: 12px;\n        color: gray;\n        margin-top: 5px;\n      }\n    }\n}\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FindATM.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FindATM.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FindATM.vue?vue&type=template&id=6a23c6ac&\"\nimport script from \"./FindATM.vue?vue&type=script&lang=js&\"\nexport * from \"./FindATM.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FindATM.vue?vue&type=style&index=0&id=6a23c6ac&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","drawerBack","_v","_s","$t","havePermission","atms","total","directives","name","rawName","value","expression","attrs","disabledLoadMore","_l","atm","key","id","charAt","description","loading","page","_e","staticRenderFns","data","lat","long","limit","created","navigator","loader","e","console","computed","methods","fetchATMs","cardId","then","finally","load","component"],"sourceRoot":""}