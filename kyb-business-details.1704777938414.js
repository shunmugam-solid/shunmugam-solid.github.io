(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[8902],{6327:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"widgetContainer widgetContainer--center widgetContainer--scrollable businessDetails"},[s("div",{staticClass:"navigationHeader"},[s("div",{staticClass:"navigationHeader__inner"},[!0===e.$businessChecking&&!0===e.$personalChecking?s("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:e.back}}):s("span",[e._v(" ")]),s("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("kyb_NavTitle"))+" ")])])]),s("div",{staticClass:"widgetContainer__body"},[s("el-form",{ref:"businessForm",staticClass:"wise-form",attrs:{model:e.business,rules:e.formRules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()},submit:function(e){e.preventDefault()}}},[s("el-form-item",{staticClass:"is-no-asterisk",attrs:{prop:"legalName",label:e.$t("businessName")}},[s("el-input",{model:{value:e.business.legalName,callback:function(t){e.$set(e.business,"legalName",t)},expression:"business.legalName"}})],1),s("el-form-item",{staticClass:"is-no-asterisk",attrs:{prop:"dba",label:e.$t("dbaName")}},[s("el-input",{attrs:{type:"dba"},model:{value:e.business.dba,callback:function(t){e.$set(e.business,"dba",t)},expression:"business.dba"}})],1),s("el-form-item",{staticClass:"is-no-asterisk column-input",attrs:{prop:"entityType",label:e.$t("entityType")}},[s("el-select",{staticClass:"form-control1 role-select",attrs:{required:""},model:{value:e.business.entityType,callback:function(t){e.$set(e.business,"entityType",t)},expression:"business.entityType"}},e._l(e.entityTypes,(function(e){return s("el-option",{key:e.key,attrs:{value:e.key,label:e.label}})})),1)],1),s("el-form-item",{staticClass:"is-no-asterisk column-input",attrs:{required:"",prop:"idNumber",label:e.$t("ein")}},[s("EINInput",{attrs:{autofocus:!1},model:{value:e.business.idNumber,callback:function(t){e.$set(e.business,"idNumber",t)},expression:"business.idNumber"}}),s("p",{staticClass:"wise-form__info"},[e._v(" "+e._s(e.$t("ein_Message"))+" ")])],1),s("el-form-item",{staticClass:"is-no-asterisk column-input naicsCode",attrs:{required:"",prop:"naicsCode",label:e.$t("naicsCode")}},[s("div",{staticClass:"naicsCode-label",attrs:{slot:"label"},slot:"label"},[s("span",[e._v(e._s(e.$t("naicsCode")))]),s("span",[e._v(e._s(e.business.naicsCode))])]),s("i18n",{staticClass:"wise-form__info",attrs:{path:"naicsHint",tag:"p"},scopedSlots:e._u([{key:"url",fn:function(){return[e._v("  "),s("a",{attrs:{href:"https://www.census.gov/naics/",target:"_blank"}},[e._v(e._s(e.$t("naicsHintUrl")))])]},proxy:!0}])}),s("naics-code-input",{attrs:{data:e.getNacisCodeData},on:{change:function(t){return e.business.naicsCode=t}},model:{value:e.business.naicsCode,callback:function(t){e.$set(e.business,"naicsCode",t)},expression:"business.naicsCode"}})],1)],1),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"el-button__brand brand",attrs:{type:"primary",disabled:e.isFormValid},on:{click:function(t){return e.submitForm()}}},[e._v(" "+e._s(e.$t("kyb_NavRightButton_Title"))+" ")])],1)],1)])},a=[],i=s(629),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-input"},[s("the-mask",{ref:"einNumber",staticClass:"el-input__inner",attrs:{mask:"##-#######",type:"tel",autocomplete:"off",name:"ein",masked:!0,value:e.value},nativeOn:{input:function(t){return e.updateInput(t)}}})],1)},l=[],o=s(2982),u={components:{TheMask:o.TheMask},props:{value:{type:String,default:""},autofocus:{type:Boolean,default:!1}},mounted(){this.autofocus&&this.$refs.einNumber.$el.focus()},methods:{updateInput(e){let t=e.target.value;t?this.$emit("input",t.replace(/\D+/g,"")):this.$emit("input",null)}}},c=u,d=s(3736),p=(0,d.Z)(c,r,l,!1,null,"f0a3f888",null),f=p.exports,h=s(6265),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"naics-code"},[s("el-select",{staticClass:"form-control",attrs:{placeholder:e.$t("select business sector"),value:e.selectedSector},on:{change:e.handleSectorChange},model:{value:e.selectedSector,callback:function(t){e.selectedSector=t},expression:"selectedSector"}},e._l(e.data,(function(t){return s("el-option",{key:t.code,attrs:{label:t.name,value:t.code}},[s("div",{staticClass:"option-grid"},[s("div",{staticClass:"title",attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"value"},[e._v(" "+e._s(t.code)+" ")])])])})),1),s("el-select",{staticClass:"form-control",attrs:{placeholder:e.$t("Select industry group"),value:e.selectedSector},on:{change:e.handleIndustryChange},model:{value:e.selectedIndustry,callback:function(t){e.selectedIndustry=t},expression:"selectedIndustry"}},[e.selectedSectorData?e._l(e.selectedSectorData.industries,(function(t){return s("el-option",{key:t.code,attrs:{label:t.name,value:t.code}},[s("div",{staticClass:"option-grid"},[s("div",{staticClass:"title",attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"value"},[e._v(" "+e._s(t.code)+" ")])])])})):e._e()],2),s("el-select",{staticClass:"form-control",attrs:{placeholder:e.$t("Select national industry"),value:e.selectedSector},on:{change:e.handleNationalIndustryChange},model:{value:e.selectedNationalIndustry,callback:function(t){e.selectedNationalIndustry=t},expression:"selectedNationalIndustry"}},[e.selectedIndustryData?e._l(e.selectedIndustryData.nationalIndustries,(function(t){return s("el-option",{key:t.code,attrs:{label:t.name,value:t.code}},[s("div",{staticClass:"option-grid"},[s("div",{staticClass:"title",attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"value"},[e._v(" "+e._s(t.code)+" ")])])])})):e._e()],2)],1)},v=[],b={props:{data:{type:Array},value:{type:String,default:""}},data(){return{selectedSector:null,selectedIndustry:null,selectedNationalIndustry:null}},computed:{selectedSectorData(){return this.selectedSector&&this.data?this.data.find((e=>e.code===this.selectedSector)):null},selectedIndustryData(){return this.selectedIndustry&&this.selectedSectorData?this.selectedSectorData.industries.find((e=>e.code===this.selectedIndustry)):null}},methods:{updateValue(){if(console.log("this.value",this.value,this.data.length),0!==this.data.length&&this.value&&""!=this.value){const e=this.data;let t;console.log("this.value",this.value);for(let s=0;s<e.length;s++)for(let n=0;n<e[s].industries.length;n++)t=e[s].industries[n].nationalIndustries.find((e=>`${e.code}`===this.value)),t&&(this.selectedSector=e[s].code,this.selectedIndustry=e[s].industries[n].code,this.selectedNationalIndustry=t.code)}},handleSectorChange(e){this.selectedIndustry=null,this.selectedNationalIndustry=null,this.$emit("change",e+"XXXX")},handleIndustryChange(e){this.selectedNationalIndustry=null,this.$emit("change",e+"XX")},handleNationalIndustryChange(e){this.$emit("change",""+e)}},watch:{value(){this.updateValue()},data(){this.updateValue()}}},y=b,g=(0,d.Z)(y,m,v,!1,null,"856f8c5e",null),k=g.exports,C={name:"BusinessDetails",mixins:[h.Z],components:{EINInput:f,NaicsCodeInput:k},created(){if(console.log(this.$route.query.forceNew),"true"!=this.$route.query.forceNew){const e=this.getSelectedBusiness;if(console.log("selectedBusiness",e),e){const{legalName:t,entityType:s,dba:n,idNumber:a,idType:i,naicsCode:r}=e;this.business={legalName:t,entityType:s,dba:n,idNumber:a,idType:i,naicsCode:r}}else{const e=this.showLoader();this.listAllBusiness().then((e=>{if(0!==e.total){const t=e.data;this.setSelectedBusiness(t[0])}})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{e.close()}))}}const e=this.showLoader();this.fetchNaicsCodeData().finally((()=>{e.close()}))},computed:{...(0,i.Se)("kyb",["getSelectedBusiness","getNacisCodeData"]),...(0,i.Se)("user",["getPersonDetails"]),...(0,i.Se)("account",["getAllAccount"]),isFormValid(){return!(this.business.legalName&&this.business.entityType&&this.business.idNumber&&9===this.business.idNumber.length&&this.business.naicsCode.length>=6&&!this.business.naicsCode.includes("X"))}},data(){return{business:{legalName:"",entityType:"",dba:"",idNumber:"",idType:"ein",naicsCode:""},formRules:{legalName:[{required:!0,message:"Legal Name is required"}],entityType:[{required:!0,message:"Entity type is required"}],idNumber:[{required:!0,message:"EIN is required"}]},entityTypes:[{key:"soleProprietor",label:"Sole Proprietor"},{key:"singleMemberLLC",label:"Single Member LLC"},{key:"limitedLiabilityCompany",label:"Limited Liability Company"},{key:"generalPartnership",label:"General Partnership"},{key:"unlistedCorporation",label:"Unlisted Corporation"},{key:"publiclyTradedCorporation",label:"Publicly Traded Corporation"},{key:"association",label:"Association"},{key:"nonProfit",label:"Non Profit"},{key:"governmentOrganization",label:"Government Organization"},{key:"revocableTrust",label:"Revocable Trust"},{key:"irrevocableTrust",label:"Irrevocable Trust"},{key:"estate",label:"estate"}]}},methods:{...(0,i.nv)("kyb",["createBusiness","updateBusiness","listAllBusiness","fetchNaicsCodeData"]),...(0,i.OI)("kyb",["setSelectedBusiness"]),back(){!0===this.$businessChecking&&!0===this.$personalChecking?0!==this.getAllAccount.length?this.goToPreviousScreen():this.$router.push("/kyc/accountType"):this.logoutAndRedirect()},submitForm(){this.$refs.businessForm.validate((e=>{if(!e)return;const t=this.getSelectedBusiness,s=this.getPersonDetails;let n=["createBusiness"],a={...this.business,phone:s.phone,email:s.email};t&&"true"!=this.$route.query.forceNew&&(n=["updateBusiness"],a={businessId:t.id,business:{...this.business,phone:s.phone,email:s.email}});const i=this.showLoader();this[n](a).then((()=>{this.$router.push("/kyb/businessEtv")})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{i.close()}))}))}}},_=C,N=(0,d.Z)(_,n,a,!1,null,null,null),S=N.exports},6265:function(e,t,s){"use strict";var n=s(629);t["Z"]={methods:{...(0,n.OI)(["updateLogoutPopupStatus"]),...(0,n.nv)("user",["logout"]),logoutAndRedirect(){this.updateLogoutPopupStatus(!0)}}}},2982:function(e){(function(t,s){e.exports=s()})(0,(function(){return function(e){function t(n){if(s[n])return s[n].exports;var a=s[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var s={};return t.m=e,t.c=s,t.i=function(e){return e},t.d=function(e,s,n){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,s){"use strict";function n(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var a=s(2),i=s(0),r=s.n(i);t.a=function(e,t){var i=t.value;if((Array.isArray(i)||"string"==typeof i)&&(i={mask:i,tokens:r.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var l=e.getElementsByTagName("input");if(1!==l.length)throw new Error("v-mask directive requires 1 input, found "+l.length);e=l[0]}e.oninput=function(t){if(t.isTrusted){var r=e.selectionEnd,l=e.value[r-1];for(e.value=s.i(a.a)(e.value,i.mask,!0,i.tokens);r<e.value.length&&e.value.charAt(r-1)!==l;)r++;e===document.activeElement&&(e.setSelectionRange(r,r),setTimeout((function(){e.setSelectionRange(r,r)}),0)),e.dispatchEvent(n("input"))}};var o=s.i(a.a)(e.value,i.mask,!0,i.tokens);o!==e.value&&(e.value=o,e.dispatchEvent(n("input")))}},function(e,t,s){"use strict";var n=s(6),a=s(5);t.a=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];return Array.isArray(t)?s.i(a.a)(n.a,t,r)(e,t,i,r):s.i(n.a)(e,t,i,r)}},function(e,t,s){"use strict";function n(e){e.component(o.a.name,o.a),e.directive("mask",r.a)}Object.defineProperty(t,"__esModule",{value:!0});var a=s(0),i=s.n(a),r=s(1),l=s(7),o=s.n(l);s.d(t,"TheMask",(function(){return o.a})),s.d(t,"mask",(function(){return r.a})),s.d(t,"tokens",(function(){return i.a})),s.d(t,"version",(function(){return u}));var u="0.11.1";t.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),a=s(0),i=s.n(a),r=s(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return i.a}}},directives:{mask:n.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=s.i(r.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,s){"use strict";function n(e,t,s){return t=t.sort((function(e,t){return e.length-t.length})),function(n,a){for(var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;r<t.length;){var l=t[r];r++;var o=t[r];if(!(o&&e(n,o,!0,s).length>l.length))return e(n,l,i,s)}return""}}t.a=n},function(e,t,s){"use strict";function n(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3];e=e||"",t=t||"";for(var a=0,i=0,r="";a<t.length&&i<e.length;){var l=t[a],o=n[l],u=e[i];o&&!o.escape?(o.pattern.test(u)&&(r+=o.transform?o.transform(u):u,a++),i++):(o&&o.escape&&(a++,l=t[a]),s&&(r+=l),u===l&&i++,a++)}for(var c="";a<t.length&&s;){l=t[a];if(n[l]){c="";break}c+=l,a++}return r+c}t.a=n},function(e,t,s){var n=s(8)(s(4),s(9),null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,s,n){var a,i=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(a=e,i=e.default);var l="function"==typeof i?i.options:i;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),s&&(l._scopeId=s),n){var o=l.computed||(l.computed={});Object.keys(n).forEach((function(e){var t=n[e];o[e]=function(){return t}}))}return{esModule:a,exports:i,options:l}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,s){e.exports=s(3)}])}))}}]);
//# sourceMappingURL=kyb-business-details.1704777938414.js.map