"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[5750],{5680:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.getSelectedTransaction?a("div",{staticClass:"widgetContainer widgetContainer--scrollable  full-width transactionDetails"},[a("div",{staticClass:"navigationHeader"},[a("div",{staticClass:"navigationHeader__inner"},[a("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("transaction_details"))+" ")]),a("span",{staticClass:"el-icon-close",on:{click:t.drawerClose}})])]),a("div",{staticClass:"widgetContainer__body"},[a("div",{staticClass:"listWithAmount"},[a("ul",{staticClass:"summary-box"},[a("li",{staticClass:"cursor-auto"},[a("div",{staticClass:"details trans-details"},[a("p",{class:"amount "+("pending"==t.getSelectedTransaction.status?"pending":"debit"===t.getSelectedTransaction.txnType?"minus":"plus")},[t._v(" "+t._s(t._f("transactionAmount")(t.getSelectedTransaction.amount,t.getSelectedAccount.currency))+" ")]),a("p",{staticClass:"label"},[t._v(" "+t._s(t.getSelectedTransaction.title)+" ")]),"pending"==t.getSelectedTransaction.status?a("p",{staticClass:"value"},[t._v(" "+t._s(t.$t("RCD_pending"))+" ")]):a("p",{staticClass:"value"},[t._v(" "+t._s(t._f("date")(t.getSelectedTransaction.txnDate,"MMM d, yyyy 'at' h:mm aa"))+" ")])]),a("el-tag",{class:"el-tag--blue transaction-type type-"+t.transferTypeTitle},[t._v(" "+t._s(t.transferTypeTitle)+" ")])],1)])]),t.data.description||t.data.paidTo?a("div",{staticClass:"listSimple transactionDetails__other-details"},[a("h4",{staticClass:"header-2"},[t._v(" "+t._s(t.$t("other_details"))+" ")]),a("ul",t._l(t.otherDetails,(function(e){return a("li",{key:e.label},[a("p",{staticClass:"label"},[t._v(" "+t._s(e.label)+" ")]),a("p",{staticClass:"value"},[t._v(" "+t._s(e.value)+" ")])])})),0)]):t._e(),a("div",{staticClass:"listWithActions transactionDetails__actions"},[a("h4",{staticClass:"header-2"},[t._v(" "+t._s(t.$t("actions"))+" ")]),a("ul",[a("li",{on:{click:function(e){return t.getData(!0)}}},[t._v(" "+t._s(t.$t("viewPDF"))+" ")]),a("li",{on:{click:t.openHelp}},[t._v(" "+t._s(t.$t("reportProblem"))+" ")])])]),"card"===t.getSelectedTransaction.transferType&&t.getSelectedTransaction.card&&t.getSelectedTransaction.card.merchant?a("div",{staticClass:"listSimple"},[a("h4",{staticClass:"header-2"},[t._v(" "+t._s(t.$t("location"))+" ")]),a("ul",{staticClass:"card-with-map"},[a("div",{staticClass:"map"},[t.lat&&t.lng?a("GmapMap",{staticStyle:{width:"100%",height:"200px"},attrs:{center:{lat:t.lat,lng:t.lng},zoom:7,"map-type-id":"terrain"}},[a("GmapMarker",{attrs:{position:{lat:t.lat,lng:t.lng},clickable:!0,draggable:!1}})],1):t._e()],1),a("li",[a("p",{staticClass:"label"},[t._v(" "+t._s(t.$t("address"))+" ")]),a("p",{staticClass:"value"},[t._v(" "+t._s(t.address)+" ")])]),a("li",[a("p",{staticClass:"label"},[t._v(" "+t._s(t.$t("contact_country_title"))+" ")]),a("p",{staticClass:"value"},[t._v(" "+t._s(t.getSelectedTransaction.card.merchant.merchantCountry)+" ")])])])]):t._e()])]):t._e()},i=[],n=a(629),c=a(6292),l=a(4598),r={data(){return{lat:null,lng:null}},created(){null==this.getSelectedTransaction?this.$router.push("/transaction/list"):setTimeout((()=>{this.getData()}),0)},computed:{...(0,n.Se)("account",["getSelectedAccount","getAllAccount"]),...(0,n.Se)("transaction",["getSelectedTransaction"]),google:c.gmapApi,data(){let t,e,a,s,i,n;const c=this.getSelectedTransaction;switch(c.transferType){case"intrabank":t=c.accountId,e=c.intrabank.contactName,s=c.description,i=c.id;break;case"ach":t=c.accountId,e=c.ach.contactName,s=c.description,i=c.id;break;case"card":t=c.card.label,e=c.card.merchant.merchantName,s=c.description,i=c.id;break;default:s=c.description;break}return{source:t,paidTo:e,receivedFrom:a,description:s,transactionId:i,location:n}},otherDetails(){let t=[];return this.data.paidTo&&t.push({label:this.$t("merchant"),value:this.data.paidTo}),t.push({label:this.$t("description"),value:this.data.description}),t.filter(Boolean)},address(){const t=this.getSelectedTransaction.card.merchant;return t.merchantCity+","+t.merchantState},transferTypeTitle(){return this.getSelectedTransaction?"reward"===this.getSelectedTransaction.subType&&"card"===this.getSelectedTransaction.transferType?l.N.titles.reward:l.N.titles[this.getSelectedTransaction.transferType]||this.getSelectedTransaction.transferType:""}},methods:{...(0,n.nv)("transaction",["fetchTransaction"]),getLatLong(){this.$gmapApiPromiseLazy().then((()=>{if(this.google&&"card"===this.getSelectedTransaction.transferType&&this.getSelectedTransaction.card&&this.getSelectedTransaction.card.merchant){const t=new this.google.maps.Geocoder,e=this.getSelectedTransaction.card.merchant,a=e.merchantCity+","+e.merchantState+","+e.merchantCountry;t.geocode({address:a},((t,e)=>{if(e==this.google.maps.GeocoderStatus.OK){const e=t[0].geometry.location.lat(),a=t[0].geometry.location.lng();this.lat=e,this.lng=a}}))}}))},getData(t=!1){const e=this.showLoader(),a="fetchTransaction";this[a]({accountId:this.getSelectedAccount.id,transactionId:this.getSelectedTransaction.id,format:t?"pdf":"json"}).then((e=>{if(e&&t){const t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`${this.getSelectedTransaction.id}-statement.pdf`,a.click(),a.remove()}!1===t&&this.getLatLong()})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{e.close(),this.isLoading=!1}))},goToHome(){this.goToPreviousScreen()}}},o=r,d=a(3736),h=(0,d.Z)(o,s,i,!1,null,null,null),g=h.exports}}]);
//# sourceMappingURL=5750.1689682414669.js.map