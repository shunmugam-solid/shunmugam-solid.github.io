"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[9333],{9251:function(t,e,n){n.d(e,{Z:function(){return r}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{display:"inline"}})},s=[],c=n(629),a={name:"PlaidLink",props:{webhook:{type:String,required:!1,default:""},onLoad:{type:Function,required:!1,default:()=>{}},onSuccess:{type:Function,required:!1,default:()=>{}},onExit:{type:Function,required:!1,default:()=>{}},onEvent:{type:Function,required:!1,default:()=>{}}},data(){return{plaid:null,plaidInstance:null}},computed:{...(0,c.Se)("fund",["getPlaidToken"]),...(0,c.Se)("account",["getSelectedAccount"])},methods:{...(0,c.nv)("fund",["fetchPlaidToken"]),openLink(t){t&&t.preventDefault(),null==this.plaidInstance?this.configurePlaidInstance():this.plaidInstance.open()},configurePlaidInstance(){if(null!=this.getPlaidToken){let t=this;this.plaid=window.Plaid,this.plaidInstance=this.plaid.create({token:this.getPlaidToken.linkToken,onLoad:function(){t.onLoad()},onSuccess:function(e,n){t.onSuccess(e,n)},onExit:function(e,n){t.onExit(e,n)},onEvent:function(e,n){t.onEvent(e,n)}}),this.plaidInstance.open()}else this.getToken()},getToken(){const t=this.showLoader();this.fetchPlaidToken(this.getSelectedAccount.id).then((()=>{setTimeout((()=>{this.configurePlaidInstance()}),0)})).catch((t=>{this.apiErrorMessage(t)})).finally((()=>{t.close()}))}},mounted(){let t=!!document.getElementById("plaid-link-script");if(t)return;let e=document.createElement("script");e.async=!0,e.async="anonymous",e.setAttribute("id","plaid-link-script"),e.setAttribute("src","https://cdn.plaid.com/link/v2/stable/link-initialize.js"),document.head.appendChild(e),e.onload=()=>{}},beforeDestroy(){this.plaidInstance&&this.plaidInstance.destroy()}},l=a,o=n(3736),d=(0,o.Z)(l,i,s,!1,null,null,null),r=d.exports},9333:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"widgetContainer bg-white widgetContainer--scrollable pullFunds"},[n("div",{staticClass:"navigationHeader"},[n("div",{staticClass:"navigationHeader__inner"},[n("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("pull_fund_row_title"))+" ")]),n("span",{staticClass:"el-icon-close",on:{click:t.drawerClose}})])]),n("div",{staticClass:"widgetContainer__body"},[0!==t.getSelfContacts.length?[n("h1",{staticClass:"header-1"},[t._v(" "+t._s(t.$t("pull_fund_headerTitle"))+" ")]),n("div",{staticClass:"checkList"},[n("el-radio-group",{on:{change:function(e){return t.bankSelect(e)}},model:{value:t.selectedBank,callback:function(e){t.selectedBank=e},expression:"selectedBank"}},t._l(t.getSelfContacts,(function(e){return n("el-radio",{key:e.id,attrs:{label:e}},[n("span",{staticClass:"checkList__circle center"},[n("span",{staticClass:"icon-tick"})]),n("span",{staticClass:"checkList__name"},[t._v(" "+t._s(e.ach.bankName))]),n("span",[t._v(t._s(t._f("mask")(e.ach.accountNumber,3)))]),n("p",{staticClass:"remove",on:{click:function(n){return t.removeContact(e.id)}}},[t._v(" "+t._s(t.$t("pull_fund_removelinkAccount_btnTitle"))+" ")])])})),1)],1)]:t._e(),n("h1",{staticClass:"header-2"},[t._v(" "+t._s(t.$t("pull_fund_linkAccount_headerTitle"))+" ")]),n("ul",{staticClass:"listSimpleArrows no-status",on:{click:t.addOwner}},[n("li",[n("p",[t._v(t._s(t.$t("pull_fund_linkAccount")))]),n("span",{staticClass:"icon-Arrow-small-right"})])]),n("PlaidLink",{ref:"plaidLinkRef",attrs:{"client-name":"Wise","on-success":t.onSuccess,"on-event":t.onEvent}}),t.$te("link_account_desc")?n("p",{staticClass:"desclaimer-text"},[t._v(" "+t._s(t.$t("link_account_desc"))+" ")]):t._e()],2),n("div",{staticClass:"el-drawer__footer"},[n("el-button",{staticClass:"el-button__brand brand width-100",attrs:{disabled:!t.isFormValid,type:"primary"},on:{click:t.goToAmount}},[t._v(" "+t._s(t.$t("next"))+" ")])],1)])},s=[],c=n(9251),a=n(629),l=n(6428),o={components:{PlaidLink:c.Z},mixins:[l.Z],data(){return{selectedBank:null}},computed:{...(0,a.Se)("account",["getSelectedAccount"]),...(0,a.Se)("contact",["getSelfContacts"]),isFormValid(){return null!==this.selectedBank}},created(){setTimeout((()=>{this.fetchContacts()}),0)},methods:{...(0,a.OI)("fund",["setPullFundDetails"]),backAction(){this.drawerBack()},goToAmount(){this.isFormValid&&(this.setPullFundDetails({contact:this.selectedBank}),this.drawerPush("pullFundsAmount"))},addOwner(){this.$refs.plaidLinkRef.openLink()},bankSelect(t){this.selectedBank=t}}},d=o,r=n(3736),u=(0,r.Z)(d,i,s,!1,null,null,null),h=u.exports},6428:function(t,e,n){var i=n(629);e["Z"]={computed:{...(0,i.Se)("account",["getSelectedAccount"]),...(0,i.Se)("contact",["getSelfContacts"])},methods:{...(0,i.nv)("fund",["linkAccount"]),...(0,i.nv)("contact",["listSelfContacts","archiveContact"]),onSuccess(t,e){const n=this.showLoader();this.linkAccount({accountId:this.getSelectedAccount.id,plaidToken:t,plaidAccountId:e.account.id}).then((()=>{this.fetchContactsWithTimer()})).catch((t=>{this.apiErrorMessage(t)})).finally((()=>{n.close()}))},onEvent(){},fetchContacts(){const t=this.showLoader();this.listSelfContacts(this.getSelectedAccount.id).catch((t=>{this.apiErrorMessage(t)})).finally((()=>{t.close()}))},removeContact(t){const e=this.showLoader();this.archiveContact(t).then((()=>{this.fetchContactsWithTimer()})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{e.close()}))},fetchContactsWithTimer(){setTimeout((()=>{this.fetchContacts()}),0)}}}}}]);
//# sourceMappingURL=9333.1705909596963.js.map