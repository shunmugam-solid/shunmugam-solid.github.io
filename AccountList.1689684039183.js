"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[29],{1342:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"widgetContainer widgetContainer--scrollable widgetContainer--center accountList"},[t.accountTypeOptions.length>1?s("div",{staticClass:"widgetContainer__header"},[s("el-radio-group",{on:{change:function(e){return t.setAccountType(e)}},model:{value:t.selectAccountType,callback:function(e){t.selectAccountType=e},expression:"selectAccountType"}},t._l(t.accountTypeOptions,(function(e){return s("el-radio-button",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" ")])})),1)],1):t._e(),s("div",{staticClass:"widgetContainer__body"},[s("div",{staticClass:"accountList__list"},[t._l(t.getBusinessData,(function(e){return s("div",{key:e},[0!==t.getAccountsData[e].accounts.length?[s("div",{staticClass:"accountList__list__header"},[s("p",{staticClass:"title"},[t._v(" "+t._s(t.getAccountsData[e].businessDetails.legalName)+" ")]),s("p",{staticClass:"total-amount"},[t._v(" "+t._s(t._f("currency")(t.getAccountsData[e].totalAmount.toFixed(2)))+" ")])]),s("ul",t._l(t.getAccountsData[e].accounts,(function(c,n){return s("li",{key:n,class:{selected:t.getSelectedAccount&&t.getSelectedAccount.id===c.id},on:{click:function(s){return t.selectAccount(c,t.getAccountsData[e])}}},[s("div",{staticClass:"account-type-tag"},[s("el-tag",{class:"el-tag--blue account-type type-"+t.accountTypeTitle(c)},[t._v(" "+t._s(t.accountTypeTitle(c))+" ")])],1),s("div",{staticClass:"details"},[s("p",{staticClass:"accountName"},[t._v(" "+t._s(c.label)+" ")]),c.availableBalance?s("p",{staticClass:"amount"},[t._v(" "+t._s(t.$t("dashboard_row_balance_title"))+" "+t._s(t._f("currency")(c.availableBalance))+" ")]):t._e()])])})),0)]:t._e()],2)})),0===t.getBusinessData.length?s("div",{staticClass:"noData"},[s("p",[t._v(" "+t._s(t.$t("noAccounts"))+" ")])]):t._e()],2),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"el-button__brand brand",attrs:{type:"primary"},on:{click:function(e){return t.addAccount()}}},[t._v(" "+t._s(t.$t("buttn_addAccount"))+" ")])],1)])])},n=[],a=s(5368),i=s(629),o=s(9530),u=s(3328);const l={cardAccount:u.Z.t("enum_AccountType_Card"),personalChecking:u.Z.t("enum_AccountType_Cash"),businessChecking:u.Z.t("enum_AccountType_Cash")};var r={name:"AccountList",data(){return{pageType:"initial",selectAccountType:""}},mixins:[a.Z],created(){this.resetAccountList(),this.selectAccountType="Card"===this.getSelectedAccountType?"Cash":this.getSelectedAccountType,this.pageType="initial",this.fetchAccounts()},computed:{...(0,i.Se)(["getIsMobileLayout"]),...(0,i.Se)("account",["getAllAccount","isBusinessAccountType","getSelectedAccountType"]),...(0,i.Se)("kyb",["getBusinessList","getSelectedBusiness"]),getAccountsData(){return(0,o.c)(this.getAllAccount,this.getBusinessList,this.$personalChecking,this.$businessChecking)},getBusinessData(){return Object.keys(this.getAccountsData).sort(((t,e)=>t===o.D?-1:e===o.D?1:0))},layout(){return this.$route.meta&&this.$route.meta.layout||"dashboard"},hideAddAccountButton(){return"dashboard"===this.layout&&!this.getIsMobileLayout},accountTypeOptions(){let t=["Cash"];return t}},methods:{...(0,i.nv)("account",["listAllAccounts"]),...(0,i.OI)("account",["setGroupedAccounts","setSelectedAccountType","setAccounts"]),...(0,i.OI)("transaction",["setRecentTransactions"]),...(0,i.OI)("card",["updateCards"]),...(0,i.nv)("kyb",["listAllBusiness"]),...(0,i.OI)("kyb",["setSelectedBusiness"]),fetchAccounts(){const t=this.showLoader();this.$businessChecking?this.listAllBusiness().then((()=>{setTimeout((()=>{null==this.getSelectedBusiness&&this.getBusinessList&&this.getBusinessList.length>0&&this.setSelectedBusiness(this.getBusinessList[0]),this.fetchAllAccounts()}),0)})).catch((t=>console.log(t))).finally((()=>t.close())):this.fetchAllAccounts()},fetchAllAccounts(){const t=this.showLoader();this.listAllAccounts(null).then((()=>{t.close()})).catch((e=>{t.close(),this.apiErrorMessage(e)}))},selectAccount(t,e){this.setGroupedAccounts(e.accounts),this.setSelectedAccount(t),e&&e.businessDetails&&e.businessDetails.id&&this.setSelectedBusiness(e.businessDetails),setTimeout((()=>{this.setRecentTransactions([]),this.updateCards({data:[],total:0}),"initial"===this.pageType&&this.goToDashboard()}),0)},addAccount(){this.$router.push("/account/create")},setAccountType(t){this.resetAccountList(),this.setSelectedAccountType(t),this.fetchAccounts()},accountTypeTitle(t){return l[t.type]},resetAccountList(){this.setAccounts([]),this.setGroupedAccounts([])}}},d=r,h=s(3736),A=(0,h.Z)(d,c,n,!1,null,null,null),p=A.exports},5368:function(t,e,s){var c=s(629);e["Z"]={computed:{...(0,c.Se)("kyb",["getSelectedBusiness"]),...(0,c.Se)("account",["getSelectedAccount"])},methods:{...(0,c.OI)("account",["setSelectedAccount"])}}},9530:function(t,e,s){s.d(e,{D:function(){return i},c:function(){return a}});var c=s(4239),n=s(1712);function a(t,e,s=!0,a=!0){t.sort(((t,e)=>t.label.toLowerCase()<e.label.toLowerCase()?-1:t.label.toLowerCase()>e.label.toLowerCase()?1:0));const o={},u=c["default"].getters["user/getPersonDetails"],l=u?(0,n.Zr)(u):"";return t.forEach((t=>{let c,n=t.businessId;if("personalChecking"!==t.type&&""!==t.businessId||!s?a&&(c=e.find((e=>e.id===t.businessId))):(n=i,c={legalName:l}),c){o[n]||(o[n]={businessDetails:c,accounts:[],totalAmount:0}),o[n].accounts.push(t);const e=t.usdBalance?t.usdBalance:t.availableBalance;o[n].totalAmount=o[n].totalAmount+parseFloat(e)}})),o}const i="bus-per-001"}}]);
//# sourceMappingURL=AccountList.1689684039183.js.map