"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[5991],{3321:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setupAccount"},[s("SetupAccountComponent",{on:{submit:t.submit}})],1)},c=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"widgetContainer widgetContainer--center widgetContainer--scrollable accountName"},[s("div",{staticClass:"navigationHeader"},[s("div",{staticClass:"navigationHeader__inner"},[s("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:t.goToPreviousScreen}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("acc_setup_screen_title"))+" ")]),s("span",{staticClass:"el-icon-close submit",on:{click:t.cancel}})])]),s("div",{staticClass:"widgetContainer__body"},[s("el-form",{ref:"personAddress",staticClass:"wise-form",attrs:{model:t.formData}},[s("el-form-item",{staticClass:"is-no-asterisk",attrs:{prop:"accountLabel"}},[s("h1",{staticClass:"header-1"},[t._v(" "+t._s(t.$t("acc_setup_name_title"))+" ")]),s("el-input",{model:{value:t.formData.label,callback:function(e){t.$set(t.formData,"label",e)},expression:"formData.label"}})],1),s("div",{staticClass:"accountName__wrapper"},[t.isSendCardByMailVisible?s("div",{staticClass:"sendCardByMail"},[s("div",{staticClass:"sendCardByMail__header"},[s("h1",[t._v(t._s(t.$t("acc_setup_cardoption_title")))]),s("el-switch",{attrs:{"active-color":"var(--branding)","inactive-color":"#dfdfe4"},model:{value:t.formData.createPhysicalCard,callback:function(e){t.$set(t.formData,"createPhysicalCard",e)},expression:"formData.createPhysicalCard"}})],1)]):t._e(),s("div",{staticClass:"accountName__terms"},[t.isAcceptTermEnabled?s("el-checkbox",{model:{value:t.formData.acceptedTerms,callback:function(e){t.$set(t.formData,"acceptedTerms",e)},expression:"formData.acceptedTerms"}}):t._e(),s("div",{staticClass:"accountName__terms__wrapper"},[s("p",{staticClass:"wise-forn__info"},[t._v(" "+t._s(t.$t("acc_setup_term_label"))+" "),s("br"),s("br"),""!==t.evolveTerms?s("a",{attrs:{href:t.evolveTerms,target:"_blank"}},[t._v(" "+t._s(t.$t("acc_setup_evolveBankTerm_link"))+" ")]):t._e(),s("br"),""!==t.platformTerms?s("a",{attrs:{href:t.platformTerms,target:"_blank"}},[t._v(" "+t._s(t.$t("acc_setup_solidBankTerm_link"))+" ")]):t._e()]),t._e()])],1)]),s("div",{staticClass:"account__disclaimer"},[s("p",[t._v(t._s(t.accountDisclaimerText))])])],1),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"el-button__brand brand",attrs:{type:"primary",disabled:t.isFormValid},on:{click:t.submit}},[t._v(" "+t._s(t.$t("acc_setup_button"))+" ")])],1)],1)])},n=[],l=s(9896),o=s(629),r={name:"SetupAccountComponent",data(){return{isAcceptTermEnabled:(0,l.g2)("isAcceptAccTermsEnabled"),isSendCardByMailVisible:(0,l.g2)("isSendCardByMailVisible"),formData:{label:"",createPhysicalCard:!1,acceptedTerms:!1,type:"businessChecking"},urls:{evolveTerms:"",platformTerms:"",walletTerms:""}}},computed:{...(0,o.Se)("account",["getAllAccount"]),...(0,o.Se)("user",["getPersonDetails"]),isFormValid(){return!this.formData.label||!this.formData.acceptedTerms},accountDisclaimerText(){const t=(0,l.BI)();return this.$t("solid"!==t?t+"_acc_setup_disclaimer":"acc_setup_disclaimer")}},created(){const t=(0,l._7)("evolveTerms",""),e=(0,l._7)("platformTerms",""),s=(0,l._7)("walletTerms","");this.evolveTerms=t,this.platformTerms=e,this.walletTerms=s,this.formData.label=0===this.getAllAccount.length?"Primary":"Secondary",this.isAcceptTermEnabled||(this.formData.acceptedTerms=!0)},methods:{submit(){!1===this.isFormValid&&this.$emit("submit",this.formData)},cancel(){this.$router.replace("/account/list")}}},u=r,d=s(3736),m=(0,d.Z)(u,i,n,!1,null,null,null),p=m.exports,_=s(9530),h={name:"SetupAccount",components:{SetupAccountComponent:p},computed:{...(0,o.Se)("account",["getCreateAccountData","getAllAccount","getAddAccountBackPage","getSelectedAccountType"]),...(0,o.Se)("kyb",["getBusinessList"])},created(){this.fetchAllAccounts()},methods:{...(0,o.nv)("account",["createAccount","listAllAccounts"]),...(0,o.OI)("transaction",["setRecentTransactions"]),...(0,o.OI)("account",["setGroupedAccounts"]),submit(t){const e=this.showLoader();t.type=this.getCreateAccountData.type;let s={businessId:this.getCreateAccountData.businessId,...t};"Card"===this.getSelectedAccountType&&(s.type="cardAccount"),this.createAccount(s).then((t=>{setTimeout((()=>{if(this.getAddAccountBackPage){const e=(0,_.c)(0===this.getAllAccount.length?[t]:this.getAllAccount,this.getBusinessList,this.$personalChecking,this.$businessChecking);let s=[];s="personalChecking"===t.type?e[_.D]?e[_.D].accounts:[]:e[t.businessId]?e[t.businessId].accounts:[],s.push(t),this.setGroupedAccounts(s)}this.$router.push("/account/accountCreated"),this.setRecentTransactions([])}),0)})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{e.close()}))},fetchAllAccounts(){const t=this.showLoader();this.listAllAccounts(null).then((()=>{})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{t.close()}))}}},b=h,f=(0,d.Z)(b,a,c,!1,null,null,null),C=f.exports},9530:function(t,e,s){s.d(e,{D:function(){return n},c:function(){return i}});var a=s(4239),c=s(1712);function i(t,e,s=!0,i=!0){t.sort(((t,e)=>t.label.toLowerCase()<e.label.toLowerCase()?-1:t.label.toLowerCase()>e.label.toLowerCase()?1:0));const l={},o=a["default"].getters["user/getPersonDetails"],r=o?(0,c.Zr)(o):"";return t.forEach((t=>{let a,c=t.businessId;if("personalChecking"!==t.type&&""!==t.businessId||!s?i&&(a=e.find((e=>e.id===t.businessId))):(c=n,a={legalName:r}),a){l[c]||(l[c]={businessDetails:a,accounts:[],totalAmount:0}),l[c].accounts.push(t);const e=t.usdBalance?t.usdBalance:t.availableBalance;l[c].totalAmount=l[c].totalAmount+parseFloat(e)}})),l}const n="bus-per-001"}}]);
//# sourceMappingURL=SetupAccount.1706690114502.js.map