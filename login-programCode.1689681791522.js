(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[6581],{6593:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widgetContainer widgetContainer--center loginProgramCode bg-white"},[n("div",{staticClass:"navigationHeader"},[n("div",{staticClass:"navigationHeader__inner"},[n("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:e.goToPreviousScreen}}),n("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("programCode_NavTitle"))+" ")])])]),n("div",{staticClass:"widgetContainer__body"},[n("el-form",{ref:"user",staticClass:"wise-form",attrs:{model:e.user,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()},submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{prop:"otp",label:e.$t("programCode_Title")}},[n("ProgramCode",{attrs:{autofocus:!0},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}})],1),n("p",{staticClass:"wise-form__info talk-to-us"},[e._v(" "+e._s(e.$t("programCode_Desc"))+" "),n("span",{on:{click:e.openHelp}},[e._v(" "+e._s(e.$t("kycStatus_inReview_buttonTitle"))+" ")])])],1),n("div",{staticClass:"widgetContainer__footer--fixed"},[n("el-button",{staticClass:"el-button__brand brand",attrs:{type:"primary",disabled:e.isDisabled},on:{click:function(t){return e.submitForm()}}},[e._v(" "+e._s(e.$t("confirm"))+" ")])],1)],1)])},s=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-input"},[n("the-mask",{ref:"programCode",staticClass:"el-input__inner",attrs:{mask:"####",type:"tel",autocomplete:"off",name:"programCode",masked:!0,value:e.value},nativeOn:{input:function(t){return e.updateInput(t)}}})],1)},o=[],i=n(2982),u={components:{TheMask:i.TheMask},props:{value:{type:String,default:""},autofocus:{type:Boolean,default:!1}},mounted(){this.autofocus&&this.$refs.programCode.$el.focus()},methods:{updateInput(e){let t=e.target.value;t?this.$emit("input",t.replace(/\D+/g,"")):this.$emit("input",null)}}},c=u,l=n(3736),f=(0,l.Z)(c,a,o,!1,null,"e29644cc",null),d=f.exports,p=n(629),m=n(2424),v={name:"Login",mixins:[m.Z],computed:{...(0,p.Se)("user",["getUserDetails"]),isDisabled(){return!this.user.code||4!=this.user.code.length}},components:{ProgramCode:d},data(){return{user:{code:""},rules:{code:"required"}}},created(){const e=this.getUserDetails;e&&e.phone&&e.programCodeRequired||this.goToWelcomeScreen()},methods:{...(0,p.nv)("user",["verifyOtp","getPerson"]),submitForm(){if(this.isDisabled)return;const e=this.getUserDetails;if(e&&e.phone){const t=this.showLoader();this.verifyOtp({otp:e.otp,programCode:this.user.code}).then((()=>{setTimeout((()=>{const e=this.showLoader();this.getPerson().then((()=>{setTimeout((()=>{this.loginSuccess()}),0)})).catch((e=>{this.apiErrorMessage(e)})).finally((()=>{e.close()}))}),0)})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{t.close()}))}}}},h=v,g=(0,l.Z)(h,r,s,!1,null,null,null),k=g.exports},2982:function(e){(function(t,n){e.exports=n()})(0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,n){"use strict";function r(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var s=n(2),a=n(0),o=n.n(a);t.a=function(e,t){var a=t.value;if((Array.isArray(a)||"string"==typeof a)&&(a={mask:a,tokens:o.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var i=e.getElementsByTagName("input");if(1!==i.length)throw new Error("v-mask directive requires 1 input, found "+i.length);e=i[0]}e.oninput=function(t){if(t.isTrusted){var o=e.selectionEnd,i=e.value[o-1];for(e.value=n.i(s.a)(e.value,a.mask,!0,a.tokens);o<e.value.length&&e.value.charAt(o-1)!==i;)o++;e===document.activeElement&&(e.setSelectionRange(o,o),setTimeout((function(){e.setSelectionRange(o,o)}),0)),e.dispatchEvent(r("input"))}};var u=n.i(s.a)(e.value,a.mask,!0,a.tokens);u!==e.value&&(e.value=u,e.dispatchEvent(r("input")))}},function(e,t,n){"use strict";var r=n(6),s=n(5);t.a=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments[3];return Array.isArray(t)?n.i(s.a)(r.a,t,o)(e,t,a,o):n.i(r.a)(e,t,a,o)}},function(e,t,n){"use strict";function r(e){e.component(u.a.name,u.a),e.directive("mask",o.a)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n.n(s),o=n(1),i=n(7),u=n.n(i);n.d(t,"TheMask",(function(){return u.a})),n.d(t,"mask",(function(){return o.a})),n.d(t,"tokens",(function(){return a.a})),n.d(t,"version",(function(){return c}));var c="0.11.1";t.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(0),a=n.n(s),o=n(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return a.a}}},directives:{mask:r.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=n.i(o.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,n){"use strict";function r(e,t,n){return t=t.sort((function(e,t){return e.length-t.length})),function(r,s){for(var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=0;o<t.length;){var i=t[o];o++;var u=t[o];if(!(u&&e(r,u,!0,n).length>i.length))return e(r,i,a,n)}return""}}t.a=r},function(e,t,n){"use strict";function r(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];e=e||"",t=t||"";for(var s=0,a=0,o="";s<t.length&&a<e.length;){var i=t[s],u=r[i],c=e[a];u&&!u.escape?(u.pattern.test(c)&&(o+=u.transform?u.transform(c):c,s++),a++):(u&&u.escape&&(s++,i=t[s]),n&&(o+=i),c===i&&a++,s++)}for(var l="";s<t.length&&n;){i=t[s];if(r[i]){l="";break}l+=i,s++}return o+l}t.a=r},function(e,t,n){var r=n(8)(n(4),n(9),null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,n,r){var s,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(s=e,a=e.default);var i="function"==typeof a?a.options:a;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),n&&(i._scopeId=n),r){var u=i.computed||(i.computed={});Object.keys(r).forEach((function(e){var t=r[e];u[e]=function(){return t}}))}return{esModule:s,exports:a,options:i}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])}))}}]);
//# sourceMappingURL=login-programCode.1689681791522.js.map