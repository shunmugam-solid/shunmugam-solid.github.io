"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[4583],{4583:function(e,a,i){i.r(a),i.d(a,{default:function(){return f}});var t=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",[i("div",{staticClass:"widgetContainer widgetContainer--center widgetContainer--scrollable bg-white ownersList"},[i("div",{staticClass:"navigationHeader"},[i("div",{staticClass:"navigationHeader__inner"},[i("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:e.goToPreviousScreen}}),i("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("ownerList_NavTitle"))+" ")])])]),i("div",{staticClass:"widgetContainer__body"},[i("el-form",[i("div",{staticClass:"wise-form"},[i("p",{staticClass:"wise-form__header"},[e._v(" "+e._s(e.$t("ownerList_HeaderTitle"))+" ")]),e.owners&&e.owners.length?i("div",{staticClass:"ownersList__greater-than"},[i("ul",e._l(e.owners,(function(a){return i("li",{key:a.id},[i("div",{staticClass:"details"},[i("p",{staticClass:"label"},[e._v(" "+e._s(a.person.firstName)+" "+e._s(a.person.lastName)+" ")]),i("span",{staticClass:"value"},[e._v(e._s(a.ownership)+"%")])]),i("div",[i("el-form-item",{staticClass:"is-no-asterisk column-input",attrs:{prop:"isControlPerson"}},[i("el-switch",{attrs:{"active-text":"Is Control Person?"},on:{change:function(i){return e.controlPersonChange(a)}},model:{value:a.isControlPerson,callback:function(i){e.$set(a,"isControlPerson",i)},expression:"o.isControlPerson"}})],1),i("el-form-item",{staticClass:"column-input",attrs:{prop:"designation",label:e.$t("ownerList_designation")}},[a.isControlPerson?i("el-select",{staticClass:"is-asterisk",model:{value:a.designation,callback:function(i){e.$set(a,"designation",i)},expression:"o.designation"}},e._l(e.controlPersonDesignations,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):i("el-select",{staticClass:"is-asterisk",model:{value:a.designation,callback:function(i){e.$set(a,"designation",i)},expression:"o.designation"}},e._l(e.designations,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"others"===a.designation?i("el-form-item",{staticClass:"is-no-asterisk column-input",attrs:{label:e.$t("ownerList_designationTitle"),rules:{required:!0}}},[i("el-input",{model:{value:a.designationOther,callback:function(i){e.$set(a,"designationOther",i)},expression:"o.designationOther"}})],1):e._e()],1)])})),0)]):e._e(),e.totalOwnerShip<=75?i("div",[i("p",{staticClass:"wise-form__header"},[e._v(" "+e._s(e.$t("ownerList_AddNew_HeaderTitle"))+" ")]),i("div",{staticClass:"listSimpleArrows no-status",on:{click:e.addOwner}},[i("li",[i("p",[e._v(e._s(e.$t("ownerList_AddNew_SubTitle")))]),i("span",{staticClass:"icon-Arrow-small-right"})])])]):e._e(),i("p",{staticClass:"ownersList__verify-description wise-form__info"},[e._v(" "+e._s(e.$t("ownerList_Desc"))+" ")])]),i("div",{staticClass:"widgetContainer__footer--fixed"},[i("el-button",{staticClass:"el-button__brand brand",attrs:{disabled:!e.isValid,type:"primary"},on:{click:e.proceedTosign}},[e._v(" "+e._s(e.$t("ownerList_NextButton"))+" ")])],1)])],1)])])},l=[],n=i(629),s=i(1956),r={name:"OwnersList",mixins:[s.Z],data(){return{owners:[]}},computed:{...(0,n.Se)("account",["getSelectedAccountType"]),totalOwnerShip(){let e=0;return this.owners.forEach((a=>{e+=parseInt(a.ownership)})),e},designations(){return[{value:"chiefExecutiveOfficer",label:"Chief Executive Officer"},{value:"chiefFinancialOfficer",label:"Chief Financial Officer"},{value:"chiefOperatingOfficer",label:"Chief Operating Officer"},{value:"chiefLegalOfficer",label:"Chief Legal Officer"},{value:"generalCounsel",label:"General Counsel"},{value:"managingMember",label:"Managing Member"},{value:"member",label:"Member"},{value:"generalPartner",label:"General Partner"},{value:"managingPartner",label:"Managing Partner"},{value:"partner",label:"Partner"},{value:"president",label:"President"},{value:"executiveVicePresident",label:"Executive Vice President"},{value:"vicePresident",label:"Vice President"},{value:"treasurer",label:"Treasurer"},{value:"comptroller",label:"Comptroller"},{value:"managingDirector",label:"Managing Director"},{value:"chairmanOfTheBoardOfDirectors",label:"Chairman of the Board of Directors"},{value:"chiefRevenueOfficer",label:"Chief Revenue Officer"},{value:"financialAdvisor",label:"Financial Advisor"},{value:"designer",label:"Designer"},{value:"chiefTechnologyOfficer",label:"Chief Technology Officer"},{value:"engineer",label:"Engineer"},{value:"analyst",label:"Analyst"},{value:"controller",label:"Controller"},{value:"manager",label:"Manager"},{value:"financeManager",label:"Finance Manager"},{value:"salesManager",label:"Sales Manager"},{value:"chiefCreditOfficer",label:"Chief Credit Officer"},{value:"accountManager",label:"Account Manager"},{value:"chairman",label:"Chairman"},{value:"generalManager",label:"General Manager"},{value:"chiefMarketingOfficer",label:"Chief Marketing Officer"},{value:"headOfOperations",label:"Head of Operations"},{value:"chiefOfStaff",label:"Chief of Staff"},{value:"taxSpecialist",label:"Tax Specialist"},{value:"founder",label:"Founder"},{value:"chiefProductOfficer",label:"Chief Product Officer"},{value:"projectManager",label:"Project Manager"},{value:"accountant",label:"Accountant"},{value:"secretary",label:"Secretary"},{value:"digitalMarketingManager",label:"Digital Marketing Manager"},{value:"chiefBusinessOfficer",label:"Chief Business Officer"},{value:"chiefInnovationOfficer",label:"Chief Innovation Officer"},{value:"headOfFinance",label:"Head of Finance"},{value:"chiefBrandOfficer",label:"Chief Brand Officer"},{value:"humanResourcesManager",label:"Human Resources Manager"},{value:"productManager",label:"Product Manager"},{value:"others",label:"Others"}]},controlPersonDesignations(){return[{value:"chiefExecutiveOfficer",label:"Chief Executive Officer"},{value:"chiefFinancialOfficer",label:"Chief Financial Officer"},{value:"chiefOperatingOfficer",label:"Chief Operating Officer"},{value:"chiefLegalOfficer",label:"Chief Legal Officer"},{value:"generalCounsel",label:"General Counsel"},{value:"managingMember",label:"Managing Member"},{value:"member",label:"Member"},{value:"generalPartner",label:"General Partner"},{value:"managingPartner",label:"Managing Partner"},{value:"partner",label:"Partner"},{value:"president",label:"President"},{value:"executiveVicePresident",label:"Executive Vice President"},{value:"vicePresident",label:"Vice President"},{value:"treasurer",label:"Treasurer"},{value:"comptroller",label:"Comptroller"},{value:"managingDirector",label:"Managing Director"},{value:"chairmanOfTheBoardOfDirectors",label:"Chairman of the Board of Directors"}]},isValid(){let e=!1,a=!0;return this.owners.forEach((i=>{i.isControlPerson&&(e=!0),""===i.designation&&(a=!1)})),e&&a}},methods:{...(0,n.nv)("kyb",["fetchAllOwners","updateOwner"]),...(0,n.OI)("kyb",["setCreatePageOwnerDetails"]),...(0,n.OI)("account",["updateCreateAccountData"]),afterBusiness(){this.getAllOwners(this.getSelectedBusiness.id)},getAllOwners(e){const a=this.showLoader();this.fetchAllOwners(e).then((e=>{if(0!==e.data.length){let a=null,i=null;e.data.forEach((e=>{e.person.id===this.getSelectedBusiness.createdPersonId&&(a=e),e.isControlPerson&&(i=e)})),!i&&a&&(a.isControlPerson=!0),this.owners=e.data}})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{a.close()}))},addOwner(){this.setCreatePageOwnerDetails(null),this.$router.push("/kyb/ownerDetails")},proceedTosign(){if(this.isValid){const e=[];this.owners.forEach((a=>{let i=a.designation;"others"===i&&(i=a.designationOther),e.push(this.updateOwner({ownerId:a.id,details:{isControlPerson:a.isControlPerson,designation:i}}))}));const a=this.showLoader();Promise.all(e).then((()=>{setTimeout((()=>{this.$router.push("/kyb/eSign")}),0)})).finally((()=>{a.close()}))}},proceedToAccountCreation(){this.updateCreateAccountData({businessId:this.getSelectedBusiness.id,type:"businessChecking"}),this.$router.push("/account/setup")},controlPersonChange(e){e.designation="",this.owners.forEach((a=>{a.id!==e.id&&(a.isControlPerson=!1,a.designation="")}))}}},o=r,c=i(3736),u=(0,c.Z)(o,t,l,!1,null,null,null),f=u.exports},1956:function(e,a,i){var t=i(629);a["Z"]={computed:{...(0,t.Se)("kyb",["getSelectedBusiness"])},methods:{...(0,t.nv)("kyb",["fetchAllOwners","listAllBusiness","updateOwner"]),...(0,t.OI)("kyb",["setSelectedBusiness"])},created(){const e=this.getSelectedBusiness;if(e)this.afterBusiness&&"function"===typeof this.afterBusiness&&this.afterBusiness(e);else{const e=this.showLoader();this.listAllBusiness().then((e=>{if(0!==e.total){const a=e.data;this.setSelectedBusiness(a[0]),this.afterBusiness&&"function"===typeof this.afterBusiness&&setTimeout((()=>{this.afterBusiness(a[0])}),0)}})).catch((e=>{console.log(e),this.apiErrorMessage(e)})).finally((()=>{e.close()}))}}}}}]);
//# sourceMappingURL=4583.1705909596963.js.map