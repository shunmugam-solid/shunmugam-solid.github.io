"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[1820],{8610:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"verfiy-content"},[i("div",{staticClass:"widgetContainer widgetContainer--center widgetContainer--full-screen appStatus appStatus--verifying verifyOnfido"},[i("div",{staticClass:"widgetContainer__body"},[t.$te("verifyOnfido_title_alt")?i("p",{staticClass:"title-alt"},[t._v(" "+t._s(t.$t("verifyOnfido_title_alt"))+" ")]):t._e(),i("LottieAnimation",{attrs:{"animation-name":"searching",reference:"kyc-status-review-1",loop:!0}}),i("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("verifyOnfido_title"))+" ")]),i("p",{staticClass:"description"},[t._v(" "+t._s(t.$t("verifyOnfido_desc"))+" ")]),t.$te("verifyOnfido_desc_alt")?i("p",{staticClass:"description"},[t._v(" "+t._s(t.$t("verifyOnfido_desc_alt"))+" ")]):t._e(),i("div",{staticClass:"widgetContainer__footer--fixed"},[i("el-button",{staticClass:"welcome__get-started el-button__brand brand",attrs:{type:"primary"},on:{click:t.proceed}},[t._v(" "+t._s(t.$t("verifyOnfido_buttonTitle"))+" ")])],1)],1)])])},n=[],o=i(629),a=i(6537),r={components:{LottieAnimation:a.Z},computed:{...(0,o.Se)(["getActiveEnv"]),...(0,o.Se)("user",["getPersonDetails","getProgramDetails","getBrandColor"]),...(0,o.Se)("kyc",["getOnfidoDetails"]),...(0,o.Se)("user",["getUserAuthToken"])},data(){return{onfidoOut:null}},created(){const t=this.showLoader(),e=this.getPersonDetails;e&&e.id&&this.idvStatus(e.id).then((t=>{"approved"===t.status?this.startKYC():"notStarted"!==t.status&&this.$router.push("/kyc/kycStatus")})).finally((()=>{t.close()}))},methods:{...(0,o.nv)("kyc",["fetchVerificationToken","submitKyc","idvSubmit","idvStatus"]),proceed(){const t=this.getPersonDetails,e=this.showLoader();let i={personId:t.id,params:{}};this.idvSubmit(i).then((t=>{setTimeout((()=>{this.startPersona(t.url)}),0)})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{e.close()})),window.analytics&&window.analytics.track("proceedIdentity")},startPersona(t){window.sessionStorage.setItem("app_env",this.getActiveEnv),window.sessionStorage.setItem("user_auth_tokens",JSON.stringify(this.getUserAuthToken)),window.sessionStorage.setItem("device_id",this.$http.defaults.headers.common["SD-Device-ID"]),window.location.href=t+"&redirect-uri="+window.location.origin+"/kyc/idv-callback"},startKYC(){const t=this.getPersonDetails;if(t&&t.id){const e=this.showLoader();this.submitKyc(t.id).then((()=>{this.$router.push("/kyc/kycStatus")})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{e.close()}))}}}},c=r,l=i(3736),d=(0,l.Z)(c,s,n,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=kyc-verify.1689751251178.js.map