"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[2957],{9458:function(n,l,e){var a=e(2791),r=e(2599);l.Z=function(n){var l={token:n.token,onSuccess:n.onSuccess,onExit:n.onExit},e=(0,r.usePlaidLink)(l),c=e.open,i=e.ready;return(0,a.useEffect)((function(){i&&c()}),[i,c]),null}},2957:function(n,l,e){e.r(l),e.d(l,{default:function(){return F}});var a=e(9439),r=e(2791),c=e(2020),i=e(2504),u=e(8735),s=e(3445),t=e(5048),o=e(5649),d=e(4144),f="PullFrom_bankList__BcX8Q",h="PullFrom_pullFrom__lOm6n",x="PullFrom_bankInfo__bgAPf",m="PullFrom_removeBank__xdtyG",_="PullFrom_linkAccount__zroSx",v="PullFrom_transferType__JdFmJ",k=e(5304),p=e(3741),j=e(80),g=e(9458),b=e(4661),X=e(184),N=r.lazy((function(){return Promise.all([e.e(4398),e.e(870)]).then(e.bind(e,870))})),C=r.lazy((function(){return e.e(7551).then(e.bind(e,7551))})),F=function(){var n=(0,c.$)().t,l=(0,k.Qo)(),e=(0,b.y)(),F=e.open,A=e.close,y=(e.data||{}).option,P=void 0===y?"bank":y,w=(0,k.CG)((function(n){return n.account}),t.wU),E=w.selectedAccount,S=w.selfBankAccounts,z=w.linkedCards,B=(0,r.useState)(null),Z=(0,a.Z)(B,2),I=Z[0],T=Z[1],G=(0,r.useState)(""),U=(0,a.Z)(G,2),J=U[0],L=U[1],O=(0,r.useCallback)((function(){E&&l((0,p.MI)(null===E||void 0===E?void 0:E.id)).then((function(n){T(n.linkToken)})).catch(j.WH)}),[E]),Q=(0,r.useCallback)((function(n,e){var a;(T(null),null!==E&&void 0!==E&&E.id)&&l((0,p.GS)({accountId:E.id,plaidAccountId:null===(a=e.accounts[0])||void 0===a?void 0:a.id,plaidToken:n})).catch((function(){(0,j.c0)("An error occurred.","Unable to verify plaid account","error")}))}),[E]);return(0,r.useEffect)((function(){E&&l("bank"===P?(0,p.CB)(E.id):(0,p.WO)(E.id))}),[P,E]),(0,X.jsx)("div",{className:"page",children:(0,X.jsx)(o.Z,{heading:n("pull_funds_from.title"),showBack:!0,footer:(0,X.jsx)(i.zx,{width:"100%",variant:"primary",disabled:""===J,onClick:function(){F(N,{option:P,contactId:J})},children:n("pull_funds_from.ctaText")}),onBack:function(){A()},children:(0,X.jsxs)(u.xu,{width:"100%",children:[0!==S.length&&"bank"===P?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(u.xv,{variant:"large",className:h,children:n("pull_funds_from.pullFundsFrom")}),(0,X.jsx)(u.xu,{className:f,children:(0,X.jsx)(s.Ee,{onChange:L,value:J,children:S.map((function(e){return(0,X.jsxs)(u.xu,{className:x,children:[(0,X.jsx)(s.Y8,{value:e.id,children:(0,X.jsxs)(u.xv,{variant:"regular",className:"text-dark",children:[e.ach.bankName," ","XXXXXX"," ",e.ach.accountNumber.slice(e.ach.accountNumber.length-4)]})}),(0,X.jsx)(u.xv,{className:m,onClick:function(){l((0,p.d8)(e.id))},children:n("pull_funds_from.remove")})]},e.id)}))})})]}):null,0!==z.data.length&&"card"===P?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(u.xv,{variant:"large",className:h,children:n("pull_funds_from.pullFundsFrom")}),(0,X.jsx)(u.xu,{className:f,children:(0,X.jsx)(s.Ee,{onChange:L,value:J,children:z.data.map((function(e){var a;return(0,X.jsxs)(u.xu,{className:x,children:[(0,X.jsx)(s.Y8,{value:e.id,children:(0,X.jsxs)(u.xv,{variant:"regular",className:"text-dark",children:["XXXX XXXX XXXX"," ",null===(a=e.debitCard)||void 0===a?void 0:a.last4]})}),(0,X.jsx)(u.xv,{className:m,onClick:function(){l((0,p.d8)(e.id,"card"))},children:n("pull_funds_from.remove")})]},e.id)}))})})]}):null,(0,X.jsx)(u.xv,{variant:"large",className:_,children:n("bank"===P?"pull_funds_from.linkAccount":"pull_funds_from.linkCard")}),(0,X.jsx)(i.zx,{width:"100%",height:"auto",variant:"unstyled",onClick:function(){"bank"===P?O():F(C)},children:(0,X.jsxs)(u.Ug,{className:v,children:[(0,X.jsx)(u.xu,{children:(0,X.jsx)(u.xv,{variant:"regular",children:n("bank"===P?"pull_funds_from.linkAnotherAccount":"pull_funds_from.linkAnotherCard")})}),(0,X.jsx)(d.Z,{icon:"Arrow-small-right",size:8,className:"svg-light-grey-1"})]})}),I?(0,X.jsx)(g.Z,{token:I,onSuccess:Q,onExit:function(){T(null)}}):null]})})})}}}]);
//# sourceMappingURL=2957.49d42c95.chunk.js.map