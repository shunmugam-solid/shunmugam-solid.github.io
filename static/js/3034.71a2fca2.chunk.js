"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[3034],{8083:function(t,n,e){e.r(n);var a=e(9439),c=e(2791),i=e(2020),r=e(1938),o=e(2504),u=e(8735),l=e(3393),d=e(5798),s=e(9916),h=(e(7781),e(5048)),m=e(7689),p=e(5649),f=e(5304),v=e(7770),C=e(80),x=e(1778),g=e(9578),w=e(2942),j=e(184);n.default=function(){var t=(0,i.$)().t,n=(0,c.useState)(""),e=(0,a.Z)(n,2),y=e[0],b=e[1],I=(0,c.useState)(""),_=(0,a.Z)(I,2),k=_[0],E=_[1],S=(0,c.useState)(""),T=(0,a.Z)(S,2),N=T[0],B=T[1],Z=(0,m.s0)(),A=(0,m.TH)().pathname,G=(0,f.Qo)(),M=(0,f.CG)((function(t){return t.account.selectedAccount}),h.wU),U=(0,f.CG)((function(t){return t.contact.selectedContact}),h.wU),H=(0,r.mq)("Input",{variant:"primary"}),L=(0,c.useMemo)((function(){if(0!==y.length&&!(0,s.tm)(y))return!1;return!(0!==N.length&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w\w+)+$/.test(N))&&0!==k.length}),[k,N,y]),W=(0,x.qu)().startScreen,X=void 0===W?"contactList":W,q=(0,x._f)("contactCreate").showBack,D=(0,c.useMemo)((function(){return"/contacts/edit"===A&&(null===U||void 0===U?void 0:U.id)}),[A,U]),O=(0,c.useMemo)((function(){return D?"edit_contact_details":"add_new_contact"}),[]),P=(0,c.useCallback)((function(){M&&L&&(D&&null!==U&&void 0!==U&&U.id?G((0,v.Tk)(U.id,{accountId:M.id,name:k,email:0===N.length?void 0:N,phone:0===y.length?void 0:y})).then((function(t){Z("/contacts/details/".concat(t.id))})).catch(C.WH):G((0,v.rE)({accountId:M.id,name:k,email:0===N.length?void 0:N,phone:0===y.length?void 0:y})).then((function(t){t.id&&(0,g.bG)(w.p5.CONTACT_CREATED,{contactId:t.id}),"contactList"===X&&Z("/contacts")})).catch(C.WH))}),[M,k,N,y,L,D]);return(0,c.useEffect)((function(){U&&D&&(E(U.name),B(U.email||""),b(U.phone||""))}),[U,D]),(0,j.jsx)("div",{className:"page",children:(0,j.jsx)(p.Z,{showBack:"contactCreate"!==X||!!q,heading:t("".concat(O,".title")),footer:(0,j.jsx)(o.zx,{width:"100%",variant:"primary",disabled:!L,onClick:P,children:t("".concat(O,".ctaText"))}),onBack:function(){(0,g.bG)(w.CW.BACK_PRESSED,{from:D?"contactUpdate":"contactCreate"}),"contactCreate"!==X&&Z(-1)},children:(0,j.jsxs)(u.xu,{width:"100%",paddingTop:"15px",children:[(0,j.jsxs)(l.NI,{variant:"primary",children:[(0,j.jsx)(l.lX,{variant:"primary",children:t("".concat(O,".personOrBusiness"))}),(0,j.jsx)(d.II,{variant:"primary",value:k,onChange:function(t){return E(t.target.value)}})]}),(0,j.jsxs)(u.xu,{mb:"24px",children:[(0,j.jsx)(l.lX,{variant:"primary",children:t("".concat(O,".mobileNumber"))}),(0,j.jsx)(s.ZP,{"data-testid":"mobileInput",style:H.field,className:"country-input",international:!0,limitMaxLength:!0,value:y,defaultCountry:"US",countryCallingCodeEditable:!1,onChange:function(t){return b(t||"")}})]}),(0,j.jsxs)(l.NI,{variant:"primary",children:[(0,j.jsx)(l.lX,{variant:"primary",children:t("".concat(O,".email"))}),(0,j.jsx)(d.II,{value:N,variant:"primary",onChange:function(t){return B(t.target.value)}})]})]})})})}}}]);
//# sourceMappingURL=3034.71a2fca2.chunk.js.map