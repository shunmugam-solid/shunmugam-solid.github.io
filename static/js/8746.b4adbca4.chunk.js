"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[8746],{2019:function(t,a,n){n(2791);a.Z=n.p+"static/media/card-dummy.19c76a5b99fbc47d33e218cb877d1407.svg"},8819:function(t,a,n){var e=n(2791),r=n(8735),i=n(3046),s=n(5048),c=n(2020),o=n(1098),l=n(5304),d=n(7208),u=n(80),_=n(2019),x=n(184),h=e.memo((function(t){var a=t.data,n=t.showSecrets,h=t.onReady,m=a,f=(0,c.$)().t,p=(0,l.Qo)(),v=(0,e.useRef)(null),g=(0,e.useRef)(null),j=(0,l.CG)((function(t){return t.core.programConfig}),s.wU),b=(0,l.CG)((function(t){return t.business.selectedBusiness}),s.wU),w=(0,e.useMemo)((function(){return"physical"===m.cardType?null===j||void 0===j?void 0:j.brand.cardArtPhysical:null===j||void 0===j?void 0:j.brand.cardArtVirtual}),[m,j]),C=(0,e.useMemo)((function(){return"physical"===m.cardType?null===j||void 0===j?void 0:j.brand.physicalCardTextColor:null===j||void 0===j?void 0:j.brand.virtualCardTextColor}),[m,j]),y=(0,e.useCallback)((function(){(0,u.V_)(!0),p((0,d.ms)(a.id)).then((function(t){(0,u.V_)(!0);var n=setTimeout((function(){(0,u.V_)(!1)}),15e3),e=window.VGSShow.create((0,u.Ab)(),(function(t){var a,e;!0===(null===t||void 0===t||null===(a=t.cvvIframe)||void 0===a?void 0:a.revealed)&&!0===(null===t||void 0===t||null===(e=t.cardNoIframe)||void 0===e?void 0:e.revealed)&&(clearTimeout(n),(0,u.V_)(!1))})),r={"sd-show-token":t.showToken};e.request({name:"cardNoIframe",method:"GET",headers:r,path:"/v1/card/".concat(a.id,"/show"),jsonPathSelector:"cardNumber",serializers:[e.SERIALIZERS.replace("(\\d{4})(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3 $4")]}).render(v.current,{color:C,fontSize:"15px",height:"20px",overflow:"hidden",fontWeight:"700"}),e.request({name:"cvvIframe",method:"GET",headers:r,path:"/v1/card/".concat(a.id,"/show"),jsonPathSelector:"cvv"}).render(g.current,{color:C,fontSize:"13px",display:"block",height:"16px",overflow:"hidden"}),h&&h({show:e,headers:r})})).catch(u.WH).finally((function(){return(0,u.V_)(!1)}))}),[a]);return(0,e.useEffect)((function(){if(n){var t=document.createElement("script");t.id="vgs-script",t.crossOrigin="anonymous";t.src="https://js.verygoodvault.com/vgs-show/1.3/".concat("ACci3u9aEmutHr7zpAeVY2Zc",".js"),t.type="text/javascript",t.onload=y,document.head.append(t)}return function(){var t;window.VGSShow=void 0,null===(t=document.getElementById("vgs-script"))||void 0===t||t.remove()}}),[n]),(0,x.jsxs)(r.xu,{opacity:"inactive"===m.cardStatus?"0.5":"1",className:"".concat(o.Z.card_image_info," ").concat(o.Z.cardList__card_image_info_white),children:[(0,x.jsx)(i.Ee,{className:o.Z.card_image,alt:"logo",src:w,fallbackSrc:_.Z,"data-testid":"card-img"}),(0,x.jsxs)(r.xu,{className:o.Z.card_details,children:[(0,x.jsxs)(r.xu,{pt:"14px",mb:"auto",children:[(0,x.jsx)(r.xv,{color:C,fontWeight:"500",fontSize:"10px",children:f("cards_list.".concat(m.cardType))}),(0,x.jsx)(r.xv,{color:"#A1A1A1",fontSize:"10px",children:"Limited Use"})]}),n?(0,x.jsx)(r.kC,{children:(0,x.jsx)(r.xu,{className:o.Z["secret-wrapper"],height:"20px",width:"60%",overflow:"hidden",ref:v,mb:"12px"})}):(0,x.jsxs)(r.xv,{color:C,fontWeight:"700",fontSize:"15px",pb:"8px",children:["**** **** ****"," ",m.last4]}),(0,x.jsxs)(r.Ug,{children:[(0,x.jsxs)(r.xu,{alignItems:"flex-start",mr:"40px",children:[(0,x.jsx)(r.xv,{color:"#A1A1A1",fontSize:"10px",children:f("cards_list.expDate")}),(0,x.jsxs)(r.xv,{color:C,fontSize:"13px",children:[m.expiryMonth,"/",m.expiryYear]})]}),(0,x.jsxs)(r.xu,{alignItems:"flex-start",children:[(0,x.jsx)(r.xv,{color:"#A1A1A1",fontSize:"10px",children:f("cards_list.cvv")}),n?(0,x.jsx)(r.xu,{className:o.Z["secret-wrapper"],height:"20px",width:"50px",ref:g}):(0,x.jsx)(r.xv,{color:C,fontSize:"13px",children:"***"})]})]}),(0,x.jsxs)(r.xu,{mt:"auto",children:[(0,x.jsx)(r.xv,{color:C,fontWeight:"700",fontSize:"9px",children:""!==m.embossingPerson?m.embossingPerson:m.cardholder.name}),(0,x.jsx)(r.xv,{color:C,fontWeight:"700",fontSize:"9px",children:""!==m.embossingBusiness?m.embossingBusiness:null===b||void 0===b?void 0:b.legalName})]})]})]})}));a.Z=h},7427:function(t,a,n){n.d(a,{a:function(){return l},f:function(){return o}});var e=n(9831),r=n(1951),i=n(80),s=n(286),c=n(7514),o=function(t,a,n,o,l,d,u){return function(_,x){return new Promise((function(h,m){var f="cash"===a?"v1/account/".concat(t,"/transaction?limit=").concat(n,"&offset=").concat(o):"v1/crypto/".concat(t,"/transaction?limit=").concat(n,"&offset=").concat(o);if(u&&(f+="&export=".concat(u)),l&&l.length>0&&(f+="&query=".concat(encodeURIComponent(l))),d){var p=d;Object.keys(d).forEach((function(t){p[t]&&(f+="crypto"===a&&"startDate"===t?"&startTime=".concat(p[t]):"crypto"===a&&"endDate"===t?"&endTime=".concat(p[t]):"&".concat(t,"=").concat(p[t]))}))}setTimeout((function(){"pdf"===u?(0,i.V_)(!0):_((0,c.Rn)(!0))}),0),s.Z.get(f,{responseType:"pdf"===u?"blob":"json"}).then((function(t){var a=t.data;if("pdf"!==u){var n=x().transaction.txnList,i=x().transaction.transactions;0===o&&(n={},i=[]),a.data.forEach((function(t){var a=(0,e.default)(t.txnDate),s=(0,r.default)(a,"MMMM yyyy");n[s]?n[s].push(t):n[s]=[t],i.push(t)})),_((0,c.XI)({transactions:i,txnList:n,total:a.total}))}h(a)})).catch(m).finally((function(){"pdf"===u?(0,i.V_)(!1):_((0,c.Rn)(!1))}))}))}},l=function(t,a,n){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";return function(r){return new Promise((function(o,l){(0,i.V_)(!0);var d="crypto"===a?"v1/crypto/".concat(t,"/transaction/").concat(n):"v1/account/".concat(t,"/transaction/").concat(n,"?export=").concat(e);s.Z.get(d,{responseType:"pdf"===e?"blob":"json"}).then((function(t){var a=t.data;"pdf"!==e&&r((0,c.IR)(a)),o(a)})).catch((function(t){t.response&&t.response.data?l(t.response.data):l(t)})).finally((function(){(0,i.V_)(!1)}))}))}}},2559:function(t,a,n){var e=n(9439),r=n(2791),i=n(2020),s=n(8735),c=n(5798),o=n(5048),l=n(4771),d=n(7689),u=n(4144),_=n(8709),x=n(5304),h=n(7208),m=n(80),f=n(8819),p=n(3746),v=n(729),g=n(6559),j=n(1605),b=n(4661),w=n(3692),C=n(184),y=r.lazy((function(){return n.e(2723).then(n.bind(n,2723))})),L=r.lazy((function(){return Promise.all([n.e(4398),n.e(3046)]).then(n.bind(n,9998))})),A=r.lazy((function(){return Promise.all([n.e(5420),n.e(9944)]).then(n.bind(n,9944))})),T=r.forwardRef((function(t,a){var n=t.showSearch,T=t.showAddCard,N=t.cardsPerView,k=t.pagination,Z=t.showExtendedDetails,S=t.showCompactView,z=(0,i.$)().t,D=(0,x.Qo)(),M=(0,r.useRef)(1),V=(0,b.y)().open,U=(0,d.s0)(),P=(0,r.useRef)(!1),R=(0,r.useRef)(""),H=(0,r.useState)(""),I=(0,e.Z)(H,2),E=I[0],G=I[1],O=(0,x.CG)((function(t){return t.card}),o.wU),W=O.cards,F=O.cardLoading,B=(0,x.CG)((function(t){return t.account.selectedAccount}),o.wU),q=(0,x.CG)((function(t){return t.core.programConfig}),o.wU),$=(0,r.useMemo)((function(){return T&&S}),[T,W,q,S]),J=(0,r.useCallback)((function(){B&&D((0,h.on)(B.id,N,(M.current-1)*N,0===E.length?void 0:E)).catch(m.WH)}),[B,N,M,E]),Y=(0,r.useCallback)((function(){D((0,p.Py)(null)),V(y)}),[]);(0,r.useEffect)((function(){return(0,m.pt)(null===q||void 0===q?void 0:q.brand.cardArtPhysical),(0,m.pt)(null===q||void 0===q?void 0:q.brand.cardArtVirtual),J(),w.T.subscribe(w.z.CARD_REFRESH,(function(){M.current=1,J()}))}),[B]),(0,v.bX)((function(){P.current&&(M.current=1,R.current=E,J())}),1e3,[E,P]),(0,r.useImperativeHandle)(a,(function(){return{cardListRefresh:function(){M.current=1,J()}}}));var X=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,C.jsx)(s.xu,{className:"".concat(_.Z.cardList__add_container," default-bg ").concat(t?_.Z.cardList__add_container_horizontal:""),onClick:Y,children:(0,C.jsxs)(s.M5,{className:_.Z.cardList__add,children:[(0,C.jsx)(u.Z,{icon:"icon-add",className:"icon-customizable",size:40}),(0,C.jsx)(s.xv,{variant:"regular",pt:"10px",children:z("cards_list.addACard")})]})})},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,C.jsxs)(s.xu,{className:"".concat(_.Z.autoCardHeight," ").concat(0===W.data.length?_.Z.dBlock:""," "),children:[0!==W.data.length||$?null:(0,C.jsx)(s.M5,{py:2,children:(0,C.jsx)(s.xv,{variant:"regular",className:"text-light",textAlign:"center",children:z("cards_list.noData")})}),W.data.map((function(t){return(0,C.jsxs)(s.xu,{className:"".concat(_.Z.cardList__card_container," ").concat(Z?"has-border":""," ").concat("inactive"===t.cardStatus?_.Z["cardList__card_container--freezed"]:""),onClick:function(){D((0,p.Vf)(t)),setTimeout((function(){V("pendingActivation"!==t.cardStatus?A:L,{id:t.id})}),0)},children:[(0,C.jsx)(f.Z,{data:t}),Z?(0,C.jsx)(s.xu,{pt:3,children:(0,C.jsxs)(s.Ug,{className:_.Z.cardList__label_limit,children:[(0,C.jsxs)(s.xu,{w:"48%",children:[(0,C.jsx)(s.xv,{variant:"small",textAlign:"left",children:z("cards_list.label")}),(0,C.jsx)(s.xv,{variant:"regular",textAlign:"left",children:t.label})]}),(0,C.jsxs)(s.xu,{w:"52%",className:_.Z.cardList__spending_limit,children:[(0,C.jsx)(s.xv,{variant:"small",textAlign:"left",children:z("cards_list.spendingLimit")}),(0,C.jsxs)(s.xv,{variant:"regular",textAlign:"left",children:["$"," ",t.limitAmount]})]})]})}):null]},"card-".concat(t.id))})),$?X(t):null]})},K=(0,r.useCallback)((function(){U("/cards")}),[]);return(0,C.jsx)(s.M5,{className:"page",height:"100%",children:F&&1===M.current&&!P.current?(0,C.jsx)(g.Z,{name:S?"CardGrid":"CardList",showHeader:!S}):(0,C.jsxs)(s.xu,{width:"100%",flexDirection:"column",height:"100%",display:"flex",children:[(0,C.jsxs)(s.xu,{p:S?"":"15px",children:[(0,C.jsxs)(s.Ug,{width:"100%",justifyContent:"space-between",mb:"24px",children:[(0,C.jsx)(s.xv,{variant:"large",children:z("cards_list.title")}),S?(0,C.jsxs)(s.xv,{variant:"regular",className:"text-light",fontSize:"16px",cursor:"pointer",onClick:K,children:[z("cards_list.viewAll"),(0,C.jsx)(u.Z,{style:{marginLeft:"10px"},icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}):null]}),(0,C.jsxs)(s.Ug,{mt:"16px",children:[n&&!S?(0,C.jsxs)(s.xu,{className:_.Z.cardList__search,children:[(0,C.jsx)(u.Z,{icon:"icon-search",className:_.Z.cardList__search__icon,size:18}),(0,C.jsx)(c.II,{placeholder:z("cards_list.searchCards"),variant:"primary",className:_.Z.cardList__search__input,onChange:function(t){P.current=!0,G(t.target.value)},value:E})]}):null,T&&n&&!S?(0,C.jsxs)(s.M5,{className:"".concat(_.Z.contactAddContainer," button-icon-bg"),onClick:Y,children:[(0,C.jsx)(u.Z,{className:"dark-color",icon:"icon-plus",size:16}),(0,C.jsx)(s.xv,{className:"".concat(_.Z.contactAddTxt," dark-color"),children:z("select_contact.add")})]}):null]})]}),F&&P.current?(0,C.jsx)(g.Z,{name:"CardList",showHeader:!1}):S?(0,C.jsx)("div",{className:_.Z.scrollableDivHorizontal,id:"scrollableDiv",children:Q(!0)}):(0,C.jsx)("div",{className:_.Z.scrollableDiv,id:"scrollableDiv",children:(0,C.jsx)(l.Z,{dataLength:W.data.length,next:function(){M.current+=1,J()},hasMore:k&&W.data.length<W.total&&0!==W.total,loader:(0,C.jsx)(s.M5,{my:3,children:(0,C.jsx)(j.Z,{showModal:!1,show:!0})}),endMessage:F?null:(0,C.jsx)(s.M5,{py:2,children:(0,C.jsx)(s.xv,{variant:"regular",className:"text-light",textAlign:"center",children:z(0===W.total?T?"":"cards_list.noData":"cards_list.noMoreCards")})}),scrollableTarget:"scrollableDiv",children:Q()})})]})})}));a.Z=T},6903:function(t,a,n){n.r(a),n.d(a,{default:function(){return w}});var e=n(2791),r=n(5223),i=n(8735),s=n(5048),c=n(2020),o=n(7689),l=n(5304),d=n(80),u=n(4144),_=n(680),x=n(9336),h=n(2559),m="Dashboard_hideItInMobile__6wcqm",f="Dashboard_showItInMobile__BlcTM",p="Dashboard_accountLabel__BRzeD",v=n(4661),g=n(184),j=e.lazy((function(){return n.e(5772).then(n.bind(n,5756))})),b=e.lazy((function(){return Promise.all([n.e(9259),n.e(1149)]).then(n.bind(n,8421))})),w=function(){var t=(0,c.$)().t,a=(0,v.y)().open,n=(0,o.s0)(),w=(0,l.CG)((function(t){return t.user.personDetails}),s.wU),C=(0,l.CG)((function(t){return t.account}),s.wU),y=C.selectedAccount,L=C.selectedAccountType,A=(0,l.CG)((function(t){return t.business.selectedBusiness}),s.wU),T=(0,r.VP)((null===y||void 0===y?void 0:y.accountNumber)||"",2e3),N=T.hasCopied,k=T.onCopy,Z=(0,e.useRef)(null),S=(0,e.useMemo)((function(){return A?A.legalName:"".concat(null===w||void 0===w?void 0:w.firstName," ").concat(null===w||void 0===w?void 0:w.lastName)}),[w,A]),z=(0,e.useCallback)((function(){a(j)}),[]),D=(0,e.useCallback)((function(){a(b,{id:null===A||void 0===A?void 0:A.id})}),[A]),M=(0,e.useCallback)((function(){n("/fund")}),[]),V=(0,e.useCallback)((function(){n("/contacts")}),[]);return(0,g.jsxs)("div",{className:"page",id:"dashboard-page",children:[(0,g.jsx)(i.xu,{mb:"24px",children:(0,g.jsxs)(i.kC,{children:[(0,g.jsx)(i.xv,{"data-testid":"heading",variant:"large",mr:"auto",children:S}),A&&"personChecking"!==A.id?(0,g.jsx)(i.xv,{variant:"small",cursor:"pointer",className:"text-light",onClick:D,children:"View Details"}):null]})}),(0,g.jsx)(i.xu,{mb:"24px",children:(0,g.jsxs)(i.kC,{gap:"24px",flexWrap:{base:"wrap",md:"nowrap"},children:[(0,g.jsxs)(i.xu,{width:{base:"100%",md:"cardAccount"!==(null===y||void 0===y?void 0:y.type)?"50%":"100%"},borderRadius:"4px",backgroundColor:"var(--dashboard-card-background-color)",color:"var(--dashboard-card-text-color)",padding:"24px",children:[(0,g.jsxs)(i.kC,{mb:"12px",justifyContent:"space-between",children:[(0,g.jsx)(i.xv,{className:p,lineHeight:"24px",fontSize:"20px",children:null===y||void 0===y?void 0:y.label}),(0,g.jsx)(i.xv,{cursor:"pointer",fontSize:"14px",textDecoration:"underline",onClick:z,className:m,children:"View Details"}),(0,g.jsx)(i.xv,{display:"none",fontWeight:"bold",textAlign:"left",mb:"8px",fontSize:"14px",className:f,children:y?(0,d.OH)(y.availableBalance,y.currency):null})]}),(0,g.jsx)(i.xv,{fontWeight:"bold",textAlign:"left",mb:"34px",fontSize:"30px",className:m,children:y?(0,d.OH)(y.availableBalance,y.currency):null}),(0,g.jsxs)(i.kC,{justify:"space-between",children:[(0,g.jsxs)(i.kC,{gap:"21px",alignItems:"center",children:[(0,g.jsxs)(i.xv,{color:"var(--dashboard-card-text-color)",variant:"regular",children:[t("dashboard.dashboard_accNo_title")," ",null===y||void 0===y?void 0:y.accountNumber]}),N?(0,g.jsx)(u.Z,{icon:"tick",cursor:"pointer",size:12}):(0,g.jsx)(u.Z,{onClick:k,icon:"copy",cursor:"pointer",size:12})]}),(0,g.jsx)(i.xv,{display:"none",cursor:"pointer",fontSize:"14px",textDecoration:"underline",color:"var(--dashboard-card-text-color)",onClick:z,className:f,children:"View Details"})]})]}),"cardAccount"!==(null===y||void 0===y?void 0:y.type)?(0,g.jsxs)(i.gC,{width:{base:"100%",md:"50%"},children:[(0,g.jsx)(i.xu,{cursor:"pointer",width:"100%",padding:"16px 24px 16px 16px",backgroundColor:"var(--list-item-background)",onClick:M,children:(0,g.jsxs)(i.Ug,{justifyContent:"space-between",children:[(0,g.jsxs)("div",{className:"details",children:[(0,g.jsx)(i.xv,{fontSize:"20px",lineHeight:"24px",paddingBottom:"12px",variant:"regular",textAlign:"left",children:t("dashboard.dashboard_row_fund_title")}),(0,g.jsx)(i.xv,{variant:"small",textAlign:"left",children:t("dashboard.dashboard_row_fund_desc",{value:null===y||void 0===y?void 0:y.label})})]}),(0,g.jsx)(u.Z,{style:{marginLeft:"8px"},icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]})}),(0,g.jsx)(i.xu,{cursor:"pointer",width:"100%",padding:"16px 24px 16px 16px",backgroundColor:"var(--list-item-background)",onClick:V,children:(0,g.jsxs)(i.Ug,{justifyContent:"space-between",children:[(0,g.jsxs)("div",{className:"details",children:[(0,g.jsx)(i.xv,{fontSize:"20px",lineHeight:"24px",paddingBottom:"12px",variant:"regular",textAlign:"left",children:t("dashboard.dashboard_row_pay_title")}),(0,g.jsx)(i.xv,{variant:"small",textAlign:"left",children:t("dashboard.dashboard_row_pay_desc",{value:null===y||void 0===y?void 0:y.label})})]}),(0,g.jsx)(u.Z,{style:{marginLeft:"8px"},icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]})})]}):null]})}),(0,g.jsx)(i.xu,{children:(0,g.jsx)(_.Z,{showSearch:!1,showAdd:!1,showEmptyState:!1,showCompactView:!0,pagination:!1,contactsPerView:10,showBack:!1})}),(0,g.jsx)(i.xu,{mt:"24px",mb:"24px",children:(0,g.jsx)(x.Z,{accountType:L,filterRequest:void 0,showFilter:!1,showExport:!1,showMonth:!1,showSearch:!1,showCompactView:!0,transactionsPerView:20,dateFormat:"MMM d, yyyy 'at' h:mm aa"})}),(0,g.jsx)(i.xu,{children:(0,g.jsx)(h.Z,{ref:Z,showSearch:!1,showAddCard:!0,cardsPerView:20,pagination:!1,showExtendedDetails:!1,showCompactView:!0})})]})}},9336:function(t,a,n){n.d(a,{Z:function(){return N}});var e=n(1413),r=n(9439),i=n(2791),s=n(2020),c=n(8735),o=n(5798),l=n(6450),d=n(5048),u=n(4771),_=n(1951),x=n(7689),h=n(4144),m={bodyStyles:"TransactionsList_bodyStyles__DV1tn",transaction__box:"TransactionsList_transaction__box__rlmOM",scrollableDiv:"TransactionsList_scrollableDiv__lUBu3",transactions__search:"TransactionsList_transactions__search__X7iW3",transactions__search__icon:"TransactionsList_transactions__search__icon__rJTxm",transactions__search__input:"TransactionsList_transactions__search__input__YC3Vr",transactions__filter:"TransactionsList_transactions__filter__U5l+w",transactions__list_month:"TransactionsList_transactions__list_month__7mtUP",transactions__month_header:"TransactionsList_transactions__month_header__6369R",transactions__list_item:"TransactionsList_transactions__list_item__elp8k",tag:"TransactionsList_tag__vt8SQ",tag__intrabank:"TransactionsList_tag__intrabank__rkOgY",tag__card:"TransactionsList_tag__card__I1gKw",transaction__description:"TransactionsList_transaction__description__XrkJ8",transaction__received:"TransactionsList_transaction__received__k9ILX",transaction__sent:"TransactionsList_transaction__sent__HFnJf"},f=n(5304),p=n(729),v=n(80),g=n(6559),j=n(1605),b=n(7427),w=n(7514),C=n(4661),y=n(3692),L=n(184),A=i.lazy((function(){return Promise.all([n.e(4398),n.e(4044),n.e(5326),n.e(8148)]).then(n.bind(n,219))})),T=i.memo((function(t){var a,e=t.transactionData,r=t.dateFormat,o=(0,s.$)().t,l=(0,C.y)().open,u=(0,f.CG)((function(t){return t.core.ui}),d.wU),x=(0,i.useMemo)((function(){return(0,_.default)(new Date(e.createdAt),r)}),[r,e.createdAt]),h=(0,i.useMemo)((function(){var t=e.walletId?e.amount:(0,v.OH)(e.amount);return parseFloat(e.amount)>0?"+".concat(t):t}),[e]),p=(0,i.useMemo)((function(){return"pending"===e.status?"#FFAC4A":"canceled"===e.status?"#FF4A4A":"".concat("debit"===e.txnType?"#FF4A4A":"#2EC193")}),[e]);return(0,L.jsxs)(c.HC,{backgroundColor:"var(--bg-white)","data-class":"transaction-list-item","data-testid":"transaction-item-".concat(e.id),onClick:function(){l(i.lazy((function(){return Promise.all([n.e(9259),n.e(714)]).then(n.bind(n,714))})),{id:e.id})},className:m.transactions__list_item,children:[(0,L.jsx)(c.xu,{className:"".concat(m.tag," ").concat(m["tag__".concat(e.transferType)]),children:(0,L.jsx)(c.xv,{textTransform:"capitalize",variant:"small",textAlign:"center",color:"inherit",textOverflow:"ellipsis",overflow:"hidden",children:o(["transactions_list.".concat(e.transferType),e.transferType||""])})}),(0,L.jsxs)(c.xu,{className:m.transaction__description,children:[(0,L.jsx)(c.xv,{variant:"regular",className:"text-dark",textAlign:"left",children:e.title}),(0,L.jsx)(c.xv,{variant:"small",className:"text-light",textAlign:"left",children:"pending"===e.status?"Pending":x})]}),(0,L.jsx)(c.xv,{variant:"small",title:"".concat((0,v.OH)(e.amount)),textAlign:"right",fontWeight:null===(a=u.modules.transactions)||void 0===a?void 0:a.amountFontWeight,color:p,children:h})]})})),N=function(t){var a=t.showFilter,n=t.showExport,_=t.showMonth,N=t.showSearch,k=t.showCompactView,Z=t.accountType,S=t.filterRequest,z=t.transactionsPerView,D=void 0===z?20:z,M=t.dateFormat,V=(0,s.$)().t,U=(0,C.y)().open,P=(0,x.s0)(),R=(0,i.useState)(""),H=(0,r.Z)(R,2),I=H[0],E=H[1],G=(0,i.useState)(""),O=(0,r.Z)(G,2),W=O[0],F=O[1],B=(0,i.useRef)(0),q=(0,i.useRef)(!1),$=(0,f.Qo)(),J=(0,f.CG)((function(t){return t.transaction.transactionLoading}),d.wU),Y=(0,f.CG)((function(t){return t.transaction.transactions}),d.wU),X=(0,f.CG)((function(t){return t.transaction.txnList}),d.wU),Q=(0,f.CG)((function(t){return t.transaction.total}),d.wU),K=(0,f.CG)((function(t){return t.account.selectedAccount}),d.wU),tt=(0,f.CG)((function(t){return t.crypto.selectedAccount}),d.wU),at=(0,f.CG)((function(t){return t.transaction.filters}),d.wU),nt=Y.length,et=(0,i.useMemo)((function(){return(0,e.Z)((0,e.Z)({},at.data),{},{timePeriod:at.tmpStates.timePeriod})}),[at]),rt=B.current/D+1;(0,p.bX)((function(){B.current=0,F(I)}),1e3,[I]);var it=(0,i.useRef)(1),st=(0,i.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,e.Z)({},et),r="cash"===Z&&K?K.id:"crypto"===Z&&tt?tt.id:"";if(""!==r){var i=JSON.parse(JSON.stringify(n));"card"===i.txnType&&(i.txnType=void 0,i.transferType="card"),"0.00"!==i.maxAmount&&"0"!==i.maxAmount||delete i.maxAmount,$((0,b.f)(r,Z,"pdf"===t?100:D,"pdf"===t?0:B.current,W,a?i:void 0,t)).then((function(a){if("pdf"===t){var n=window.URL.createObjectURL(a),e=document.createElement("a");e.href=n,e.download="statement.pdf",e.click(),e.remove()}})).catch(v.WH)}}),[K,W,B,D,et,S,it,a]);(0,i.useEffect)((function(){st()}),[W,K]),(0,i.useEffect)((function(){return y.T.subscribe(y.z.TRANSACTION_REFRESH,(function(){B.current=0,st()}))}),[et,st]);var ct=(0,i.useCallback)((function(){P("/transactions")}),[]),ot=(0,i.useCallback)((function(t){var a=JSON.parse(JSON.stringify((0,e.Z)({},at))),n=a.data,r=a.tmpStates;"txnType"===t?(n.txnType=void 0,n.transferType=void 0,r.transactionType=void 0):"amount"===t?(n.minAmount=void 0,n.maxAmount=void 0,r.amount={min:"",max:""}):"timePeriod"===t&&(n.startDate=void 0,n.endDate=void 0,r.startDate=void 0,r.endDate=void 0,r.timePeriod=void 0),$((0,w.L5)({data:n,tmpStates:r})),setTimeout((function(){st("json",n)}),0)}),[at]),lt=function(){return Object.keys(X).map((function(t){return(0,L.jsxs)(c.xu,{"data-testid":"month-group-".concat(t.replace(/ /g,"_")),children:[_&&(0,L.jsx)(c.xv,{"data-testid":"month-name-text",variant:"large",className:m.transactions__month_header,children:t}),(0,L.jsx)(c.aV,{className:m.transactions__list_month,"data-class":"transaction-list",children:X[t].map((function(t){return(0,L.jsx)(T,{transactionData:t,dateFormat:M},t.id)}))})]},"tr-".concat(t))}))},dt=(0,i.useMemo)((function(){return{credit:V("filter.credits"),debit:V("filter.debits"),card:V("filter.cardTransactions")}}),[]);return(0,L.jsx)(c.xu,{className:m.bodyStyles,children:J&&1===rt&&!q.current?(0,L.jsx)(g.Z,{name:"TransactionListView",showHeader:!k}):(0,L.jsxs)(c.xu,{width:"100%",height:"100%",className:m.transaction__box,children:[(0,L.jsxs)("div",{children:[(0,L.jsxs)(c.Ug,{width:"100%",children:[(0,L.jsx)(c.xv,{"data-testid":"heading",variant:"large",mr:"auto",children:V("transactions_list.title")}),k&&0!==Q?(0,L.jsxs)(c.xv,{variant:"regular",className:"text-light",fontSize:"16px",cursor:"pointer",onClick:ct,children:[V("transactions_list.viewAll"),(0,L.jsx)(h.Z,{style:{marginLeft:"8px"},icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}):null,n?(0,L.jsxs)(c.Ug,{ml:"auto",cursor:"pointer",onClick:function(){return st("pdf")},"data-testid":"export-icon",children:[(0,L.jsx)(h.Z,{icon:"icon-export",size:16}),(0,L.jsx)(c.xv,{variant:"regular",className:"transactions__export-title",children:V("transactions_list.exportTitle")}),(0,L.jsx)(h.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}):null]}),(0,L.jsxs)(c.Ug,{my:N||a?"16px":"0px",children:[N?(0,L.jsxs)(c.xu,{className:m.transactions__search,children:[(0,L.jsx)(h.Z,{icon:"icon-search",className:m.transactions__search__icon,size:18}),(0,L.jsx)(o.II,{"data-testid":"search-input",placeholder:V("transactions_list.searchTransactions"),variant:"primary",className:m.transactions__search__input,value:I,onChange:function(t){q.current=!0,E(t.target.value)}})]}):null,a?(0,L.jsx)(c.M5,{className:"".concat(m.transactions__filter),"data-testid":"filter-handler",onClick:function(){U(A)},children:(0,L.jsx)(h.Z,{icon:"icon-filter",size:20})}):null]})]}),(0,L.jsxs)(c.Ug,{spacing:4,marginBottom:"16px",children:[et.txnType?(0,L.jsxs)(l.Vp,{variant:"primary",padding:"10px","data-testid":"filter-tag-txnType",children:[(0,L.jsx)(l.Sn,{fontSize:"12px",textTransform:"uppercase",children:dt[et.txnType]}),(0,L.jsx)(l.SD,{onClick:function(){ot&&ot("txnType")}})]}):null,et.minAmount&&"0.00"!==et.minAmount||et.maxAmount&&"0.00"!==et.maxAmount?(0,L.jsxs)(l.Vp,{variant:"primary",padding:"10px","data-testid":"filter-tag-amount",children:[(0,L.jsx)(l.Sn,{fontSize:"12px",textTransform:"uppercase",children:et.minAmount&&et.maxAmount&&"0.00"!==et.minAmount&&"0.00"!==et.maxAmount?"".concat((0,v.OH)(et.minAmount)," - ").concat((0,v.OH)(et.maxAmount)):et.minAmount&&"0.00"!==et.minAmount?(0,v.OH)(et.minAmount):"".concat((0,v.OH)("0.00")," - ").concat((0,v.OH)(et.maxAmount||""))}),(0,L.jsx)(l.SD,{onClick:function(){ot&&ot("amount")}})]}):null,et.timePeriod&&("custom"!==et.timePeriod||et.startDate&&""!==et.startDate||et.endDate&&""!==et.endDate)?(0,L.jsxs)(l.Vp,{variant:"primary",padding:"10px","data-testid":"filter-tag-time",children:[(0,L.jsx)(l.Sn,{fontSize:"12px",textTransform:"uppercase",children:"custom"===et.timePeriod?et.startDate&&et.endDate&&""!==et.startDate&&""!==et.endDate?"".concat(et.startDate," - ").concat(et.endDate):et.startDate&&""!==et.startDate?et.startDate:et.endDate:V("filter.".concat(et.timePeriod))}),(0,L.jsx)(l.SD,{onClick:function(){ot&&ot("timePeriod")}})]}):null]}),J&&q.current?(0,L.jsx)(g.Z,{name:"TransactionListView",showHeader:!1}):(0,L.jsx)("div",{style:{height:"100%",overflowY:"scroll"},className:m.scrollableDiv,id:"scrollableDiv",children:k?lt():(0,L.jsx)(u.Z,{scrollThreshold:.6,dataLength:nt,next:function(){B.current=rt*D,setTimeout((function(){console.log("call from infi"),st()}),0)},hasMore:nt<Q&&0!==Q,loader:(0,L.jsx)(c.M5,{my:3,children:(0,L.jsx)(j.Z,{showModal:!1,show:!0})}),endMessage:J?null:(0,L.jsxs)(L.Fragment,{children:[0!==Q?(0,L.jsx)(c.iz,{className:"no_transaction"}):null,(0,L.jsx)(c.M5,{py:2,children:(0,L.jsx)(c.xv,{variant:"regular",textAlign:"center",className:"text-light",children:V(0===Q?"transactions_list.noData":"transactions_list.noMoreTransactions")})})]}),scrollableTarget:"scrollableDiv",children:lt()})})]})})}},1098:function(t,a){a.Z={card_image_info:"Card_card_image_info__1lu3-",cardList__card_image_info_white:"Card_cardList__card_image_info_white__oomdL",card_image:"Card_card_image__zhqS8",card_details:"Card_card_details__wrMqr","secret-wrapper":"Card_secret-wrapper__XSUD8",cancel_card:"Card_cancel_card__ZnXGe",sent_card:"Card_sent_card__modhG",is_cancelled:"Card_is_cancelled__oods1"}},8709:function(t,a){a.Z={cardList__search:"CardList_cardList__search__Ve3dW",cardList__search__icon:"CardList_cardList__search__icon__Nt5V1",cardList__search__input:"CardList_cardList__search__input__byGJP",cardList__add_container:"CardList_cardList__add_container__zW00k",scrollableDivHorizontal:"CardList_scrollableDivHorizontal__jq3FO",cardList__add_container_horizontal:"CardList_cardList__add_container_horizontal__OqIB6",cardList__add:"CardList_cardList__add__WnnR0",cardList__card_container:"CardList_cardList__card_container__qp9to","cardList__card_container--freezed":"CardList_cardList__card_container--freezed__Zn+xc",cardList__balance:"CardList_cardList__balance__F4402",cardList__spending_limit:"CardList_cardList__spending_limit__Pcoza",scrollableDiv:"CardList_scrollableDiv__2Wuiq",autoCardHeight:"CardList_autoCardHeight__NhohS","has-border":"CardList_has-border__JeW25",rewards_get_card:"CardList_rewards_get_card__g5sZw",see_rewards:"CardList_see_rewards__7Tw0x",is_large:"CardList_is_large__d8WYW",see_rewards_dark:"CardList_see_rewards_dark__-C7GM",rewards_get_card_dark:"CardList_rewards_get_card_dark__e6ZY8",rewards_text:"CardList_rewards_text__RQtYj",rewards_get_card_btn:"CardList_rewards_get_card_btn__wlYD1",dBlock:"CardList_dBlock__jM26p",contactAddContainer:"CardList_contactAddContainer__jpldz",contactAddTxt:"CardList_contactAddTxt__AT0Wi"}}}]);
//# sourceMappingURL=8746.b4adbca4.chunk.js.map