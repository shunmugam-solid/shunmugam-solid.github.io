"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[375,870],{1023:function(e,n,t){var a=t(2791),r=t(5798),i=t(4398),l=t.n(i),c=t(184);n.Z=function(e){var n=e.onChange,t=e.value,i=e.placeholder,o=e.prefix,u=e.digits,s=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){s.current&&l()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==o&&void 0!==o?o:"$ ",placeholder:i,rightAlign:!1,digits:u,numericInput:!0}).mask(s.current)}),[o,u,i]),(0,c.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:s,onChange:function(e){var t=e.target.value;n(t)},value:t})}},9458:function(e,n,t){var a=t(2791),r=t(9275);n.Z=function(e){var n={token:e.token,onSuccess:e.onSuccess,onExit:e.onExit},t=(0,r.usePlaidLink)(n),i=t.open,l=t.ready;return(0,a.useEffect)((function(){l&&i()}),[l,i]),null}},870:function(e,n,t){t.r(n);var a=t(9439),r=t(2791),i=t(2020),l=t(2504),c=t(8735),o=t(3393),u=t(7640),s=t(5798),d=t(5048),p=t(5425),f=t(5304),m=t(3741),h=t(80),v=t(1458),g=t(1023),y=t(9458),_=t(4661),E=t(184),I=r.lazy((function(){return Promise.all([t.e(7625),t.e(4713)]).then(t.bind(t,4713))}));n.default=function(){var e=(0,i.$)().t,n=(0,_.y)(),t=n.data,b=void 0===t?{}:t,x=b.option,N=b.contactId,X=n.open,k=(0,f.CG)((function(e){return e.account}),d.wU),j=k.selectedAccount,C=k.selfBankAccounts,S=k.linkedCards,w=(0,f.Qo)(),T=(0,r.useState)(N),z=(0,a.Z)(T,2),L=z[0],O=z[1],R=(0,r.useState)(""),G=(0,a.Z)(R,2),A=G[0],P=G[1],$=(0,r.useState)(""),Z=(0,a.Z)($,2),M=Z[0],H=Z[1],U=(0,r.useState)(null),D=(0,a.Z)(U,2),Y=D[0],B=D[1],q=(0,r.useMemo)((function(){return""!==A&&""!==M&&""!==L}),[L,A,M]),Q=(0,r.useCallback)((function(){j&&L&&w((0,m.MI)(j.id,{packageName:"web",plaidUpdateMode:{type:"itemLoginRequired",contactId:L}})).then((function(e){B(e.linkToken)}))}),[j,L]),V=(0,r.useCallback)((function(e,n){console.log(e,n)}),[]),W=(0,r.useCallback)((function(){q&&j&&L&&w((0,m.DB)({accountId:j.id,amount:A,contactId:L,description:M},x)).then((function(){var e,n,t,a="bank"===x?C.find((function(e){return e.id===L})):S.data.find((function(e){return e.id===L}));w((0,v.ud)({label:"bank"===x?"".concat(null===a||void 0===a||null===(e=a.ach)||void 0===e?void 0:e.bankName," XXXXXX ").concat(null===a||void 0===a||null===(n=a.ach)||void 0===n?void 0:n.accountNumber.slice(a.ach.accountNumber.length-4)):"XXXX XXXX XXXX ".concat(null===(t=a.debitCard)||void 0===t?void 0:t.last4),amount:A,description:M})),setTimeout((function(){X(I,{option:x})}),0)})).catch((function(e){console.log(e),"bank"===x&&"EC_PLAID_LINK_MODE_UPDATE_ITEM_LOGIN_REQUIRED"===e.response.data.code?((0,h.c0)("An error occurred.","Plaid connection expired. You need to reconnect your bank account.","error"),setTimeout((function(){Q()}),1e3)):(0,h.WH)(e)}))}),[x,L,j,q,A,M]);return(0,E.jsxs)("div",{className:"page",children:[(0,E.jsx)(p.Z,{heading:e("pull_funds_info.title"),footer:(0,E.jsx)(l.zx,{width:"100%",variant:"primary",onClick:W,disabled:!q,children:e("pull_funds_info.ctaText")}),children:(0,E.jsxs)(c.xu,{width:"100%",paddingTop:"15px",children:[(0,E.jsxs)(o.NI,{variant:"primary",children:[(0,E.jsx)(o.lX,{variant:"primary",children:e("pull_funds_info.source")}),(0,E.jsx)(u.Ph,{variant:"primary",value:L,onChange:function(e){return O(e.target.value)},children:"bank"===x?C.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[e.ach.bankName," ","XXXXXX"," ",e.ach.accountNumber.slice(e.ach.accountNumber.length-4)]},e.id)})):S.data.map((function(e){var n;return e.debitCard?(0,E.jsxs)("option",{value:e.id,children:["XXXX XXXX XXXX"," ",null===(n=e.debitCard)||void 0===n?void 0:n.last4]},e.id):null}))})]}),(0,E.jsxs)(o.NI,{variant:"primary",children:[(0,E.jsx)(o.lX,{variant:"primary",children:e("pull_funds_info.destination")}),(0,E.jsx)(s.II,{disabled:!0,value:null===j||void 0===j?void 0:j.label,variant:"primary"})]}),(0,E.jsxs)(o.NI,{variant:"primary",children:[(0,E.jsx)(o.lX,{variant:"primary",children:e("pull_funds_info.amount")}),(0,E.jsx)(g.Z,{value:A,onChange:function(e){P(e||"")}})]}),(0,E.jsxs)(o.NI,{variant:"primary",children:[(0,E.jsx)(o.lX,{variant:"primary",children:e("pull_funds_info.description")}),(0,E.jsx)(s.II,{required:!0,value:M,onChange:function(e){return H(e.target.value)},variant:"primary"})]})]})}),Y?(0,E.jsx)(y.Z,{token:Y,onSuccess:V,onExit:function(){B(null)}}):null]})}},5798:function(e,n,t){t.d(n,{II:function(){return d}});var a=t(3393),r=t(1938),i=t(6831),l=t(2791),c=t(9611);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}var s=["htmlSize"],d=(0,r.Gp)((function(e,n){var t=e.htmlSize,c=u(e,s),d=(0,r.jC)("Input",c),p=(0,r.Lr)(c),f=(0,a.Yp)(p),m=(0,i.cx)("chakra-input",e.className);return l.createElement(r.m$.input,o({size:t},f,{__css:d.field,ref:n,className:m}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var p=["children","className"],f=(0,r.eC)("InputGroup"),m=f[0],h=f[1],v=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Input",e),a=(0,r.Lr)(e),s=a.children,d=a.className,f=u(a,p),h=(0,i.cx)("chakra-input__group",d),v={},g=(0,c.WR)(s),y=t.field;g.forEach((function(e){if(t){var n,a;if(y&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(n=y.height)?n:y.h;if(y&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(a=y.height)?a:y.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var _=g.map((function(n){var t,a,r=(0,i.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(a=n.props)?void 0:a.variant)||e.variant});return"Input"!==n.type.id?l.cloneElement(n,r):l.cloneElement(n,Object.assign(r,v,n.props))}));return l.createElement(r.m$.div,o({className:h,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},f),l.createElement(m,{value:t},_))}));i.Ts&&(v.displayName="InputGroup");var g=["placement"],y={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},_=(0,r.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),E=(0,r.Gp)((function(e,n){var t,a=e.placement,r=void 0===a?"left":a,i=u(e,g),c=null!=(t=y[r])?t:{},s=h();return l.createElement(_,o({ref:n},i,{__css:o({},s.addon,c)}))}));i.Ts&&(E.displayName="InputAddon");var I=(0,r.Gp)((function(e,n){return l.createElement(E,o({ref:n,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(I.displayName="InputLeftAddon"),I.id="InputLeftAddon";var b=(0,r.Gp)((function(e,n){return l.createElement(E,o({ref:n,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(b.displayName="InputRightAddon"),b.id="InputRightAddon";var x=["placement"],N=["className"],X=["className"],k=(0,r.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),j=(0,r.Gp)((function(e,n){var t,a,r,i=e.placement,c=void 0===i?"left":i,s=u(e,x),d=h(),p=d.field,f=o(((r={})["left"===c?"insetStart":"insetEnd"]="0",r.width=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,r.height=null!=(a=null==p?void 0:p.height)?a:null==p?void 0:p.h,r.fontSize=null==p?void 0:p.fontSize,r),d.element);return l.createElement(k,o({ref:n,__css:f},s))}));j.id="InputElement",i.Ts&&(j.displayName="InputElement");var C=(0,r.Gp)((function(e,n){var t=e.className,a=u(e,N),r=(0,i.cx)("chakra-input__left-element",t);return l.createElement(j,o({ref:n,placement:"left",className:r},a))}));C.id="InputLeftElement",i.Ts&&(C.displayName="InputLeftElement");var S=(0,r.Gp)((function(e,n){var t=e.className,a=u(e,X),r=(0,i.cx)("chakra-input__right-element",t);return l.createElement(j,o({ref:n,placement:"right",className:r},a))}));S.id="InputRightElement",i.Ts&&(S.displayName="InputRightElement")},7640:function(e,n,t){t.d(n,{Ph:function(){return v}});var a=t(3393),r=t(1938),i=t(7160),l=t(6831),c=t(6198),o=t.n(c),u=t(2791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}var p=["children","placeholder","className"],f=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],m=["children"],h=(0,r.Gp)((function(e,n){var t=e.children,a=e.placeholder,i=e.className,c=d(e,p);return u.createElement(r.m$.select,s({},c,{ref:n,className:(0,l.cx)("chakra-select",i)}),a&&u.createElement("option",{value:""},a),t)}));l.Ts&&(h.displayName="SelectField");var v=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Select",e),c=(0,r.Lr)(e),p=c.rootProps,m=c.placeholder,v=c.icon,g=c.color,y=c.height,E=c.h,I=c.minH,b=c.minHeight,x=c.iconColor,N=c.iconSize,X=d(c,f),k=(0,l.Vl)(X,i.oE),j=k[0],C=k[1],S=(0,a.Yp)(C),w={width:"100%",height:"fit-content",position:"relative",color:g},T=o()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return u.createElement(r.m$.div,s({className:"chakra-select__wrapper",__css:w},j,p),u.createElement(h,s({ref:n,height:null!=E?E:y,minH:null!=I?I:b,placeholder:m},S,{__css:T}),e.children),u.createElement(_,s({"data-disabled":(0,l.PB)(S.disabled)},(x||g)&&{color:x||g},{__css:t.icon},N&&{fontSize:N}),v))}));l.Ts&&(v.displayName="Select");var g=function(e){return u.createElement("svg",s({viewBox:"0 0 24 24"},e),u.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},y=(0,r.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),_=function(e){var n=e.children,t=void 0===n?u.createElement(g,null):n,a=d(e,m),r=u.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return u.createElement(y,s({},a,{className:"chakra-select__icon-wrapper"}),u.isValidElement(t)?r:null)};l.Ts&&(_.displayName="SelectIcon")}}]);
//# sourceMappingURL=375.459a3500.chunk.js.map