"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[219],{1023:function(e,t,a){var n=a(2791),r=a(5798),i=a(4398),s=a.n(i),l=a(184);t.Z=function(e){var t=e.onChange,a=e.value,i=e.placeholder,o=e.prefix,c=e.digits,d=(0,n.useRef)(null);return(0,n.useLayoutEffect)((function(){d.current&&s()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==o&&void 0!==o?o:"$ ",placeholder:i,rightAlign:!1,digits:c,numericInput:!0}).mask(d.current)}),[o,c,i]),(0,l.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:d,onChange:function(e){var a=e.target.value;t(a)},value:a})}},219:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(1413),r=a(2791),i=a(5048),s=a(1951),l=a(3629),o=a(4565),c=a(5719),d=a(4888),u=a(5304),m=a(7514),h=a(9439),x=a(2504),f=a(8735),y=a(3445),p=a(3393),v=a(2020),j=a(9513),g=a.n(j),D=a(5649),T=a(4144),k="TransactionFilter_filter_header__a8wBs",M="TransactionFilter_input_picker__+ZtyG",w="TransactionFilter_amountInputs__PwwNL",C=(a(8639),a(1778)),N=a(1023),Z=a(184),b=function(e){var t=e.showTransactionTypeFilter,a=e.showTimePeriodFilter,i=e.showAmountFilter,s=(e.showCardsFilter,e.filters),l=e.onApply,o=(0,v.$)().t,c=(0,r.useState)(!1),d=(0,h.Z)(c,2),u=d[0],m=d[1],j=(0,r.useState)(!1),b=(0,h.Z)(j,2),F=b[0],_=b[1],S=(0,r.useState)(!1),z=(0,h.Z)(S,2),A=z[0],P=z[1],I=(0,r.useState)(!1),Y=(0,h.Z)(I,2),U=(Y[0],Y[1],(0,r.useState)(new Date)),E=(0,h.Z)(U,2),B=E[0],W=E[1],R=(0,r.useState)(new Date),X=(0,h.Z)(R,2),L=X[0],$=X[1],G=(0,C.qu)().accountType,q=void 0===G?"cash":G,H=(0,r.useState)(),O=(0,h.Z)(H,2),Q=O[0],V=O[1],J=(0,r.useState)(),K=(0,h.Z)(J,2),ee=K[0],te=K[1],ae=(0,r.useState)({physical:!1,virtual:!0}),ne=(0,h.Z)(ae,2),re=(ne[0],ne[1],(0,r.useState)({min:"",max:""})),ie=(0,h.Z)(re,2),se=ie[0],le=ie[1];return(0,r.useEffect)((function(){s&&(s.transactionType&&V(s.transactionType),s.timePeriod&&te(s.timePeriod),s.amount&&le(s.amount),s.startDate&&W(new Date(s.startDate)),s.endDate&&$(new Date(s.endDate)))}),[s]),(0,Z.jsx)("div",{className:"page",children:(0,Z.jsx)(D.Z,{heading:"Filter",showBack:!0,footer:(0,Z.jsx)(x.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",onClick:function(){l&&l({transactionType:Q,timePeriod:ee,amount:se,startDate:B,endDate:L})},children:o("filter.ctaText")}),children:(0,Z.jsxs)(f.xu,{children:[t?(0,Z.jsxs)(f.xu,{"data-testid":"transaction-type-filter",children:[(0,Z.jsxs)(f.Ug,{className:k,onClick:function(){return m(!u)},children:[(0,Z.jsx)(f.xv,{variant:"large",children:o("filter.transactionType")}),u?(0,Z.jsx)(T.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,Z.jsx)(T.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,Z.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:u?(0,Z.jsx)(y.Ee,{onChange:function(e){return e&&V(e)},value:Q,children:(0,Z.jsxs)(f.gC,{alignItems:"flex-start",pb:"20px",children:[(0,Z.jsx)(y.Y8,{value:"credit",variant:"primary",children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.credits")})}),(0,Z.jsx)(y.Y8,{variant:"primary",value:"debit",children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.debits")})}),"cash"===q?(0,Z.jsx)(y.Y8,{variant:"primary",value:"card",children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.cardTransactions")})}):null]})}):null})]}):null,a?(0,Z.jsxs)(f.xu,{"data-testid":"date-filter",children:[(0,Z.jsxs)(f.Ug,{className:k,onClick:function(){return _(!F)},children:[(0,Z.jsx)(f.xv,{variant:"large",children:o("filter.timePeriod")}),F?(0,Z.jsx)(T.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,Z.jsx)(T.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,Z.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:F?(0,Z.jsx)(y.Ee,{children:(0,Z.jsxs)(f.gC,{alignItems:"flex-start",pb:"20px",children:[(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return te("thisWeek"===ee?void 0:"thisWeek")},isChecked:"thisWeek"===ee,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.thisWeek")})}),(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return te("thisMonth"===ee?void 0:"thisMonth")},isChecked:"thisMonth"===ee,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.thisMonth")})}),(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return te("lastMonth"===ee?void 0:"lastMonth")},isChecked:"lastMonth"===ee,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.lastMonth")})}),(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return te("custom"===ee?void 0:"custom")},isChecked:"custom"===ee,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.custom")})}),"custom"===ee?(0,Z.jsxs)(f.Ug,{pt:"20px",children:[(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.from")}),(0,Z.jsx)(g(),{className:M,selected:B,onChange:function(e){return W(e)},placeholderText:o("filter.startDate")})]}),(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.to")}),(0,Z.jsx)(g(),{className:M,selected:L,onChange:function(e){return $(e)},placeholderText:o("filter.endDate")})]})]}):null]})}):null})]}):null,i?(0,Z.jsxs)(f.xu,{"data-testid":"amount-filter",children:[(0,Z.jsxs)(f.Ug,{className:k,onClick:function(){return P(!A)},children:[(0,Z.jsx)(f.xv,{variant:"large",children:o("filter.amount")}),A?(0,Z.jsx)(T.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,Z.jsx)(T.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,Z.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:A?(0,Z.jsxs)(f.Ug,{className:w,children:[(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.from")}),(0,Z.jsx)(N.Z,{value:se.min,onChange:function(e){return le((0,n.Z)((0,n.Z)({},se),{},{min:e||""}))}})]}),(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.to")}),(0,Z.jsx)(N.Z,{value:se.max,onChange:function(e){return le((0,n.Z)((0,n.Z)({},se),{},{max:e||""}))}})]})]}):null})]}):null,null]})})})},F=a(4661),_=a(3692),S=function(){var e=(0,C.Vd)("transactions"),t=e.showAmountFilter,a=e.showCardsFilter,h=e.showTimePeriodFilter,x=e.showTransactionTypeFilter,f=(0,u.CG)((function(e){return e.transaction.filters.tmpStates}),i.wU),y=(0,u.Qo)(),p=(0,F.y)().close,v=(0,r.useMemo)((function(){var e={},t=(0,n.Z)({},f);return"credit"!==e.txnType&&"debit"!==e.txnType&&"card"!==e.txnType||(t.transactionType=e.txnType),e.startDate&&(t.startDate=e.startDate),e.endDate&&(t.endDate=e.endDate),e.timePeriod&&(t.timePeriod=e.timePeriod),e.minAmount&&(t.amount.min=e.minAmount),e.maxAmount&&(t.amount.max=e.maxAmount),t}),[f]);return(0,Z.jsx)(b,{showAmountFilter:t,showCardsFilter:a,showTimePeriodFilter:h,showTransactionTypeFilter:x,filters:v,onApply:function(e){var t=e.transactionType,a=e.amount,n=e.timePeriod,r=e.startDate,i=e.endDate,u={};"credit"!==t&&"debit"!==t&&"card"!==t||(u.txnType=t);var h=new Date,x=new Date(h.getFullYear(),h.getMonth(),0);switch(n){case"thisWeek":u.startDate=(0,s.default)((0,l.default)(h),"yyyy-MM-dd"),u.endDate=(0,s.default)((0,o.default)(h),"yyyy-MM-dd");break;case"thisMonth":u.startDate=(0,s.default)((0,c.default)(h),"yyyy-MM-dd"),u.endDate=(0,s.default)((0,d.default)(h),"yyyy-MM-dd");break;case"lastMonth":u.startDate=(0,s.default)((0,c.default)(x),"yyyy-MM-dd"),u.endDate=(0,s.default)((0,d.default)(x),"yyyy-MM-dd");break;case"custom":u.startDate=(0,s.default)(r,"yyyy-MM-dd"),u.endDate=(0,s.default)(i,"yyyy-MM-dd")}""!==a.min&&(u.minAmount=a.min),""!==a.max&&(u.maxAmount=a.max),y((0,m.L5)({data:u,tmpStates:{transactionType:t,amount:a,timePeriod:n,startDate:r,endDate:i}})),_.T.dispatch(_.z.TRANSACTION_REFRESH,{data:u,tmpStates:{transactionType:t,amount:a,timePeriod:n,startDate:r,endDate:i}}),p()}})}}}]);
//# sourceMappingURL=219.244e82a9.chunk.js.map