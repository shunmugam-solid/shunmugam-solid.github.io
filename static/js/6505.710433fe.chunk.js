"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[6505],{2670:function(n,e,t){var a=t(2791),r=t(5798),i=t(4398),c=t.n(i),u=t(184),o="9{6,17}";e.Z=function(n){var e=n.onChange,t=n.value,i=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){i.current&&c()({mask:o,showMaskOnHover:!1,showMaskOnFocus:!1,jitMasking:!0}).mask(i.current)}),[o]),(0,u.jsx)(r.II,{"data-testid":"ssn-input",variant:"primary",ref:i,onChange:function(n){var t,a=n.target.value,r=c().isValid(a,{mask:o}),u=null===(t=i.current)||void 0===t?void 0:t.inputmask.unmaskedvalue();e(a,u,r)},value:t})}},1023:function(n,e,t){var a=t(2791),r=t(5798),i=t(4398),c=t.n(i),u=t(184);e.Z=function(n){var e=n.onChange,t=n.value,i=n.placeholder,o=n.prefix,l=n.digits,s=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){s.current&&c()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==o&&void 0!==o?o:"$ ",placeholder:i,rightAlign:!1,digits:l,numericInput:!0}).mask(s.current)}),[o,l,i]),(0,u.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:s,onChange:function(n){var t=n.target.value;e(t)},value:t})}},8040:function(n,e,t){var a=t(2791),r=t(5798),i=t(4398),c=t.n(i),u=t(184),o="999999999";e.Z=function(n){var e=n.onChange,t=n.value,i=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){i.current&&c()({mask:o,showMaskOnHover:!1,showMaskOnFocus:!1,jitMasking:!0}).mask(i.current)}),[o]),(0,u.jsx)(r.II,{"data-testid":"routing-input",variant:"primary",ref:i,onChange:function(n){var t,a=n.target.value,r=c().isValid(a,{mask:o}),u=null===(t=i.current)||void 0===t?void 0:t.inputmask.unmaskedvalue();e(a,u,r)},value:t})}},5694:function(n,e,t){t.d(e,{V:function(){return r}});var a=t(2560),r=function(n){return{type:a.Q,payload:n}}},4785:function(n,e,t){t.d(e,{DN:function(){return l},ee:function(){return c},nc:function(){return s},rc:function(){return u},zt:function(){return o}});var a=t(286),r=t(80),i=t(5694),c=function(n){return function(e){return new Promise((function(t,c){(0,r.V_)(!0),a.Z.post("v1/send/intrabank",n).then((function(n){var a=n.data;e((0,i.V)(a)),t(a)})).catch(c).finally((function(){(0,r.V_)(!1)}))}))}},u=function(n){return function(e){return new Promise((function(t,c){(0,r.V_)(!0),a.Z.post("v1/send/ach",n).then((function(n){var a=n.data;e((0,i.V)(a)),t(a)})).catch(c).finally((function(){(0,r.V_)(!1)}))}))}},o=function(n){return function(e){return new Promise((function(t,c){(0,r.V_)(!0),a.Z.post("v1/send/wire",n).then((function(n){var a=n.data;e((0,i.V)(a)),t(a)})).catch(c).finally((function(){(0,r.V_)(!1)}))}))}},l=function(n){return function(e){return new Promise((function(t,c){(0,r.V_)(!0),a.Z.post("v1/send/card",n).then((function(n){var a=n.data;e((0,i.V)(a)),t(a)})).catch(c).finally((function(){(0,r.V_)(!1)}))}))}},s=function(n){return function(e){return new Promise((function(t,c){(0,r.V_)(!0),a.Z.post("v1/send/check",n).then((function(n){var a=n.data;e((0,i.V)(a)),t(a)})).catch(c).finally((function(){(0,r.V_)(!1)}))}))}}},6505:function(n,e,t){t.r(e);var a=t(1413),r=t(9439),i=t(2791),c=t(2504),u=t(8735),o=t(3393),l=t(5798),s=t(7640),d=t(2020),p=t(5048),m=t(7689),h=t(5649),f=t(5304),v=t(4785),g=t(7770),y=t(80),N=t(1778),b=t(9578),_=t(2942),k=t(1023),x=t(8040),I=t(2670),j=t(184),E={personalSavings:"Personal Savings",personalChecking:"Personal Checking",businessSavings:"Business Savings",businessChecking:"Business Checking"};e.default=function(){var n,e,t,C,w=(0,d.$)().t,S=(0,f.Qo)(),Z=(0,m.s0)(),T=(0,N.qu)().startScreen,V=void 0===T?"options":T,O=(0,N._f)("ach").showBack,z=(0,f.CG)((function(n){return n.account.selectedAccount}),p.wU),G=(0,f.CG)((function(n){return n.contact.selectedContact}),p.wU),P=(0,i.useState)({name:(null===G||void 0===G?void 0:G.name)||"",accountNumber:(null===G||void 0===G||null===(n=G.ach)||void 0===n?void 0:n.accountNumber)||"",routingNumber:(null===G||void 0===G||null===(e=G.ach)||void 0===e?void 0:e.routingNumber)||"",bankName:(null===G||void 0===G||null===(t=G.ach)||void 0===t?void 0:t.bankName)||"",accountType:(null===G||void 0===G||null===(C=G.ach)||void 0===C?void 0:C.accountType)||"personalSavings"}),R=(0,r.Z)(P,2),L=R[0],A=R[1],H=(0,i.useState)({amount:"",description:"",contactId:(null===G||void 0===G?void 0:G.id)||"",accountId:(null===z||void 0===z?void 0:z.id)||""}),$=(0,r.Z)(H,2),B=$[0],M=$[1],X=(0,i.useMemo)((function(){return 0!==L.name.length&&0!==L.accountNumber.length&&0!==L.accountType.length&&0!==L.routingNumber.length&&0!==L.bankName.length&&0!==B.amount.length&&parseFloat(B.amount)>=.01&&0!==B.description.length}),[L,B]),F=(0,i.useCallback)((function(){null!==G&&void 0!==G&&G.id&&X&&S((0,g.Tk)(G.id,{accountId:G.accountId,name:L.name,ach:{accountNumber:L.accountNumber,routingNumber:L.routingNumber,bankName:L.bankName,accountType:L.accountType}})).then((function(){S((0,v.rc)(B)).then((function(){Z("/payments/success")})).catch(y.WH)})).catch(y.WH)}),[X,B,L]);return(0,j.jsx)("div",{className:"page",children:(0,j.jsx)(h.Z,{heading:w("payments_ach.title"),footer:(0,j.jsx)(c.zx,{width:"100%",variant:"primary",disabled:!X,onClick:F,children:w("payments_ach.ctaText")}),showBack:"ach"!==V||!!O,onBack:function(){(0,b.bG)(_.CW.BACK_PRESSED,{from:"ach"}),"ach"!==V&&Z(-1)},children:(0,j.jsxs)(u.xu,{width:"100%",paddingTop:"15px",children:[(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.name")}),(0,j.jsx)(l.II,{variant:"primary",value:(null===L||void 0===L?void 0:L.name)||"",onChange:function(n){A((0,a.Z)((0,a.Z)({},L),{},{name:n.target.value}))}})]}),(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.accountNumber")}),(0,j.jsx)(I.Z,{value:L.accountNumber,onChange:function(n,e){A((0,a.Z)((0,a.Z)({},L),{},{accountNumber:e}))}})]}),(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.routingNumber")}),(0,j.jsx)(x.Z,{value:L.routingNumber,onChange:function(n,e){A((0,a.Z)((0,a.Z)({},L),{},{routingNumber:e}))}})]}),(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.accountType")}),(0,j.jsx)(s.Ph,{variant:"primary",value:L.accountType,onChange:function(n){A((0,a.Z)((0,a.Z)({},L),{},{accountType:n.target.value}))},children:Object.keys(E).map((function(n){return(0,j.jsx)("option",{value:n,children:E[n]},n)}))})]}),(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.bank")}),(0,j.jsx)(l.II,{variant:"primary",value:L.bankName,onChange:function(n){A((0,a.Z)((0,a.Z)({},L),{},{bankName:n.target.value}))}})]}),(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.amount")}),(0,j.jsx)(k.Z,{value:B.amount,onChange:function(n){M((0,a.Z)((0,a.Z)({},B),{},{amount:n||""}))}})]}),(0,j.jsxs)(o.NI,{variant:"primary",children:[(0,j.jsx)(o.lX,{variant:"primary",children:w("payments_ach.purpose")}),(0,j.jsx)(l.II,{variant:"primary",value:B.description,onChange:function(n){M((0,a.Z)((0,a.Z)({},B),{},{description:n.target.value}))}})]})]})})})}},5798:function(n,e,t){t.d(e,{BZ:function(){return v},II:function(){return d},xH:function(){return S}});var a=t(3393),r=t(1938),i=t(6831),c=t(2791),u=t(9611);function o(){return o=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},o.apply(this,arguments)}function l(n,e){if(null==n)return{};var t,a,r={},i=Object.keys(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}var s=["htmlSize"],d=(0,r.Gp)((function(n,e){var t=n.htmlSize,u=l(n,s),d=(0,r.jC)("Input",u),p=(0,r.Lr)(u),m=(0,a.Yp)(p),h=(0,i.cx)("chakra-input",n.className);return c.createElement(r.m$.input,o({size:t},m,{__css:d.field,ref:e,className:h}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var p=["children","className"],m=(0,r.eC)("InputGroup"),h=m[0],f=m[1],v=(0,r.Gp)((function(n,e){var t=(0,r.jC)("Input",n),a=(0,r.Lr)(n),s=a.children,d=a.className,m=l(a,p),f=(0,i.cx)("chakra-input__group",d),v={},g=(0,u.WR)(s),y=t.field;g.forEach((function(n){if(t){var e,a;if(y&&"InputLeftElement"===n.type.id)v.paddingStart=null!=(e=y.height)?e:y.h;if(y&&"InputRightElement"===n.type.id)v.paddingEnd=null!=(a=y.height)?a:y.h;"InputRightAddon"===n.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===n.type.id&&(v.borderStartRadius=0)}}));var N=g.map((function(e){var t,a,r=(0,i.YU)({size:(null==(t=e.props)?void 0:t.size)||n.size,variant:(null==(a=e.props)?void 0:a.variant)||n.variant});return"Input"!==e.type.id?c.cloneElement(e,r):c.cloneElement(e,Object.assign(r,v,e.props))}));return c.createElement(r.m$.div,o({className:f,ref:e,__css:{width:"100%",display:"flex",position:"relative"}},m),c.createElement(h,{value:t},N))}));i.Ts&&(v.displayName="InputGroup");var g=["placement"],y={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},N=(0,r.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),b=(0,r.Gp)((function(n,e){var t,a=n.placement,r=void 0===a?"left":a,i=l(n,g),u=null!=(t=y[r])?t:{},s=f();return c.createElement(N,o({ref:e},i,{__css:o({},s.addon,u)}))}));i.Ts&&(b.displayName="InputAddon");var _=(0,r.Gp)((function(n,e){return c.createElement(b,o({ref:e,placement:"left"},n,{className:(0,i.cx)("chakra-input__left-addon",n.className)}))}));i.Ts&&(_.displayName="InputLeftAddon"),_.id="InputLeftAddon";var k=(0,r.Gp)((function(n,e){return c.createElement(b,o({ref:e,placement:"right"},n,{className:(0,i.cx)("chakra-input__right-addon",n.className)}))}));i.Ts&&(k.displayName="InputRightAddon"),k.id="InputRightAddon";var x=["placement"],I=["className"],j=["className"],E=(0,r.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),C=(0,r.Gp)((function(n,e){var t,a,r,i=n.placement,u=void 0===i?"left":i,s=l(n,x),d=f(),p=d.field,m=o(((r={})["left"===u?"insetStart":"insetEnd"]="0",r.width=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,r.height=null!=(a=null==p?void 0:p.height)?a:null==p?void 0:p.h,r.fontSize=null==p?void 0:p.fontSize,r),d.element);return c.createElement(E,o({ref:e,__css:m},s))}));C.id="InputElement",i.Ts&&(C.displayName="InputElement");var w=(0,r.Gp)((function(n,e){var t=n.className,a=l(n,I),r=(0,i.cx)("chakra-input__left-element",t);return c.createElement(C,o({ref:e,placement:"left",className:r},a))}));w.id="InputLeftElement",i.Ts&&(w.displayName="InputLeftElement");var S=(0,r.Gp)((function(n,e){var t=n.className,a=l(n,j),r=(0,i.cx)("chakra-input__right-element",t);return c.createElement(C,o({ref:e,placement:"right",className:r},a))}));S.id="InputRightElement",i.Ts&&(S.displayName="InputRightElement")},7640:function(n,e,t){t.d(e,{Ph:function(){return v}});var a=t(3393),r=t(1938),i=t(7160),c=t(6831),u=t(6198),o=t.n(u),l=t(2791);function s(){return s=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},s.apply(this,arguments)}function d(n,e){if(null==n)return{};var t,a,r={},i=Object.keys(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}var p=["children","placeholder","className"],m=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],h=["children"],f=(0,r.Gp)((function(n,e){var t=n.children,a=n.placeholder,i=n.className,u=d(n,p);return l.createElement(r.m$.select,s({},u,{ref:e,className:(0,c.cx)("chakra-select",i)}),a&&l.createElement("option",{value:""},a),t)}));c.Ts&&(f.displayName="SelectField");var v=(0,r.Gp)((function(n,e){var t=(0,r.jC)("Select",n),u=(0,r.Lr)(n),p=u.rootProps,h=u.placeholder,v=u.icon,g=u.color,y=u.height,b=u.h,_=u.minH,k=u.minHeight,x=u.iconColor,I=u.iconSize,j=d(u,m),E=(0,c.Vl)(j,i.oE),C=E[0],w=E[1],S=(0,a.Yp)(w),Z={width:"100%",height:"fit-content",position:"relative",color:g},T=o()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return l.createElement(r.m$.div,s({className:"chakra-select__wrapper",__css:Z},C,p),l.createElement(f,s({ref:e,height:null!=b?b:y,minH:null!=_?_:k,placeholder:h},S,{__css:T}),n.children),l.createElement(N,s({"data-disabled":(0,c.PB)(S.disabled)},(x||g)&&{color:x||g},{__css:t.icon},I&&{fontSize:I}),v))}));c.Ts&&(v.displayName="Select");var g=function(n){return l.createElement("svg",s({viewBox:"0 0 24 24"},n),l.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},y=(0,r.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),N=function(n){var e=n.children,t=void 0===e?l.createElement(g,null):e,a=d(n,h),r=l.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return l.createElement(y,s({},a,{className:"chakra-select__icon-wrapper"}),l.isValidElement(t)?r:null)};c.Ts&&(N.displayName="SelectIcon")}}]);
//# sourceMappingURL=6505.710433fe.chunk.js.map