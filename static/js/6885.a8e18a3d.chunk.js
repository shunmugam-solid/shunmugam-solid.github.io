"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[6885,2957],{9458:function(e,n,l){var r=l(2791),a=l(9275);n.Z=function(e){var n={token:e.token,onSuccess:e.onSuccess,onExit:e.onExit},l=(0,a.usePlaidLink)(n),i=l.open,s=l.ready;return(0,r.useEffect)((function(){s&&i()}),[s,i]),null}},2957:function(e,n,l){l.r(n),l.d(n,{default:function(){return I}});var r=l(9439),a=l(2791),i=l(2020),s=l(2504),t=l(8735),o=l(3445),u=l(5048),d=l(5649),c=l(4144),v="PullFrom_bankList__BcX8Q",m="PullFrom_pullFrom__lOm6n",f="PullFrom_bankInfo__bgAPf",h="PullFrom_removeBank__xdtyG",p="PullFrom_linkAccount__zroSx",x="PullFrom_transferType__JdFmJ",b=l(5304),_=l(3741),k=l(80),g=l(9458),y=l(4661),N=l(184),F=a.lazy((function(){return Promise.all([l.e(4398),l.e(870)]).then(l.bind(l,870))})),j=a.lazy((function(){return Promise.all([l.e(7551),l.e(7860)]).then(l.bind(l,7551))})),I=function(){var e=(0,i.$)().t,n=(0,b.Qo)(),l=(0,y.y)(),I=l.open,C=l.close,P=(l.data||{}).option,R=void 0===P?"bank":P,q=(0,b.CG)((function(e){return e.account}),u.wU),E=q.selectedAccount,T=q.selfBankAccounts,O=q.linkedCards,X=(0,a.useState)(null),A=(0,r.Z)(X,2),B=A[0],Z=A[1],w=(0,a.useState)(""),D=(0,r.Z)(w,2),G=D[0],H=D[1],L=(0,a.useCallback)((function(){E&&n((0,_.MI)(null===E||void 0===E?void 0:E.id)).then((function(e){Z(e.linkToken)})).catch(k.WH)}),[E]),S=(0,a.useCallback)((function(e,l){var r;(Z(null),null!==E&&void 0!==E&&E.id)&&n((0,_.GS)({accountId:E.id,plaidAccountId:null===(r=l.accounts[0])||void 0===r?void 0:r.id,plaidToken:e})).catch((function(){(0,k.c0)("An error occurred.","Unable to verify plaid account","error")}))}),[E]);return(0,a.useEffect)((function(){E&&n("bank"===R?(0,_.CB)(E.id):(0,_.WO)(E.id))}),[R,E]),(0,N.jsx)("div",{className:"page",children:(0,N.jsx)(d.Z,{heading:e("pull_funds_from.title"),showBack:!0,footer:(0,N.jsx)(s.zx,{width:"100%",variant:"primary",disabled:""===G,onClick:function(){I(F,{option:R,contactId:G})},children:e("pull_funds_from.ctaText")}),onBack:function(){C()},children:(0,N.jsxs)(t.xu,{width:"100%",children:[0!==T.length&&"bank"===R?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.xv,{variant:"large",className:m,children:e("pull_funds_from.pullFundsFrom")}),(0,N.jsx)(t.xu,{className:v,children:(0,N.jsx)(o.Ee,{onChange:H,value:G,children:T.map((function(l){return(0,N.jsxs)(t.xu,{className:f,children:[(0,N.jsx)(o.Y8,{value:l.id,children:(0,N.jsxs)(t.xv,{variant:"regular",className:"text-dark",children:[l.ach.bankName," ","XXXXXX"," ",l.ach.accountNumber.slice(l.ach.accountNumber.length-4)]})}),(0,N.jsx)(t.xv,{className:h,onClick:function(){n((0,_.d8)(l.id))},children:e("pull_funds_from.remove")})]},l.id)}))})})]}):null,0!==O.data.length&&"card"===R?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.xv,{variant:"large",className:m,children:e("pull_funds_from.pullFundsFrom")}),(0,N.jsx)(t.xu,{className:v,children:(0,N.jsx)(o.Ee,{onChange:H,value:G,children:O.data.map((function(l){var r;return(0,N.jsxs)(t.xu,{className:f,children:[(0,N.jsx)(o.Y8,{value:l.id,children:(0,N.jsxs)(t.xv,{variant:"regular",className:"text-dark",children:["XXXX XXXX XXXX"," ",null===(r=l.debitCard)||void 0===r?void 0:r.last4]})}),(0,N.jsx)(t.xv,{className:h,onClick:function(){n((0,_.d8)(l.id,"card"))},children:e("pull_funds_from.remove")})]},l.id)}))})})]}):null,(0,N.jsx)(t.xv,{variant:"large",className:p,children:e("bank"===R?"pull_funds_from.linkAccount":"pull_funds_from.linkCard")}),(0,N.jsx)(s.zx,{width:"100%",variant:"unstyled",onClick:function(){"bank"===R?L():I(j)},children:(0,N.jsxs)(t.Ug,{className:x,children:[(0,N.jsx)(t.xu,{children:(0,N.jsx)(t.xv,{variant:"regular",children:e("bank"===R?"pull_funds_from.linkAnotherAccount":"pull_funds_from.linkAnotherCard")})}),(0,N.jsx)(c.Z,{icon:"Arrow-small-right",size:8,className:"svg-light-grey-1"})]})}),B?(0,N.jsx)(g.Z,{token:B,onSuccess:S,onExit:function(){Z(null)}}):null]})})})}},3393:function(e,n,l){l.d(n,{Kn:function(){return j},NI:function(){return k},NJ:function(){return _},Yp:function(){return F},lX:function(){return T}});var r=l(5223),a=l(1938),i=l(6831),s=l(9611),t=l(2791),o=l(9113);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},u.apply(this,arguments)}function d(e,n){if(null==e)return{};var l,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)l=i[r],n.indexOf(l)>=0||(a[l]=e[l]);return a}var c=["id","isRequired","isInvalid","isDisabled","isReadOnly"],v=["getRootProps","htmlProps"],m=(0,a.eC)("FormControl"),f=m[0],h=m[1],p=h,x=(0,s.kr)({strict:!1,name:"FormControlContext"}),b=x[0],_=x[1];var k=(0,a.Gp)((function(e,n){var l=(0,a.jC)("Form",e),o=function(e){var n=e.id,l=e.isRequired,a=e.isInvalid,o=e.isDisabled,v=e.isReadOnly,m=d(e,c),f=(0,r.Me)(),h=n||"field-"+f,p=h+"-label",x=h+"-feedback",b=h+"-helptext",_=t.useState(!1),k=_[0],g=_[1],y=t.useState(!1),N=y[0],F=y[1],j=(0,r.kt)(),I=j[0],C=j[1],P=t.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({id:b},e,{ref:(0,s.lq)(n,(function(e){e&&F(!0)}))})}),[b]),R=t.useCallback((function(e,n){var l,r;return void 0===e&&(e={}),void 0===n&&(n=null),u({},e,{ref:n,"data-focus":(0,i.PB)(I),"data-disabled":(0,i.PB)(o),"data-invalid":(0,i.PB)(a),"data-readonly":(0,i.PB)(v),id:null!=(l=e.id)?l:p,htmlFor:null!=(r=e.htmlFor)?r:h})}),[h,o,I,a,v,p]),q=t.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({id:x},e,{ref:(0,s.lq)(n,(function(e){e&&g(!0)})),"aria-live":"polite"})}),[x]),E=t.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({},e,m,{ref:n,role:"group"})}),[m]),T=t.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({},e,{ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!l,isInvalid:!!a,isReadOnly:!!v,isDisabled:!!o,isFocused:!!I,onFocus:C.on,onBlur:C.off,hasFeedbackText:k,setHasFeedbackText:g,hasHelpText:N,setHasHelpText:F,id:h,labelId:p,feedbackId:x,helpTextId:b,htmlProps:m,getHelpTextProps:P,getErrorMessageProps:q,getRootProps:E,getLabelProps:R,getRequiredIndicatorProps:T}}((0,a.Lr)(e)),m=o.getRootProps;o.htmlProps;var h=d(o,v),p=(0,i.cx)("chakra-form-control",e.className);return t.createElement(b,{value:h},t.createElement(f,{value:l},t.createElement(a.m$.div,u({},m({},n),{className:p,__css:l.container}))))}));i.Ts&&(k.displayName="FormControl");var g=(0,a.Gp)((function(e,n){var l=_(),r=h(),s=(0,i.cx)("chakra-form__helper-text",e.className);return t.createElement(a.m$.div,u({},null==l?void 0:l.getHelpTextProps(e,n),{__css:r.helperText,className:s}))}));i.Ts&&(g.displayName="FormHelperText");var y=["isDisabled","isInvalid","isReadOnly","isRequired"],N=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function F(e){var n=j(e),l=n.isDisabled,r=n.isInvalid,a=n.isReadOnly,s=n.isRequired;return u({},d(n,y),{disabled:l,readOnly:a,required:s,"aria-invalid":(0,i.Qm)(r),"aria-required":(0,i.Qm)(s),"aria-readonly":(0,i.Qm)(a)})}function j(e){var n,l,r,a=_(),s=e.id,t=e.disabled,o=e.readOnly,c=e.required,v=e.isRequired,m=e.isInvalid,f=e.isReadOnly,h=e.isDisabled,p=e.onFocus,x=e.onBlur,b=d(e,N),k=e["aria-describedby"]?[e["aria-describedby"]]:[];return null!=a&&a.hasFeedbackText&&null!=a&&a.isInvalid&&k.push(a.feedbackId),null!=a&&a.hasHelpText&&k.push(a.helpTextId),u({},b,{"aria-describedby":k.join(" ")||void 0,id:null!=s?s:null==a?void 0:a.id,isDisabled:null!=(n=null!=t?t:h)?n:null==a?void 0:a.isDisabled,isReadOnly:null!=(l=null!=o?o:f)?l:null==a?void 0:a.isReadOnly,isRequired:null!=(r=null!=c?c:v)?r:null==a?void 0:a.isRequired,isInvalid:null!=m?m:null==a?void 0:a.isInvalid,onFocus:(0,i.v0)(null==a?void 0:a.onFocus,p),onBlur:(0,i.v0)(null==a?void 0:a.onBlur,x)})}var I=(0,a.eC)("FormError"),C=I[0],P=I[1],R=(0,a.Gp)((function(e,n){var l=(0,a.jC)("FormError",e),r=(0,a.Lr)(e),s=_();return null!=s&&s.isInvalid?t.createElement(C,{value:l},t.createElement(a.m$.div,u({},null==s?void 0:s.getErrorMessageProps(r,n),{className:(0,i.cx)("chakra-form__error-message",e.className),__css:u({display:"flex",alignItems:"center"},l.text)}))):null}));i.Ts&&(R.displayName="FormErrorMessage");var q=(0,a.Gp)((function(e,n){var l=P(),r=_();if(null==r||!r.isInvalid)return null;var a=(0,i.cx)("chakra-form__error-icon",e.className);return t.createElement(o.ZP,u({ref:n,"aria-hidden":!0},e,{__css:l.icon,className:a}),t.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));i.Ts&&(q.displayName="FormErrorIcon");var E=["className","children","requiredIndicator","optionalIndicator"],T=(0,a.Gp)((function(e,n){var l,r=(0,a.mq)("FormLabel",e),s=(0,a.Lr)(e);s.className;var o=s.children,c=s.requiredIndicator,v=void 0===c?t.createElement(O,null):c,m=s.optionalIndicator,f=void 0===m?null:m,h=d(s,E),p=_(),x=null!=(l=null==p?void 0:p.getLabelProps(h,n))?l:u({ref:n},h);return t.createElement(a.m$.label,u({},x,{className:(0,i.cx)("chakra-form__label",s.className),__css:u({display:"block",textAlign:"start"},r)}),o,null!=p&&p.isRequired?v:f)}));i.Ts&&(T.displayName="FormLabel");var O=(0,a.Gp)((function(e,n){var l=_(),r=p();if(null==l||!l.isRequired)return null;var s=(0,i.cx)("chakra-form__required-indicator",e.className);return t.createElement(a.m$.span,u({},null==l?void 0:l.getRequiredIndicatorProps(e,n),{__css:r.requiredIndicator,className:s}))}));i.Ts&&(O.displayName="RequiredIndicator")}}]);
//# sourceMappingURL=6885.a8e18a3d.chunk.js.map