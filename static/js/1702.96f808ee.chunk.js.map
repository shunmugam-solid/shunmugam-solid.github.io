{"version":3,"file":"static/js/1702.96f808ee.chunk.js","mappings":"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","sources":["webpack://drop-in-ui/./src/views/crypto/buyCrypto/ExecuteBuy/ExecuteBuy.module.css?9c0d","views/crypto/buyCrypto/ExecuteBuy/ExecuteBuy.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details_label\":\"ExecuteBuy_details_label__pPO15\",\"desc\":\"ExecuteBuy_desc__RbXAC\",\"details_value\":\"ExecuteBuy_details_value__qJrLX\"};","import React, {\n  useCallback, useEffect, useMemo, useState\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box, Button, Heading, Text, HStack, Link\n} from '@chakra-ui/react';\nimport { shallowEqual } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport MiniBox from '../../../../layout/MiniBox';\nimport style from './ExecuteBuy.module.css';\nimport { useAppAsyncDispatch, useAppSelector } from '../../../../hooks/store';\nimport { buyCrypto } from '../../../../store/middlewares/crypto';\nimport { apiErrorHandler, currencyFormat } from '../../../../utils/general';\n\nconst ExecuteBuy = () => {\n  const { t } = useTranslation();\n  const dispatch = useAppAsyncDispatch();\n  const navigate = useNavigate();\n\n  const { buyFormData, buyQuoteData } = useAppSelector((store) => store.crypto, shallowEqual);\n  const cryptoAccount = useAppSelector((store) => store.crypto.selectedAccount, shallowEqual);\n  const [timer, updateTimer] = useState(30);\n\n  const amount = useMemo(() => {\n    if (buyFormData?.type === 'amount') {\n      return `${buyQuoteData?.amount} ${buyQuoteData?.quotedCurrency}`;\n    }\n\n    const price = parseFloat(buyQuoteData?.price || '') * parseFloat(buyQuoteData?.quantity || '');\n    return currencyFormat(price, buyQuoteData?.quotedCurrency || 'USD');\n  }, [buyFormData, buyQuoteData]);\n\n  useEffect(() => {\n    const setTimeout = setInterval(() => {\n      updateTimer((v) => {\n        if (v === 0) {\n          clearInterval(setTimeout);\n          return 0;\n        }\n        return v - 1;\n      });\n    }, 1000);\n  }, []);\n\n  useEffect(() => {\n    if (timer === 0) {\n      navigate('/crypto/buy');\n    }\n  }, [timer]);\n\n  const onSubmit = useCallback(() => {\n    if (cryptoAccount && buyQuoteData && buyFormData) {\n      dispatch(buyCrypto({\n        walletId: cryptoAccount?.id, accountId: buyFormData.selectedAccount, quoteId: buyQuoteData.id, title: 'BUY CRYPTO', description: buyFormData?.description\n      })).then(() => {\n        navigate('/crypto/buy/success');\n      }).catch(apiErrorHandler);\n    }\n  }, [buyFormData, buyQuoteData, cryptoAccount]);\n\n  return (\n    <div className=\"page\">\n      <MiniBox\n        heading={t('crypto_buy_details.title')}\n        footer={(\n          <Button width=\"100%\" variant=\"primary\" onClick={onSubmit}>\n            {t('crypto_buy_details.ctaText')}\n          </Button>\n          )}\n      >\n        <Box width=\"100%\" paddingTop=\"15px\">\n          <Heading data-testid=\"status-title\" variant=\"primary\" textAlign=\"center\">\n            {t('crypto_buy_details.buying')}\n            {' '}\n            {buyQuoteData?.quantity}\n            {' '}\n            {buyFormData?.type === 'quantity' ? buyQuoteData?.cryptoCurrency : buyQuoteData?.quotedCurrency}\n          </Heading>\n          <Text className={`${style.desc} text-light`} variant=\"regular\" textAlign=\"center\">\n            {t('crypto_buy_details.anyQuestions')}\n            {' '}\n            <Link textDecoration=\"underline\" href=\"mailto:chat@solidfi.com\" style={{ color: 'inherit', textDecoration: 'underline' }} isExternal>chat@solidfi.com</Link>\n          </Text>\n          <Box className={style.details_label}>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.source')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">\n                {buyFormData?.selectedAccountLabel}\n                <br />\n                <span>\n                  {buyFormData?.selectedAccount}\n                </span>\n              </Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.destination')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">\n                {cryptoAccount?.label}\n                <br />\n                <span>\n                  {cryptoAccount?.id}\n                </span>\n              </Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.quoteId')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{buyQuoteData?.id}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.quantity')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{buyQuoteData?.quantity}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.amount')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">\n                {amount}\n              </Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.exchangeRate')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{`1 ${buyQuoteData?.cryptoCurrency} = ${buyQuoteData?.price} ${buyQuoteData?.quotedCurrency}`}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.fee')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">$0</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.description')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{buyFormData?.description}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.quoteExpiresIn')}</Text>\n              <Text w=\"50%\" variant=\"small\" color=\"#FF4A4A\" textAlign=\"left\">\n                00:\n                { (`${timer}`).length === 1 ? (`0${timer}`) : timer }\n              </Text>\n            </HStack>\n          </Box>\n          <Text variant=\"small\" whiteSpace=\"pre-line\" fontSize=\"9px\" textAlign=\"left\">{t('crypto_buy_details.poweredBy')}</Text>\n        </Box>\n      </MiniBox>\n    </div>\n  );\n};\n\nexport default ExecuteBuy;\n"],"names":["t","useTranslation","dispatch","useAppAsyncDispatch","navigate","useNavigate","_useAppSelector","useAppSelector","store","crypto","shallowEqual","buyFormData","buyQuoteData","cryptoAccount","selectedAccount","_useState","useState","_useState2","_slicedToArray","timer","updateTimer","amount","useMemo","type","concat","quotedCurrency","price","parseFloat","quantity","currencyFormat","useEffect","setTimeout","setInterval","v","clearInterval","onSubmit","useCallback","buyCrypto","walletId","id","accountId","quoteId","title","description","then","catch","apiErrorHandler","_jsx","className","children","MiniBox","heading","footer","Button","width","variant","onClick","_jsxs","Box","paddingTop","Heading","textAlign","cryptoCurrency","Text","style","Link","textDecoration","href","color","isExternal","HStack","w","selectedAccountLabel","label","length","whiteSpace","fontSize"],"sourceRoot":""}