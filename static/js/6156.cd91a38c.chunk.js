"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[6156],{5744:function(e,r,n){n(2791);var i=n(5798),s=n(184);r.Z=function(e){var r=e.value,n=e.placeholder,t=e.onChange;return(0,s.jsx)(i.II,{type:"number",variant:"primary",value:r,"data-testid":"percentage-input",placeholder:n,onChange:function(e){if(!e.target.value.startsWith("0")){var r=parseInt(e.target.value);if(!(r>100)){var n=!Number.isNaN(r)&&r>25;t(r,n)}}}})}},6156:function(e,r,n){n.r(r);var i=n(9439),s=n(2791),t=n(2020),a=n(1938),o=n(8735),p=n(2504),d=n(3393),l=n(5048),u=n(7689),h=n(5425),c=n(5304),m=n(9270),f=n(80),v=n(5744),b=n(184);r.default=function(){var e=(0,t.$)().t,r=(0,u.s0)(),n=(0,c.Qo)(),N=(0,a.mq)("FormControl",{variant:"primary"}),x=(0,c.CG)((function(e){return e.business}),l.wU),w=x.selectedBusinessOwner,y=x.selectedBusiness,j=(0,s.useState)(null!==w&&void 0!==w&&w.ownership?parseInt(null===w||void 0===w?void 0:w.ownership,10):""),g=(0,i.Z)(j,2),C=g[0],_=g[1],T=(0,s.useMemo)((function(){return!Number.isNaN(C)&&C>=25&&C<=100}),[C]),k=(0,s.useCallback)((function(e){n((0,m.XD)(e)).then((function(){r("/ao/kyb/ownersList")})).catch(f.WH)}),[]),B=(0,s.useCallback)((function(){null!==w&&void 0!==w&&w.id&&w.person.address?n((0,m.RG)(null===w||void 0===w?void 0:w.id,{ownership:"".concat(C),person:{firstName:w.person.firstName,lastName:w.person.lastName,email:w.person.email,dateOfBirth:w.person.dateOfBirth,phone:w.person.phone,idNumber:w.person.idNumber.replaceAll("-",""),idType:w.person.idType,address:w.person.address}})).then((function(){setTimeout((function(){k(w.id)}),0)})).catch(f.WH):w&&y&&w.person.address&&n((0,m.vd)({businessId:y.id,ownership:"".concat(C),person:{firstName:w.person.firstName,lastName:w.person.lastName,email:w.person.email,dateOfBirth:w.person.dateOfBirth,phone:w.person.phone,idNumber:w.person.idNumber.replaceAll("-",""),idType:w.person.idType,address:w.person.address}})).then((function(e){var r=e.id;setTimeout((function(){k(r)}),0)})).catch(f.WH)}),[w,C]);return(0,b.jsx)("div",{className:"page",children:(0,b.jsx)("form",{onSubmit:function(e){e.preventDefault(),B()},children:(0,b.jsx)(h.Z,{varient:"box",heading:e("their_ownership.title"),footer:(0,b.jsxs)(o.xu,{children:[(0,b.jsx)(o.xv,{variant:"small",pb:"16px",children:e("their_ownership.toHelp")}),(0,b.jsx)(p.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",disabled:!T,type:"submit",children:e("their_ownership.ctaText")})]}),children:(0,b.jsx)(o.xu,{width:"100%",children:(0,b.jsxs)(d.NI,{variant:"primary",style:N,children:[(0,b.jsx)(d.lX,{variant:"primary",children:e("their_ownership.enterTheirOwnership")}),(0,b.jsx)(v.Z,{placeholder:e("their_ownership.percentageValue"),value:C,onChange:_})]})})})})})}}}]);
//# sourceMappingURL=6156.cd91a38c.chunk.js.map