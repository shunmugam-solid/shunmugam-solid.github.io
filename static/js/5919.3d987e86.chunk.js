"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[5919],{5919:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(1413),o=r(9439),u=r(2791),i=r(5568),l=r(5048),c=r(9916),a=r(5798),f=r(5304),s=function(e,t){return e.find((function(e){return e.types.includes(t)}))},p=r(184),d=function(e){var t=e.address,r=e.onChange,d=e.googleApiKey,y=e.placeholder,b=e.restrictedCountry,g=e.international,m=(0,u.useState)((0,n.Z)({},t)),v=(0,o.Z)(m,2),O=v[0],_=v[1],P=(0,u.useState)((null===t||void 0===t?void 0:t.line1)||""),w=(0,o.Z)(P,2),j=w[0],S=w[1],h=(0,u.useRef)(null),M=(0,f.CG)((function(e){return e.user.personDetails}),l.wU),E=(0,u.useMemo)((function(){if(b)return b;if(null!==M&&void 0!==M&&M.phone)try{var e=(0,c.SR)(null===M||void 0===M?void 0:M.phone);return(null===e||void 0===e?void 0:e.country)||"US"}catch(t){return"US"}return"US"}),[M,b]);(0,u.useEffect)((function(){window.gm_authFailure=function(){return h.current.disabled=!1,h.current.placeholder="",h.current.style.backgroundImage="",h.current.focus(),!1}}),[]),(0,u.useEffect)((function(){t&&(_(t),S(t.line1))}),[t]);return(0,p.jsx)(a.II,{variant:"primary","data-testid":"address-line1",as:i.default,ref:h,apiKey:d,onPlaceSelected:function(e){if(e){var t=function(e){var t=e.address_components,r=e.geometry,n={},o=t,u=s(o,"premise"),i=s(o,"street_number"),l=s(o,"route"),c=s(o,"locality"),a=s(o,"sublocality_level_1"),f=s(o,"postal_town"),p=s(o,"administrative_area_level_1"),d=s(o,"country"),y=s(o,"postal_code"),b=[i,u,l];return c||(c=f||a),n.line1=b.filter((function(e){return e})).map((function(e){return e.long_name})).join(" "),n.line2=null,n.city=c?c.long_name:null,n.postalCode=y?y.long_name:null,n.state=p?p.short_name:null,n.country=d?d.short_name:null,n.latitude=r.location.lat,n.longitude=r.location.lng,n}(e),o=t.line1,u=t.line2,i=t.city,l=t.state,c=t.postalCode,a=t.country,f=(0,n.Z)((0,n.Z)({},O),{},{line1:o,line2:u,city:i,state:l,country:a,postalCode:c});_(f),r(f),S(o)}},value:j,placeholder:y||"",onChange:function(e){S(e.target.value);var t=(0,n.Z)((0,n.Z)({},O),{},{line1:e.target.value});g||(t.country=E),r(t)},options:{types:["address"],componentRestrictions:g?void 0:{country:E}}})}},5568:function(e,t,r){e.exports=r(3984)},7802:function(e,t,r){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,r&&r.set(e,o);return o}(r(2791)),u=l(r(2007)),i=l(r(9476));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e){var t=e.onPlaceSelected,r=e.apiKey,n=e.libraries,u=e.inputAutocompleteValue,l=e.options,c=e.googleMapsScriptBaseUrl,s=e.refProp,p=e.language,d=f(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),y=(0,i.default)({ref:s,googleMapsScriptBaseUrl:c,onPlaceSelected:t,apiKey:r,libraries:n,inputAutocompleteValue:u,options:l,language:p}).ref;return o.default.createElement("input",a({ref:y},d))}s.propTypes={apiKey:u.default.string,libraries:u.default.arrayOf(u.default.string),ref:u.default.oneOfType([u.default.func,u.default.shape({current:u.default.any})]),googleMapsScriptBaseUrl:u.default.string,onPlaceSelected:u.default.func,inputAutocompleteValue:u.default.string,options:u.default.shape({componentRestrictions:u.default.object,bounds:u.default.object,location:u.default.object,offset:u.default.number,origin:u.default.object,radius:u.default.number,sessionToken:u.default.object,types:u.default.arrayOf(u.default.string)}),language:u.default.string};var p=(0,o.forwardRef)((function(e,t){return o.default.createElement(s,a({},e,{refProp:t}))}));t.default=p},6615:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;t.GOOGLE_MAP_SCRIPT_BASE_URL="https://maps.googleapis.com/maps/api/js"},3984:function(e,t,r){Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}});var n=u(r(7802)),o=u(r(9476));function u(e){return e&&e.__esModule?e:{default:e}}},9476:function(e,t,r){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ref,r=e.onPlaceSelected,n=e.apiKey,l=e.libraries,c=void 0===l?"places":l,f=e.inputAutocompleteValue,s=void 0===f?"new-password":f,p=e.options,d=(p=void 0===p?{}:p).types,y=void 0===d?["(cities)"]:d,b=p.componentRestrictions,g=p.fields,m=void 0===g?["address_components","geometry.location","place_id","formatted_address"]:g,v=p.bounds,O=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,["types","componentRestrictions","fields","bounds"]),_=e.googleMapsScriptBaseUrl,P=void 0===_?i.GOOGLE_MAP_SCRIPT_BASE_URL:_,w=e.language,j=(0,o.useRef)(null),S=(0,o.useRef)(null),h=(0,o.useRef)(null),M=(0,o.useRef)(null),E=w?"&language=".concat(w):"",A="".concat(P,"?libraries=").concat(c,"&key=").concat(n).concat(E),C=(0,o.useCallback)((function(){return(0,u.loadGoogleMapScript)(P,A)}),[P,A]);return(0,o.useEffect)((function(){var e=a(a({},O),{},{fields:m,types:y,bounds:v});if(b&&(e.componentRestrictions=b),!h.current&&j.current&&u.isBrowser){t&&!t.current&&(t.current=j.current);var o=function(){var t;return"undefined"===typeof google?console.error("Google has not been found. Make sure your provide apiKey prop."):null!==(t=google.maps)&&void 0!==t&&t.places?!j.current instanceof HTMLInputElement?console.error("Input ref must be HTMLInputElement."):(h.current=new google.maps.places.Autocomplete(j.current,e),void(h.current&&(S.current=h.current.addListener("place_changed",(function(){r&&h&&h.current&&r(h.current.getPlace(),j.current,h.current)}))))):console.error("Google maps places API must be loaded.")};return n?C().then((function(){return o()})):o(),function(){return S.current?S.current.remove():void 0}}}),[]),(0,o.useEffect)((function(){var e;(null===o.default||void 0===o.default||null===(e=o.default.version)||void 0===e||!e.startsWith("18"))&&u.isBrowser&&window.MutationObserver&&j.current&&j.current instanceof HTMLInputElement&&(M.current=new MutationObserver((function(){M.current.disconnect(),j.current&&(j.current.autocomplete=s)})),M.current.observe(j.current,{attributes:!0,attributeFilter:["autocomplete"]}))}),[s]),(0,o.useEffect)((function(){h.current&&h.current.setFields(m)}),[m]),(0,o.useEffect)((function(){h.current&&h.current.setBounds(v)}),[v]),(0,o.useEffect)((function(){h.current&&h.current.setComponentRestrictions(b)}),[b]),(0,o.useEffect)((function(){h.current&&h.current.setOptions(O)}),[O]),{ref:j,autocompleteRef:h}};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=u?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}o.default=e,r&&r.set(e,o);return o}(r(2791)),u=r(2170),i=r(6615);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},2170:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadGoogleMapScript=t.isBrowser=void 0;var r="undefined"!==typeof window&&window.document;t.isBrowser=r;t.loadGoogleMapScript=function(e,t){if(!r)return Promise.resolve();if("undefined"!==typeof google&&google.maps&&google.maps.api)return Promise.resolve();var n=document.querySelectorAll('script[src*="'.concat(e,'"]'));if(n&&n.length)return new Promise((function(e){if("undefined"!==typeof google)return e();n[0].addEventListener("load",(function(){return e()}))}));var o=new URL(t);o.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var u=document.createElement("script");return u.src=o.toString(),new Promise((function(e){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=e,document.body.appendChild(u)}))}}}]);
//# sourceMappingURL=5919.3d987e86.chunk.js.map