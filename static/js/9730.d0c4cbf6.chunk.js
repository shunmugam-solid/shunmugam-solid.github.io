"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[9730],{1023:function(n,a,e){var r=e(2791),t=e(5798),i=e(4398),d=e.n(i),s=e(184);a.Z=function(n){var a=n.onChange,e=n.value,i=n.placeholder,o=n.prefix,c=n.digits,l=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){l.current&&d()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==o&&void 0!==o?o:"$ ",placeholder:i,rightAlign:!1,digits:c,numericInput:!0}).mask(l.current)}),[o,c,i]),(0,s.jsx)(t.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:l,onChange:function(n){var e=n.target.value;a(e)},value:e})}},5694:function(n,a,e){e.d(a,{V:function(){return t}});var r=e(2560),t=function(n){return{type:r.Q,payload:n}}},4785:function(n,a,e){e.d(a,{DN:function(){return c},ee:function(){return d},nc:function(){return l},rc:function(){return s},zt:function(){return o}});var r=e(286),t=e(80),i=e(5694),d=function(n){return function(a){return new Promise((function(e,d){(0,t.V_)(!0),r.Z.post("v1/send/intrabank",n).then((function(n){var r=n.data;a((0,i.V)(r)),e(r)})).catch(d).finally((function(){(0,t.V_)(!1)}))}))}},s=function(n){return function(a){return new Promise((function(e,d){(0,t.V_)(!0),r.Z.post("v1/send/ach",n).then((function(n){var r=n.data;a((0,i.V)(r)),e(r)})).catch(d).finally((function(){(0,t.V_)(!1)}))}))}},o=function(n){return function(a){return new Promise((function(e,d){(0,t.V_)(!0),r.Z.post("v1/send/wire",n).then((function(n){var r=n.data;a((0,i.V)(r)),e(r)})).catch(d).finally((function(){(0,t.V_)(!1)}))}))}},c=function(n){return function(a){return new Promise((function(e,d){(0,t.V_)(!0),r.Z.post("v1/send/card",n).then((function(n){var r=n.data;a((0,i.V)(r)),e(r)})).catch(d).finally((function(){(0,t.V_)(!1)}))}))}},l=function(n){return function(a){return new Promise((function(e,d){(0,t.V_)(!0),r.Z.post("v1/send/check",n).then((function(n){var r=n.data;a((0,i.V)(r)),e(r)})).catch(d).finally((function(){(0,t.V_)(!1)}))}))}}},4476:function(n,a,e){e.r(a);var r=e(1413),t=e(9439),i=e(2791),d=e(1938),s=e(2504),o=e(8735),c=e(3393),l=e(5798),u=e(9916),p=(e(7781),e(2020)),v=e(5048),h=e(7689),m=e(5649),y=e(5304),f=e(4785),_=e(7770),Z=e(80),x=e(5919),g=e(1778),C=e(9578),j=e(2942),I=e(1023),V=e(184);a.default=function(){var n,a,e,w,k,N=(0,p.$)().t,S=(0,y.Qo)(),X=(0,h.s0)(),b=(0,d.mq)("Input",{variant:"primary"}),P=(0,g.qu)(),U=P.gmapKey,T=void 0===U?"":U,A=P.startScreen,B=void 0===A?"options":A,E=(0,g._f)("sendCard").showBack,D=(0,y.CG)((function(n){return n.account.selectedAccount}),v.wU),G=(0,y.CG)((function(n){return n.contact.selectedContact}),v.wU),K=(0,i.useState)({name:(null===G||void 0===G?void 0:G.name)||"",email:(null===G||void 0===G?void 0:G.email)||"",phone:(null===G||void 0===G?void 0:G.phone)||"",address:(null===G||void 0===G||null===(n=G.card)||void 0===n?void 0:n.address)||{line1:"",line2:"",city:"",state:"",country:"US",postalCode:"",addressType:"card"}}),M=(0,t.Z)(K,2),W=M[0],$=M[1],q=(0,i.useState)({amount:"",description:"",contactId:(null===G||void 0===G?void 0:G.id)||"",accountId:(null===D||void 0===D?void 0:D.id)||""}),z=(0,t.Z)(q,2),H=z[0],L=z[1],Q=(0,i.useMemo)((function(){return 0!==W.name.length&&0!==W.email.length&&(0,u.tm)(W.phone)&&0!==H.amount.length&&parseFloat(H.amount)>=.01&&0!==H.description.length&&!!W.address&&!!W.address.line1&&!!W.address.city&&!!W.address.state&&!!W.address.country&&!!W.address.postalCode&&0!==W.address.line1.length&&0!==W.address.city.length&&0!==W.address.state.length&&0!==W.address.country.length&&0!==W.address.postalCode.length}),[W,H]),R=(0,i.useCallback)((function(){null!==G&&void 0!==G&&G.id&&Q&&S((0,_.Tk)(G.id,{accountId:G.accountId,name:W.name,email:W.email,phone:W.phone,card:{address:(0,r.Z)((0,r.Z)({},W.address),{},{addressType:"card",country:"US"})}})).then((function(){S((0,f.DN)((0,r.Z)((0,r.Z)({},H),{},{type:"virtual"}))).then((function(){X("/payments/success")})).catch(Z.WH)})).catch(Z.WH)}),[Q,H,W]);return(0,V.jsx)("div",{className:"page",children:(0,V.jsx)(m.Z,{heading:N("payments_send_card.title"),footer:(0,V.jsx)(s.zx,{width:"100%",variant:"primary",disabled:!Q,onClick:R,children:N("payments_send_card.ctaText")}),showBack:"sendCard"!==B||E,onBack:function(){(0,C.bG)(j.CW.BACK_PRESSED,{from:"sendCard"}),"sendCard"!==B&&X(-1)},children:(0,V.jsxs)(o.xu,{width:"100%",paddingTop:"15px",children:[(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.name")}),(0,V.jsx)(l.II,{variant:"primary",value:(null===W||void 0===W?void 0:W.name)||"",onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{name:n.target.value}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.email")}),(0,V.jsx)(l.II,{variant:"primary",value:W.email,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{email:n.target.value}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.phone")}),(0,V.jsx)(u.ZP,{"data-testid":"mobileInput",style:b.field,className:"country-input",international:!0,limitMaxLength:!0,value:W.phone,defaultCountry:"US",countryCallingCodeEditable:!1,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{phone:n||""}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.address1")}),(0,V.jsx)(x.Z,{restrictedCountry:"US",placeholder:N("payments_send_card.address1"),googleApiKey:T,address:(null===W||void 0===W?void 0:W.address)||void 0,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{address:(0,r.Z)((0,r.Z)({},W.address),n)}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.address2")}),(0,V.jsx)(l.II,{variant:"primary",placeholder:N("payments_send_card.address2"),value:null===W||void 0===W||null===(a=W.address)||void 0===a?void 0:a.line2,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{address:(0,r.Z)((0,r.Z)({},W.address),{},{line2:n.target.value})}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.addressCity")}),(0,V.jsx)(l.II,{variant:"primary",placeholder:N("payments_send_card.addressCity"),value:null===W||void 0===W||null===(e=W.address)||void 0===e?void 0:e.city,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{address:(0,r.Z)((0,r.Z)({},W.address),{},{city:n.target.value})}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.addressState")}),(0,V.jsx)(l.II,{variant:"primary",placeholder:N("payments_send_card.addressState"),value:null===W||void 0===W||null===(w=W.address)||void 0===w?void 0:w.state,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{address:(0,r.Z)((0,r.Z)({},W.address),{},{state:n.target.value})}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.addressZipcode")}),(0,V.jsx)(l.II,{variant:"primary",placeholder:N("payments_send_card.addressZipcode"),value:null===W||void 0===W||null===(k=W.address)||void 0===k?void 0:k.postalCode,onChange:function(n){$((0,r.Z)((0,r.Z)({},W),{},{address:(0,r.Z)((0,r.Z)({},W.address),{},{postalCode:n.target.value})}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.amount")}),(0,V.jsx)(I.Z,{value:H.amount,onChange:function(n){L((0,r.Z)((0,r.Z)({},H),{},{amount:n||""}))}})]}),(0,V.jsxs)(c.NI,{variant:"primary",children:[(0,V.jsx)(c.lX,{variant:"primary",children:N("payments_send_card.purpose")}),(0,V.jsx)(l.II,{variant:"primary",value:H.description,onChange:function(n){L((0,r.Z)((0,r.Z)({},H),{},{description:n.target.value}))}})]})]})})})}}}]);
//# sourceMappingURL=9730.d0c4cbf6.chunk.js.map