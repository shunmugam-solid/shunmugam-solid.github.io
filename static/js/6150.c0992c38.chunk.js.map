{"version":3,"file":"static/js/6150.c0992c38.chunk.js","mappings":"4LA4CA,UA9BqB,WACnB,IAAMA,GAAWC,EAAAA,EAAAA,MACjBC,GAA4CC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,IAAI,IAAxEC,EAAaJ,EAAbI,cAAeC,EAAgBL,EAAhBK,iBAqBvB,OAnBAC,EAAAA,EAAAA,YAAU,WACJF,GAIFN,GAASS,EAAAA,EAAAA,IAAUH,EAAcI,KAC9BC,MAAK,SAACC,GAILC,OAAOC,eAAeC,QAAQ,OAAQC,KAAKC,UAAUV,IAErD,IAAMW,EAAC,GAAAC,OAAMP,EAAIQ,IAAG,kBAAAD,OAAiBN,OAAOQ,SAASC,OAAM,gBAC3DT,OAAOQ,SAASE,KAAOL,CACzB,IACCM,MAAMC,EAAAA,GAEb,GAAG,CAACnB,EAAeC,KAGjBmB,EAAAA,EAAAA,KAACC,EAAAA,EAAO,CAACC,QAAQ,MAAKC,UACpBH,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CAACC,MAAI,KAGlB,C","sources":["views/ao/Kyc/Idv/Idv.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport Loader from '../../../../components/Loader';\nimport { useAppAsyncDispatch, useAppSelector } from '../../../../hooks/store';\nimport MiniBox from '../../../../layout/MiniBox';\nimport { idvSubmit } from '../../../../store/middlewares/user';\nimport { apiErrorHandler } from '../../../../utils/general';\n\n/**\n * Kyc IDV view\n *\n * @component\n * @module KYC\n * @returns {JSX.Element}\n */\nconst Idv:React.FC = () => {\n  const dispatch = useAppAsyncDispatch();\n  const { personDetails, authTokenDetails } = useAppSelector((store) => store.user);\n\n  useEffect(() => {\n    if (personDetails) {\n      /**\n       * call idv submnit api to fetch the idv url\n       */\n      dispatch(idvSubmit(personDetails.id))\n        .then((res) => {\n          /**\n           * store the auth token details for verification on callback\n           */\n          window.sessionStorage.setItem('AUTH', JSON.stringify(authTokenDetails));\n\n          const u = `${res.url}&redirect-uri=${window.location.origin}/idvCallback`;\n          window.location.href = u;\n        })\n        .catch(apiErrorHandler);\n    }\n  }, [personDetails, authTokenDetails]);\n\n  return (\n    <MiniBox varient=\"box\">\n      <Loader show />\n    </MiniBox>\n  );\n};\n\nexport default Idv;\n"],"names":["dispatch","useAppAsyncDispatch","_useAppSelector","useAppSelector","store","user","personDetails","authTokenDetails","useEffect","idvSubmit","id","then","res","window","sessionStorage","setItem","JSON","stringify","u","concat","url","location","origin","href","catch","apiErrorHandler","_jsx","MiniBox","varient","children","Loader","show"],"sourceRoot":""}