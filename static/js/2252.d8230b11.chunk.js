"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[2252],{2252:function(e,r,i){i.r(r);var d=i(4942),a=i(1413),l=i(9439),n=i(2791),s=i(1938),t=i(2504),c=i(8735),o=i(9743),u=i(3393),v=i(5798),g=i(2020),h=i(5048),p=i(5649),y=i(5919),x=i(5304),b=i(80),_=i(3746),f=i(7208),A=i(4661),m=i(184),j=n.lazy((function(){return i.e(2637).then(i.bind(i,2637))})),C=n.lazy((function(){return Promise.all([i.e(7625),i.e(3054)]).then(i.bind(i,3054))}));r.default=function(){var e,r,i,Z,I=(0,g.$)().t,k=(0,x.Qo)(),N=(0,A.y)(),w=N.open,S=N.goBack,T=(0,s.mq)("FormControl",{variant:"primary"}),X=(0,n.useState)(!0),z=(0,l.Z)(X,2),B=z[0],H=z[1],D=(0,x.CG)((function(e){return e.card.cardPayload}),h.wU),U=(0,x.CG)((function(e){return e.card.replaceCardId})),W=(0,n.useCallback)((function(e,r){if(D){var i=(0,a.Z)((0,a.Z)({},D),{},(0,d.Z)({},e,r));k((0,_.Qr)(i))}}),[D]),F=(0,n.useMemo)((function(){return D&&!!D.billingAddress&&!!D.billingAddress.line1&&!!D.billingAddress.city&&!!D.billingAddress.state&&!!D.billingAddress.country&&!!D.billingAddress.postalCode&&0!==D.billingAddress.line1.length&&0!==D.billingAddress.city.length&&0!==D.billingAddress.state.length&&0!==D.billingAddress.country.length&&0!==D.billingAddress.postalCode.length}),[D]),G=(0,n.useCallback)((function(){F&&D&&(B?(D.shipping={shippingAddress:D.billingAddress},k((0,f.LH)(D)).then((function(){U?k((0,f.XN)(U)).catch(b.WH).finally((function(){w(C)})):w(C)})).catch(b.WH)):w(j))}),[F,U,B,D]);return(0,m.jsx)("div",{className:"page",children:(0,m.jsx)("form",{onSubmit:function(e){e.preventDefault(),G()},children:(0,m.jsx)(p.Z,{heading:I("create_card_info.title_".concat(null===D||void 0===D?void 0:D.cardType)),onBack:S,footer:(0,m.jsx)(t.zx,{width:"100%",variant:"primary",disabled:!F,onClick:G,children:I("create_card_address.ctaText")}),children:(0,m.jsxs)(c.xu,{width:"100%",children:["physical"===(null===D||void 0===D?void 0:D.cardType)?(0,m.jsxs)(c.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,m.jsxs)(c.xu,{children:[(0,m.jsx)(c.xv,{variant:"large",textAlign:"left",children:I("create_card_address.confirmBillingAddressTitle")}),(0,m.jsx)(c.xv,{variant:"regular",className:"text-light",textAlign:"left",children:I("create_card_address.confirmBillingAddressDesc")})]}),(0,m.jsx)(o.r,{variant:"primary",defaultChecked:B,onChange:function(){H(!B)}})]}):null,(0,m.jsx)(c.xv,{variant:"large",mt:3,children:I("create_card_address.confirmMailingAddress")}),(0,m.jsxs)(u.NI,{variant:"primary",style:T,children:[(0,m.jsx)(u.lX,{variant:"primary",children:I("create_card_address.address1")}),(0,m.jsx)(y.Z,{placeholder:I("create_card_address.address1"),googleApiKey:"AIzaSyDcW61NFxklslLuuUxNw0SzoBmHyC4Zhh4",address:(null===D||void 0===D?void 0:D.billingAddress)||void 0,restrictedCountry:"physical"===(null===D||void 0===D?void 0:D.cardType)?"US":void 0,onChange:function(e){W("billingAddress",(0,a.Z)((0,a.Z)({},e),{},{addressType:"mailing"}))}})]}),(0,m.jsxs)(u.NI,{variant:"primary",style:T,children:[(0,m.jsx)(u.lX,{variant:"primary",children:I("create_card_address.address2")}),(0,m.jsx)(v.II,{variant:"primary",placeholder:I("create_card_address.address2"),value:null===D||void 0===D||null===(e=D.billingAddress)||void 0===e?void 0:e.line2,onChange:function(e){W("billingAddress",(0,a.Z)((0,a.Z)({},(null===D||void 0===D?void 0:D.billingAddress)||{}),{},{line2:e.target.value}))}})]}),(0,m.jsxs)(u.NI,{variant:"primary",style:T,children:[(0,m.jsx)(u.lX,{variant:"primary",children:I("create_card_address.addressCity")}),(0,m.jsx)(v.II,{variant:"primary",placeholder:I("create_card_address.addressCity"),value:null===D||void 0===D||null===(r=D.billingAddress)||void 0===r?void 0:r.city,onChange:function(e){W("billingAddress",(0,a.Z)((0,a.Z)({},(null===D||void 0===D?void 0:D.billingAddress)||{}),{},{city:e.target.value}))}})]}),(0,m.jsxs)(u.NI,{variant:"primary",style:T,children:[(0,m.jsx)(u.lX,{variant:"primary",children:I("create_card_address.addressState")}),(0,m.jsx)(v.II,{variant:"primary",placeholder:I("create_card_address.addressState"),value:null===D||void 0===D||null===(i=D.billingAddress)||void 0===i?void 0:i.state,onChange:function(e){W("billingAddress",(0,a.Z)((0,a.Z)({},(null===D||void 0===D?void 0:D.billingAddress)||{}),{},{state:e.target.value}))}})]}),(0,m.jsxs)(u.NI,{variant:"primary",style:T,children:[(0,m.jsx)(u.lX,{variant:"primary",children:I("create_card_address.addressZipcode")}),(0,m.jsx)(v.II,{variant:"primary",placeholder:I("create_card_address.addressZipcode"),value:null===D||void 0===D||null===(Z=D.billingAddress)||void 0===Z?void 0:Z.postalCode,onChange:function(e){W("billingAddress",(0,a.Z)((0,a.Z)({},(null===D||void 0===D?void 0:D.billingAddress)||{}),{},{postalCode:e.target.value}))}})]})]})})})})}}}]);
//# sourceMappingURL=2252.d8230b11.chunk.js.map