"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[6861,219],{1023:function(e,t,n){var a=n(2791),r=n(5798),i=n(4398),s=n.n(i),l=n(184);t.Z=function(e){var t=e.onChange,n=e.value,i=e.placeholder,u=e.prefix,o=e.digits,c=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){c.current&&s()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==u&&void 0!==u?u:"$ ",placeholder:i,rightAlign:!1,digits:o,numericInput:!0}).mask(c.current)}),[u,o,i]),(0,l.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:c,onChange:function(e){var n=e.target.value;t(n)},value:n})}},3692:function(e,t,n){n.d(t,{T:function(){return r},z:function(){return a}});var a=function(e){return e.LOGOUT="logout",e.CARD_REFRESH="card_refresh",e.TRANSACTION_REFRESH="transaction_refresh",e.CONTACT_REFRESH="contact_refresh",e}({}),r={_events:{},dispatch:function(e,t){this._events[e]&&this._events[e].forEach((function(e){return e(t)}))},subscribe:function(e,t){var n=this;this._events[e]||(this._events[e]=[]);var a=this._events[e].push(t);return function(){n.unsubscribe(e,a-1)}},unsubscribe:function(e,t){this._events[e]&&(void 0!==t&&this._events[e][t]?this._events[e].splice(t,1,(function(){})):delete this._events[e])}}},219:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(1413),r=n(2791),i=n(5048),s=n(1951),l=n(3629),u=n(4565),o=n(5719),c=n(4888),d=n(5304),m=n(7514),f=n(9439),h=n(2504),p=n(8735),v=n(3445),x=n(3393),y=n(2020),g=n(9513),N=n.n(g),j=n(5649),D=n(4144),T="TransactionFilter_filter_header__a8wBs",b="TransactionFilter_input_picker__+ZtyG",_="TransactionFilter_amountInputs__PwwNL",C=(n(8639),n(1023)),w=n(184),I=function(e){var t=e.showTransactionTypeFilter,n=e.showTimePeriodFilter,i=e.showAmountFilter,s=(e.showCardsFilter,e.filters),l=e.onApply,u=(0,y.$)().t,o=(0,r.useState)(!1),c=(0,f.Z)(o,2),d=c[0],m=c[1],g=(0,r.useState)(!1),I=(0,f.Z)(g,2),E=I[0],k=I[1],S=(0,r.useState)(!1),M=(0,f.Z)(S,2),Z=M[0],z=M[1],R=(0,r.useState)(!1),A=(0,f.Z)(R,2),F=(A[0],A[1],(0,r.useState)(new Date)),U=(0,f.Z)(F,2),P=U[0],Y=U[1],G=(0,r.useState)(new Date),O=(0,f.Z)(G,2),L=O[0],$=O[1],W=(0,r.useState)(),H=(0,f.Z)(W,2),B=H[0],X=H[1],J=(0,r.useState)(),q=(0,f.Z)(J,2),Q=q[0],K=q[1],V=(0,r.useState)({physical:!1,virtual:!0}),ee=(0,f.Z)(V,2),te=(ee[0],ee[1],(0,r.useState)({min:"",max:""})),ne=(0,f.Z)(te,2),ae=ne[0],re=ne[1];return(0,r.useEffect)((function(){s&&(s.transactionType&&X(s.transactionType),s.timePeriod&&K(s.timePeriod),s.amount&&re(s.amount),s.startDate&&Y(new Date(s.startDate)),s.endDate&&$(new Date(s.endDate)))}),[s]),(0,w.jsx)("div",{className:"page",children:(0,w.jsx)(j.Z,{heading:"Filter",showBack:!0,footer:(0,w.jsx)(h.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",onClick:function(){l&&l({transactionType:B,timePeriod:Q,amount:ae,startDate:P,endDate:L})},children:u("filter.ctaText")}),children:(0,w.jsxs)(p.xu,{children:[t?(0,w.jsxs)(p.xu,{"data-testid":"transaction-type-filter",children:[(0,w.jsxs)(p.Ug,{className:T,onClick:function(){return m(!d)},children:[(0,w.jsx)(p.xv,{variant:"large",children:u("filter.transactionType")}),d?(0,w.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,w.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,w.jsx)(p.xu,{borderBottom:"1px solid var(--border-color-1)",children:d?(0,w.jsx)(v.Ee,{onChange:function(e){return e&&X(e)},value:B,children:(0,w.jsxs)(p.gC,{alignItems:"flex-start",pb:"20px",children:[(0,w.jsx)(v.Y8,{value:"credit",variant:"primary",children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.credits")})}),(0,w.jsx)(v.Y8,{variant:"primary",value:"debit",children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.debits")})}),(0,w.jsx)(v.Y8,{variant:"primary",value:"card",children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.cardTransactions")})})]})}):null})]}):null,n?(0,w.jsxs)(p.xu,{"data-testid":"date-filter",children:[(0,w.jsxs)(p.Ug,{className:T,onClick:function(){return k(!E)},children:[(0,w.jsx)(p.xv,{variant:"large",children:u("filter.timePeriod")}),E?(0,w.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,w.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,w.jsx)(p.xu,{borderBottom:"1px solid var(--border-color-1)",children:E?(0,w.jsx)(v.Ee,{children:(0,w.jsxs)(p.gC,{alignItems:"flex-start",pb:"20px",children:[(0,w.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("thisWeek"===Q?void 0:"thisWeek")},isChecked:"thisWeek"===Q,children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.thisWeek")})}),(0,w.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("thisMonth"===Q?void 0:"thisMonth")},isChecked:"thisMonth"===Q,children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.thisMonth")})}),(0,w.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("lastMonth"===Q?void 0:"lastMonth")},isChecked:"lastMonth"===Q,children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.lastMonth")})}),(0,w.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("custom"===Q?void 0:"custom")},isChecked:"custom"===Q,children:(0,w.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.custom")})}),"custom"===Q?(0,w.jsxs)(p.Ug,{pt:"20px",children:[(0,w.jsxs)(x.NI,{variant:"primary",children:[(0,w.jsx)(x.lX,{variant:"primary",children:u("filter.from")}),(0,w.jsx)(N(),{className:b,selected:P,onChange:function(e){return Y(e)},placeholderText:u("filter.startDate")})]}),(0,w.jsxs)(x.NI,{variant:"primary",children:[(0,w.jsx)(x.lX,{variant:"primary",children:u("filter.to")}),(0,w.jsx)(N(),{className:b,selected:L,onChange:function(e){return $(e)},placeholderText:u("filter.endDate")})]})]}):null]})}):null})]}):null,i?(0,w.jsxs)(p.xu,{"data-testid":"amount-filter",children:[(0,w.jsxs)(p.Ug,{className:T,onClick:function(){return z(!Z)},children:[(0,w.jsx)(p.xv,{variant:"large",children:u("filter.amount")}),Z?(0,w.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,w.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,w.jsx)(p.xu,{borderBottom:"1px solid var(--border-color-1)",children:Z?(0,w.jsxs)(p.Ug,{className:_,children:[(0,w.jsxs)(x.NI,{variant:"primary",children:[(0,w.jsx)(x.lX,{variant:"primary",children:u("filter.from")}),(0,w.jsx)(C.Z,{value:ae.min,onChange:function(e){return re((0,a.Z)((0,a.Z)({},ae),{},{min:e||""}))}})]}),(0,w.jsxs)(x.NI,{variant:"primary",children:[(0,w.jsx)(x.lX,{variant:"primary",children:u("filter.to")}),(0,w.jsx)(C.Z,{value:ae.max,onChange:function(e){return re((0,a.Z)((0,a.Z)({},ae),{},{max:e||""}))}})]})]}):null})]}):null,null]})})})},E=n(4661),k=n(3692),S=function(){var e=(0,d.CG)((function(e){return e.transaction.filters.tmpStates}),i.wU),t=(0,d.Qo)(),n=(0,E.y)().close,f=(0,r.useMemo)((function(){var t={},n=(0,a.Z)({},e);return"credit"!==t.txnType&&"debit"!==t.txnType&&"card"!==t.txnType||(n.transactionType=t.txnType),t.startDate&&(n.startDate=t.startDate),t.endDate&&(n.endDate=t.endDate),t.timePeriod&&(n.timePeriod=t.timePeriod),t.minAmount&&(n.amount.min=t.minAmount),t.maxAmount&&(n.amount.max=t.maxAmount),n}),[e]);return(0,w.jsx)(I,{showAmountFilter:!0,showCardsFilter:!0,showTimePeriodFilter:!0,showTransactionTypeFilter:!0,filters:f,onApply:function(e){var a=e.transactionType,r=e.amount,i=e.timePeriod,d=e.startDate,f=e.endDate,h={};"credit"!==a&&"debit"!==a&&"card"!==a||(h.txnType=a);var p=new Date,v=new Date(p.getFullYear(),p.getMonth(),0);switch(i){case"thisWeek":h.startDate=(0,s.default)((0,l.default)(p),"yyyy-MM-dd"),h.endDate=(0,s.default)((0,u.default)(p),"yyyy-MM-dd");break;case"thisMonth":h.startDate=(0,s.default)((0,o.default)(p),"yyyy-MM-dd"),h.endDate=(0,s.default)((0,c.default)(p),"yyyy-MM-dd");break;case"lastMonth":h.startDate=(0,s.default)((0,o.default)(v),"yyyy-MM-dd"),h.endDate=(0,s.default)((0,c.default)(v),"yyyy-MM-dd");break;case"custom":h.startDate=(0,s.default)(d,"yyyy-MM-dd"),h.endDate=(0,s.default)(f,"yyyy-MM-dd")}""!==r.min&&(h.minAmount=r.min),""!==r.max&&(h.maxAmount=r.max),t((0,m.L5)({data:h,tmpStates:{transactionType:a,amount:r,timePeriod:i,startDate:d,endDate:f}})),setTimeout((function(){k.T.dispatch(k.z.TRANSACTION_REFRESH,{data:h,tmpStates:{transactionType:a,amount:r,timePeriod:i,startDate:d,endDate:f}})}),0),n()}})}},5798:function(e,t,n){n.d(t,{II:function(){return d}});var a=n(3393),r=n(1938),i=n(6831),s=n(2791),l=n(9611);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var c=["htmlSize"],d=(0,r.Gp)((function(e,t){var n=e.htmlSize,l=o(e,c),d=(0,r.jC)("Input",l),m=(0,r.Lr)(l),f=(0,a.Yp)(m),h=(0,i.cx)("chakra-input",e.className);return s.createElement(r.m$.input,u({size:n},f,{__css:d.field,ref:t,className:h}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var m=["children","className"],f=(0,r.eC)("InputGroup"),h=f[0],p=f[1],v=(0,r.Gp)((function(e,t){var n=(0,r.jC)("Input",e),a=(0,r.Lr)(e),c=a.children,d=a.className,f=o(a,m),p=(0,i.cx)("chakra-input__group",d),v={},x=(0,l.WR)(c),y=n.field;x.forEach((function(e){if(n){var t,a;if(y&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(t=y.height)?t:y.h;if(y&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(a=y.height)?a:y.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var g=x.map((function(t){var n,a,r=(0,i.YU)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?s.cloneElement(t,r):s.cloneElement(t,Object.assign(r,v,t.props))}));return s.createElement(r.m$.div,u({className:p,ref:t,__css:{width:"100%",display:"flex",position:"relative"}},f),s.createElement(h,{value:n},g))}));i.Ts&&(v.displayName="InputGroup");var x=["placement"],y={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},g=(0,r.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),N=(0,r.Gp)((function(e,t){var n,a=e.placement,r=void 0===a?"left":a,i=o(e,x),l=null!=(n=y[r])?n:{},c=p();return s.createElement(g,u({ref:t},i,{__css:u({},c.addon,l)}))}));i.Ts&&(N.displayName="InputAddon");var j=(0,r.Gp)((function(e,t){return s.createElement(N,u({ref:t,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(j.displayName="InputLeftAddon"),j.id="InputLeftAddon";var D=(0,r.Gp)((function(e,t){return s.createElement(N,u({ref:t,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(D.displayName="InputRightAddon"),D.id="InputRightAddon";var T=["placement"],b=["className"],_=["className"],C=(0,r.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),w=(0,r.Gp)((function(e,t){var n,a,r,i=e.placement,l=void 0===i?"left":i,c=o(e,T),d=p(),m=d.field,f=u(((r={})["left"===l?"insetStart":"insetEnd"]="0",r.width=null!=(n=null==m?void 0:m.height)?n:null==m?void 0:m.h,r.height=null!=(a=null==m?void 0:m.height)?a:null==m?void 0:m.h,r.fontSize=null==m?void 0:m.fontSize,r),d.element);return s.createElement(C,u({ref:t,__css:f},c))}));w.id="InputElement",i.Ts&&(w.displayName="InputElement");var I=(0,r.Gp)((function(e,t){var n=e.className,a=o(e,b),r=(0,i.cx)("chakra-input__left-element",n);return s.createElement(w,u({ref:t,placement:"left",className:r},a))}));I.id="InputLeftElement",i.Ts&&(I.displayName="InputLeftElement");var E=(0,r.Gp)((function(e,t){var n=e.className,a=o(e,_),r=(0,i.cx)("chakra-input__right-element",n);return s.createElement(w,u({ref:t,placement:"right",className:r},a))}));E.id="InputRightElement",i.Ts&&(E.displayName="InputRightElement")},2729:function(e,t,n){n.d(t,{qk:function(){return i},vh:function(){return r},yJ:function(){return a}});Math.pow(10,8);var a=6e4,r=36e5,i=1e3},9831:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var a=n(2729),r=n(4522),i=n(9297);function s(e,t){var n;(0,r.Z)(1,arguments);var s=(0,i.Z)(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var p,v=function(e){var t,n={},a=e.split(l.dateTimeDelimiter);if(a.length>2)return n;/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],l.timeZoneDelimiter.test(n.date)&&(n.date=e.split(l.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var r=l.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e);if(v.date){var x=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};var r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(v.date,s);p=function(e,t){if(null===t)return new Date(NaN);var n=e.match(u);if(!n)return new Date(NaN);var a=!!n[4],r=d(n[1]),i=d(n[2])-1,s=d(n[3]),l=d(n[4]),o=d(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,l,o)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var r=a.getUTCDay()||7,i=7*(t-1)+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}(t,l,o):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(f[t]||(h(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,r)?(c.setUTCFullYear(t,i,Math.max(r,s)),c):new Date(NaN)}(x.restDateString,x.year)}if(!p||isNaN(p.getTime()))return new Date(NaN);var y,g=p.getTime(),N=0;if(v.time&&(N=function(e){var t=e.match(o);if(!t)return NaN;var n=m(t[1]),r=m(t[2]),i=m(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*a.vh+r*a.yJ+1e3*i}(v.time),isNaN(N)))return new Date(NaN);if(!v.timezone){var j=new Date(g+N),D=new Date(0);return D.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()),D.setHours(j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds()),D}return y=function(e){if("Z"===e)return 0;var t=e.match(c);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*a.vh+i*a.yJ)}(v.timezone),isNaN(y)?new Date(NaN):new Date(g+N+y)}var l={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400===0||e%4===0&&e%100!==0}}}]);
//# sourceMappingURL=6861.77d61e6f.chunk.js.map