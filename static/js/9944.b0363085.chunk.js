"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[9944,1708],{2019:function(n,t,e){e(2791);t.Z=e.p+"static/media/card-dummy.19c76a5b99fbc47d33e218cb877d1407.svg"},8819:function(n,t,e){var a=e(2791),c=e(8735),r=e(3046),i=e(5048),o=e(2020),d=e(1098),l=e(5304),s=e(7208),u=e(80),f=e(2019),h=e(184),x=a.memo((function(n){var t=n.data,e=n.showSecrets,x=n.onReady,m=t,v=(0,o.$)().t,_=(0,l.Qo)(),p=(0,a.useRef)(null),g=(0,a.useRef)(null),y=(0,l.CG)((function(n){return n.core.programConfig}),i.wU),j=(0,l.CG)((function(n){return n.business.selectedBusiness}),i.wU),w=(0,a.useMemo)((function(){return"physical"===m.cardType?null===y||void 0===y?void 0:y.brand.cardArtPhysical:null===y||void 0===y?void 0:y.brand.cardArtVirtual}),[m,y]),C=(0,a.useMemo)((function(){return"physical"===m.cardType?null===y||void 0===y?void 0:y.brand.physicalCardTextColor:null===y||void 0===y?void 0:y.brand.virtualCardTextColor}),[m,y]),b=(0,a.useCallback)((function(){(0,u.V_)(!0),_((0,s.ms)(t.id)).then((function(n){(0,u.V_)(!0);var e=setTimeout((function(){(0,u.V_)(!1)}),15e3),a=window.VGSShow.create((0,u.Ab)(),(function(n){var t,a;!0===(null===n||void 0===n||null===(t=n.cvvIframe)||void 0===t?void 0:t.revealed)&&!0===(null===n||void 0===n||null===(a=n.cardNoIframe)||void 0===a?void 0:a.revealed)&&(clearTimeout(e),(0,u.V_)(!1))})),c={"sd-show-token":n.showToken};a.request({name:"cardNoIframe",method:"GET",headers:c,path:"/v1/card/".concat(t.id,"/show"),jsonPathSelector:"cardNumber",serializers:[a.SERIALIZERS.replace("(\\d{4})(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3 $4")]}).render(p.current,{color:C,fontSize:"15px",height:"20px",overflow:"hidden",fontWeight:"700"}),a.request({name:"cvvIframe",method:"GET",headers:c,path:"/v1/card/".concat(t.id,"/show"),jsonPathSelector:"cvv"}).render(g.current,{color:C,fontSize:"13px",display:"block",height:"16px",overflow:"hidden"}),x&&x({show:a,headers:c})})).catch(u.WH).finally((function(){return(0,u.V_)(!1)}))}),[t]);return(0,a.useEffect)((function(){if(e){var n=document.createElement("script");n.id="vgs-script",n.crossOrigin="anonymous";n.src="https://js.verygoodvault.com/vgs-show/1.3/".concat("ACci3u9aEmutHr7zpAeVY2Zc",".js"),n.type="text/javascript",n.onload=b,document.head.append(n)}return function(){var n;window.VGSShow=void 0,null===(n=document.getElementById("vgs-script"))||void 0===n||n.remove()}}),[e]),(0,h.jsxs)(c.xu,{opacity:"inactive"===m.cardStatus?"0.5":"1",className:"".concat(d.Z.card_image_info," ").concat(d.Z.cardList__card_image_info_white),children:[(0,h.jsx)(r.Ee,{className:d.Z.card_image,alt:"logo",src:w,fallbackSrc:f.Z,"data-testid":"card-img"}),(0,h.jsxs)(c.xu,{className:d.Z.card_details,children:[(0,h.jsxs)(c.xu,{pt:"14px",mb:"auto",children:[(0,h.jsx)(c.xv,{color:C,fontWeight:"500",fontSize:"10px",children:v("cards_list.".concat(m.cardType))}),(0,h.jsx)(c.xv,{color:"#A1A1A1",fontSize:"10px",children:"Limited Use"})]}),e?(0,h.jsx)(c.kC,{children:(0,h.jsx)(c.xu,{className:d.Z["secret-wrapper"],height:"20px",width:"60%",overflow:"hidden",ref:p,mb:"12px"})}):(0,h.jsxs)(c.xv,{color:C,fontWeight:"700",fontSize:"15px",pb:"8px",children:["**** **** ****"," ",m.last4]}),(0,h.jsxs)(c.Ug,{children:[(0,h.jsxs)(c.xu,{alignItems:"flex-start",mr:"40px",children:[(0,h.jsx)(c.xv,{color:"#A1A1A1",fontSize:"10px",children:v("cards_list.expDate")}),(0,h.jsxs)(c.xv,{color:C,fontSize:"13px",children:[m.expiryMonth,"/",m.expiryYear]})]}),(0,h.jsxs)(c.xu,{alignItems:"flex-start",children:[(0,h.jsx)(c.xv,{color:"#A1A1A1",fontSize:"10px",children:v("cards_list.cvv")}),e?(0,h.jsx)(c.xu,{className:d.Z["secret-wrapper"],height:"20px",width:"50px",ref:g}):(0,h.jsx)(c.xv,{color:C,fontSize:"13px",children:"***"})]})]}),(0,h.jsxs)(c.xu,{mt:"auto",children:[(0,h.jsx)(c.xv,{color:C,fontWeight:"700",fontSize:"9px",children:""!==m.embossingPerson?m.embossingPerson:m.cardholder.name}),(0,h.jsx)(c.xv,{color:C,fontWeight:"700",fontSize:"9px",children:""!==m.embossingBusiness?m.embossingBusiness:null===j||void 0===j?void 0:j.legalName})]})]})]})}));t.Z=x},6864:function(n,t,e){e.d(t,{Z:function(){return u}});e(2791);var a=e(4946),c=e(8735),r=e(2504),i="ConfirmModal_modal__fS-v4",o="ConfirmModal_modalHeader__M3BcQ",d="ConfirmModal_modalBody__uHbgc",l="ConfirmModal_modalClose__Xh2Cs",s=e(184),u=function(n){var t=n.title,e=n.description,u=n.cancelButton,f=n.submitButton,h=n.showModal,x=n.onCancel,m=n.onOk;return(0,s.jsxs)(a.u_,{isOpen:h,size:"sm",isCentered:!0,onClose:function(){return x},children:[(0,s.jsx)(a.ZA,{}),(0,s.jsxs)(a.hz,{className:"".concat(i),children:[(0,s.jsx)(a.xB,{className:"".concat(o),children:t}),(0,s.jsx)(a.ol,{onClick:x,className:"".concat(l)}),(0,s.jsx)(a.fe,{className:"".concat(d),children:(0,s.jsx)(c.xv,{children:e})}),(0,s.jsxs)(a.mz,{children:[(0,s.jsx)(r.zx,{colorScheme:"branding",variant:"outline",mr:3,onClick:x,children:u||"Cancel"}),(0,s.jsx)(r.zx,{onClick:m,variant:"primary",children:f||"Submit"})]})]})]})}},3746:function(n,t,e){e.d(t,{IT:function(){return i},Py:function(){return u},Qr:function(){return s},Vf:function(){return l},YF:function(){return c},b:function(){return d},oE:function(){return o},yW:function(){return r}});var a=e(7207),c=function(n){return{type:a.Sd,payload:n}},r=function(n){return{type:a.JX,payload:n}},i=function(n){return{type:a.$S,payload:n}},o=function(n){return{type:a.iY,payload:n}},d=function(n){return{type:a.z6,payload:n}},l=function(n){return{type:a.I,payload:n}},s=function(n){return{type:a.VJ,payload:n}},u=function(n){return{type:a.Ek,payload:n}}},7208:function(n,t,e){e.d(t,{LH:function(){return l},M_:function(){return p},OV:function(){return f},P1:function(){return _},QZ:function(){return s},XN:function(){return x},e:function(){return v},ms:function(){return h},nO:function(){return u},on:function(){return d},zp:function(){return m}});var a=e(3433),c=e(1413),r=e(80),i=e(286),o=e(3746),d=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;return function(d,l){return new Promise((function(s,u){d((0,o.IT)(!0));var f="/v1/card?accountId=".concat(n,"&limit=").concat(t,"&offset=").concat(e);r&&(f+="&query=".concat(r,"&last4=").concat(r)),i.Z.get(f).then((function(n){var t=n.data,r=l().card,i={total:0,data:[]};if(0===e)i=t;else{var u=(0,c.Z)({},r.cards);i={data:[].concat((0,a.Z)(u.data),(0,a.Z)(t.data)),total:t.total}}d((0,o.YF)(i)),s(i)})).catch((function(n){u(n)})).finally((function(){d((0,o.IT)(!1))}))}))}},l=function(n){return function(t){return(0,r.V_)(!0),new Promise((function(e,a){i.Z.post("/v1/card",n).then((function(n){var a=n.data;t((0,o.Vf)(a)),e(a)})).catch((function(n){a(n)})).finally((function(){(0,r.V_)(!1)}))}))}},s=function(n,t){return function(e,a){return new Promise((function(c,o){(0,r.V_)(!0),i.Z.patch("/v1/card/".concat(n,"/activate"),t).then((function(n){var t=n.data,r=a().account.selectedAccount;r&&setTimeout((function(){e(d(r.id))}),0),c(t)})).catch((function(n){o(n)})).finally((function(){(0,r.V_)(!1)}))}))}},u=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),i.Z.get("/v1/card/".concat(n)).then((function(n){var e=n.data;t(e)})).catch((function(n){e(n)})).finally((function(){(0,r.V_)(!1)}))}))}},f=function(n,t){return function(){return new Promise((function(e,a){(0,r.V_)(!0),i.Z.patch("v1/card/".concat(n),t).then((function(n){var t=n.data;e(t)})).catch((function(n){a(n)})).finally((function(){(0,r.V_)(!1)}))}))}},h=function(n){return function(){return new Promise((function(t,e){i.Z.post("v1/card/".concat(n,"/show-token")).then((function(n){var e=n.data;t(e)})).catch((function(n){e(n)}))}))}},x=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),i.Z.delete("/v1/card/".concat(n)).then((function(n){var e=n.data;t(e)})).catch((function(n){e(n)})).finally((function(){(0,r.V_)(!1)}))}))}},m=function(n){var t=n.cardId,e=n.lat,a=n.long,c=n.limit,r=void 0===c?25:c,d=n.page,l=void 0===d?1:d;return function(n){return new Promise((function(c,d){n((0,o.b)(!0));var s=r*(l-1);i.Z.get("v1/card/atm?cardId=".concat(t,"&limit=").concat(r,"&offset=").concat(s,"&latitude=").concat(e,"&longitude=").concat(a,"&radius=5")).then((function(t){var e=t.data;n((0,o.oE)(e)),c(e)})).catch((function(n){d(n)})).finally((function(){n((0,o.b)(!1))}))}))}},v=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),i.Z.post("v1/card/".concat(n,"/pintoken")).then((function(n){var e=n.data;t(e)})).catch((function(n){e(n)})).finally((function(){return(0,r.V_)(!1)}))}))}},_=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;return function(d,l){return new Promise((function(s,u){d((0,o.IT)(!0));var f="/v1/send/card?accountId=".concat(n,"&limit=").concat(t,"&offset=").concat(e);r&&(f+="&query=".concat(r)),i.Z.get(f).then((function(n){var t=n.data,r=l().card,i=t.data.filter((function(n){return null!==n.card})),u={total:0,data:[]};if(0===e)u={data:i,total:i.length};else{var f=(0,c.Z)({},r.sentCards);u={data:[].concat((0,a.Z)(f.data),(0,a.Z)(i)),total:i.length}}d((0,o.yW)(u)),s(u)})).catch((function(n){u(n)})).finally((function(){d((0,o.IT)(!1))}))}))}},p=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),i.Z.post("/v1/send/card/cancel",{cardId:n}).then((function(n){var e=n.data;t(e)})).catch((function(n){e(n)})).finally((function(){(0,r.V_)(!1)}))}))}}},9944:function(n,t,e){e.r(t),e.d(t,{default:function(){return N}});var a=e(9439),c=e(2791),r=e(2020),i=e(967),o=e(5223),d=e(8735),l=e(9743),s=e(7689),u=e(4144),f="CardDetails_pointer__wpB4y",h="CardDetails_cardDetails__action_in_list__-IbkW",x="CardDetails_iconCopy__8Jl5g",m="CardDetails_cardNumber__tiHE-",v="CardDetails_cardDetails__cardNo__BOpAt",_=e(6864),p=e(5304),g=e(7208),y=e(80),j=e(8819),w=e(3746),C=e(5649),b=e(4661),Z=e(7514),S=e(184),k=c.lazy((function(){return Promise.all([e.e(4398),e.e(3787)]).then(e.bind(e,9935))})),z=c.lazy((function(){return e.e(7006).then(e.bind(e,9355))})),N=function(){var n=(0,r.$)().t,t=(0,p.Qo)(),e=(0,i.pm)(),N=(0,s.s0)(),I=(0,b.y)(),A=I.open,V=I.close,P=I.data,T=(null===P||void 0===P?void 0:P.id)||"",B=(0,c.useState)(null),D=(0,a.Z)(B,2),E=D[0],M=D[1],W=(0,o.kt)(),O=(0,a.Z)(W,2),$=O[0],H=O[1],L=(0,c.useState)(!1),R=(0,a.Z)(L,2),G=R[0],q=R[1],Q=(0,c.useState)(!1),U=(0,a.Z)(Q,2),X=U[0],F=U[1],Y=(0,c.useState)(!1),J=(0,a.Z)(Y,2),K=J[0],nn=J[1],tn=(0,c.useState)(!1),en=(0,a.Z)(tn,2),an=en[0],cn=en[1],rn=(0,c.useRef)(null),on=(0,c.useRef)(null);(0,c.useEffect)((function(){T&&t((0,g.nO)(T)).then((function(n){M(n),t((0,w.Vf)(n)),"inactive"===n.cardStatus&&H.on()})).catch(y.WH)}),[T]);var dn=(0,c.useCallback)((function(){null!==E&&void 0!==E&&E.id&&t((0,g.OV)(E.id,{cardStatus:$?"inactive":"active"})).then((function(n){M(n),t((0,w.Vf)(n))})).catch((function(n){H.toggle(),(0,y.WH)(n)})).finally((function(){q(!1),F(!1)}))}),[null===E||void 0===E?void 0:E.id,$]),ln=(0,c.useCallback)((function(){null!==E&&void 0!==E&&E.id&&(nn(!1),t((0,g.XN)(E.id)).then((function(){})).catch(y.WH))}),[E]),sn=(0,c.useCallback)((function(){E&&(t((0,Z.L5)({data:{cardId:E.id},tmpStates:{transactionType:{credits:!1,debits:!1,cardTransactions:!1},amount:{min:"",max:""},timePeriod:void 0,startDate:new Date,endDate:new Date,cardId:E.id}})),setTimeout((function(){N("/transactions")}),0))}),[E]),un=(0,c.useCallback)((function(n){var t=n.show,a=n.headers;if(E){var c=t.request({name:"cardNoIframe2",method:"GET",headers:a,path:"/v1/card/".concat(E.id,"/show"),jsonPathSelector:"cardNumber",serializers:[t.SERIALIZERS.replace("(\\d{4})(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3 $4")]});c.render(rn.current,{color:"#767676",fontSize:"16px",display:"block",height:"16px",fontWeight:500,letterSpacing:.5,lineHeight:"24px"}),t.copyFrom(c,{text:'<svg width="13" height="13" viewBox="0 0 30 30" style=""><g transform="scale(0.03125 0.03125)"><path d="M373.336 832c-99.969 0-181.336-81.374-181.336-181.338v-437.328h-74.664c-64.726 0-117.336 52.601-117.336 117.328v575.997c0 64.734 52.61 117.342 117.336 117.342h533.331c64.725 0 117.333-52.608 117.333-117.342v-74.658h-394.664z"></path><path d="M938.667 117.336c0-64.812-52.523-117.336-117.333-117.336h-447.997c-64.812 0-117.336 52.524-117.336 117.336v533.328c0 64.813 52.524 117.336 117.336 117.336h447.997c64.811 0 117.333-52.523 117.333-117.336v-533.328z"></path></g></svg>'},(function(n){"success"===n&&e({title:"Card Number copied.",status:"success",duration:9e3,isClosable:!0,position:"top-right"})})).render(on.current,{cursor:"pointer",overflow:"hidden",left:"auto",right:"0",width:"auto",fill:getComputedStyle(document.documentElement).getPropertyValue("--icon-color")})}}),[E]);return null===E?null:(0,S.jsx)(d.xu,{className:"page",children:(0,S.jsxs)(C.Z,{showBack:!0,onBack:function(){V()},heading:n("card_details.title"),children:[(0,S.jsxs)(d.xu,{width:"100%",children:[(0,S.jsx)(j.Z,{data:E,showSecrets:!0,onReady:un},E.id),(0,S.jsxs)(d.xu,{className:"".concat(h," ").concat(v),children:[(0,S.jsx)(d.xv,{variant:"regular",pr:"2px",textAlign:"left",children:n("card_details.cardNo")}),(0,S.jsx)(d.xv,{className:"".concat(m," cardIframeWrapper cardIframeWrapper__number"),ref:rn,variant:"regular text-light"}),(0,S.jsx)("span",{className:"".concat(x," cardIframeWrapper cardIframeWrapper__copy"),ref:on})]}),(0,S.jsxs)(d.xu,{onClick:sn,className:"".concat(h," ").concat(f),children:[(0,S.jsx)(d.xv,{variant:"regular",mr:"auto",textAlign:"left",children:n("card_details.transactions")}),(0,S.jsx)(u.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}),(0,S.jsx)(d.xv,{variant:"large",pt:"20px",pb:"16px",children:n("card_details.actions")}),(0,S.jsxs)(d.xu,{rounded:"4px",pb:"20px",children:[(0,S.jsxs)(d.xu,{className:h,children:[(0,S.jsx)(d.xv,{variant:"regular",mr:"auto",textAlign:"left",children:n("card_details.freezeCard")}),(0,S.jsx)(l.r,{variant:"primary",id:"send-by-email",isChecked:$,onChange:function(n){return n.target.checked?q(!0):F(!0),void H.toggle()}})]}),(0,S.jsxs)(d.xu,{className:h,children:[(0,S.jsxs)(d.xv,{variant:"regular",textAlign:"left",children:[n("card_details.cardLabel"),":"]}),(0,S.jsx)(d.xv,{variant:"regular",pl:"8px",mr:"auto",className:"text-light",children:E.label}),(0,S.jsx)(d.xv,{variant:"small",className:"".concat(f," text-dark"),fontSize:"14px",textDecor:"underline",onClick:function(){return A(k)},children:n("card_details.edit")})]}),(0,S.jsxs)(d.xu,{className:h,children:[(0,S.jsx)(d.xv,{variant:"regular",textAlign:"left",children:n("card_details.spendingLimit")}),(0,S.jsxs)(d.xv,{variant:"regular",color:"#2EC193",pl:"8px",mr:"auto",textAlign:"left",children:["$"," ",E.limitAmount]}),(0,S.jsx)(d.xv,{variant:"small",className:"".concat(f," text-dark"),fontSize:"14px",textDecor:"underline",onClick:function(){return A(k)},children:n("card_details.edit")})]}),"active"===E.cardStatus?(0,S.jsxs)(d.xu,{className:"".concat(h," ").concat(f),onClick:function(){return A(z)},children:[(0,S.jsx)(d.xv,{variant:"regular",mr:"auto",textAlign:"left",children:n("card_details.atmInfo")}),(0,S.jsx)(u.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}):null,(0,S.jsxs)(d.xu,{className:"".concat(h," ").concat(f),onClick:function(){return nn(!0)},children:[(0,S.jsx)(d.xv,{variant:"regular",mr:"auto",textAlign:"left",children:n("card_details.cancelCard")}),(0,S.jsx)(u.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}),(0,S.jsxs)(d.xu,{className:"".concat(h," ").concat(f),onClick:y.Z4,children:[(0,S.jsx)(d.xv,{variant:"regular",mr:"auto",textAlign:"left",children:n("card_details.getHelp")}),(0,S.jsx)(d.xv,{variant:"small",fontSize:"14px",textDecor:"underline",className:"".concat(f," text-dark"),children:n("card_details.chat")})]})]})]}),(0,S.jsx)(_.Z,{showModal:G,submitButton:n("card_details.cardInfo_freeze_button"),cancelButton:n("card_details.cancel"),title:n("card_details.freezeCard"),description:n("card_details.freezeDescription"),onCancel:function(){q(!1),H.toggle()},onOk:dn}),(0,S.jsx)(_.Z,{showModal:X,submitButton:n("card_details.cardInfo_unfreeze_button"),cancelButton:n("card_details.cancel"),title:n("card_details.unFreezeCard"),description:n("card_details.unFreezeDescription"),onCancel:function(){F(!1),q(!1),H.toggle()},onOk:dn}),(0,S.jsx)(_.Z,{showModal:K,submitButton:n("card_details.yes"),cancelButton:n("card_details.no"),title:n("card_details.cancelCard"),description:n("card_details.cardInfo_cancel_alert_messsage"),onCancel:function(){return nn(!1)},onOk:ln}),(0,S.jsx)(_.Z,{showModal:an,submitButton:n("card_details.yes"),cancelButton:n("card_details.no"),title:n("card_details.replaceCard"),description:"Replacing your card will discard your exisiting card information and a new card will be issued with a different card number",onOk:function(){t((0,w.Py)(E.id)),cn(!1),t((0,w.Qr)({cardType:E.cardType,accountId:E.accountId,currency:"USD"})),setTimeout((function(){A(k)}),0)},onCancel:function(){cn(!1)}})]})})}},1098:function(n,t){t.Z={card_image_info:"Card_card_image_info__1lu3-",cardList__card_image_info_white:"Card_cardList__card_image_info_white__oomdL",card_image:"Card_card_image__zhqS8",card_details:"Card_card_details__wrMqr","secret-wrapper":"Card_secret-wrapper__XSUD8",cancel_card:"Card_cancel_card__ZnXGe",sent_card:"Card_sent_card__modhG",is_cancelled:"Card_is_cancelled__oods1"}}}]);
//# sourceMappingURL=9944.b0363085.chunk.js.map