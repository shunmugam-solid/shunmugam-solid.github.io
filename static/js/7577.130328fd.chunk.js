"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[7577],{5808:function(n,e,a){a.d(e,{$N:function(){return s},Ny:function(){return o},T8:function(){return r},Z2:function(){return i}});var t=a(3152),i=function(n){return{type:t.km,payload:n}},o=function(n){return{type:t.z0,payload:n}},r=function(n){return{type:t.KY,payload:n}},s=function(n){return{type:t.fY,payload:n}}},9270:function(n,e,a){a.d(e,{Am:function(){return u},NB:function(){return l},RG:function(){return f},XD:function(){return p},gb:function(){return d},lM:function(){return c},mi:function(){return s},vd:function(){return v},zL:function(){return r}});var t=a(80),i=a(286),o=a(5808),r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a){return new Promise((function(r,s){(0,t.V_)(!0);var u="v1/business?include=accounts&limit=".concat(n,"&offset=").concat(e);i.Z.get(u).then((function(n){var e=n.data;a((0,o.Z2)(e.data)),r(e)})).catch((function(n){n.response&&n.response.data?s(n.response.data):s(n)})).finally((function(){(0,t.V_)(!1)}))}))}},s=function(n){return function(e){return new Promise((function(a,r){(0,t.V_)(!0),i.Z.post("v1/business",n).then((function(n){var t=n.data;e((0,o.Ny)(t)),a(t)})).catch((function(n){n.response&&n.response.data?r(n.response.data):r(n)})).finally((function(){(0,t.V_)(!1)}))}))}},u=function(n,e){return function(a){return new Promise((function(r,s){(0,t.V_)(!0),i.Z.patch("v1/business/".concat(n),e).then((function(n){var e=n.data;a((0,o.Ny)(e)),r(e)})).catch((function(n){n.response&&n.response.data?s(n.response.data):s(n)})).finally((function(){(0,t.V_)(!1)}))}))}},l=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){return new Promise((function(a,o){e&&(0,t.V_)(!0);var r="v1/business/".concat(n);i.Z.get(r).then((function(n){var e=n.data;a(e)})).catch((function(n){n.response&&n.response.data?o(n.response.data):o(n)})).finally((function(){e&&(0,t.V_)(!1)}))}))}},c=function(n){return function(e){return new Promise((function(a,r){(0,t.V_)(!0),i.Z.get("v1/owner?businessId=".concat(n)).then((function(n){var t=n.data;e((0,o.T8)(t.data)),a(t)})).catch((function(n){n.response&&n.response.data?r(n.response.data):r(n)})).finally((function(){(0,t.V_)(!1)}))}))}},d=function(n){return function(){return new Promise((function(e,a){(0,t.V_)(!0),i.Z.post("v1/business/".concat(n,"/kyb"),{businessId:n}).then((function(n){var a=n.data;e(a)})).catch((function(n){n.response&&n.response.data?a(n.response.data):a(n)})).finally((function(){(0,t.V_)(!1)}))}))}},f=function(n,e){return function(){return new Promise((function(a,o){(0,t.V_)(!0),i.Z.patch("v1/owner/".concat(n),e).then((function(n){var e=n.data;a(e)})).catch((function(n){n.response&&n.response.data?o(n.response.data):o(n)})).finally((function(){(0,t.V_)(!1)}))}))}},v=function(n){return function(){return new Promise((function(e,a){(0,t.V_)(!0),i.Z.post("v1/owner",n).then((function(n){var a=n.data;e(a)})).catch((function(n){n.response&&n.response.data?a(n.response.data):a(n)})).finally((function(){(0,t.V_)(!1)}))}))}},p=function(n){return function(){return new Promise((function(e,a){(0,t.V_)(!0),i.Z.post("v1/owner/".concat(n,"/kyc")).then((function(n){var a=n.data;e(a)})).catch((function(n){n.response&&n.response.data?a(n.response.data):a(n)})).finally((function(){(0,t.V_)(!1)}))}))}}},7577:function(n,e,a){a.r(e);var t=a(9439),i=a(2791),o=a(8735),r=a(3445),s=a(2020),u=a(7689),l=a(1087),c=a(5048),d=a(5649),f=a(5304),v=a(9270),p=a(80),h=a(4144),b=a(1458),g=a(5808),m=a(184);e.default=function(){var n,e,a,y,k,x,C=(0,s.$)().t,_=(0,f.Qo)(),P=(0,u.s0)(),w=(0,l.lr)(),j=(0,t.Z)(w,1)[0],D=(0,f.CG)((function(n){return n.user.personDetails}),c.wU),N=(0,f.CG)((function(n){return n.business.businesses}),c.wU),F=(0,f.CG)((function(n){return n.core.programConfig}),c.wU),V=j.get("accountType"),B=(0,i.useState)(V||"cash"),R=(0,t.Z)(B,2),E=R[0],Z=R[1];(0,i.useEffect)((function(){_((0,v.zL)()).catch(p.WH)}),[]);var S=(0,i.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_((0,b.pi)({accountType:E,businessId:n})),P("/ao/account/setup")}),[E]),T=(0,i.useCallback)((function(){P("/ao/kyb/businessDetails")}),[]);return(0,m.jsx)(o.xu,{className:"page",children:(0,m.jsx)("form",{children:(0,m.jsx)(d.Z,{varient:"box",onBack:function(){P("/ao/account/list")},heading:C("setup_wallet_options.title"),children:(0,m.jsxs)(o.xu,{width:"100%",children:[(0,m.jsxs)(o.xu,{width:"100%",children:[(0,m.jsx)(o.xv,{"data-testid":"account-type-label",variant:"large",mb:"10px",children:C("setup_wallet_options.accountType")}),(0,m.jsx)(r.Ee,{"data-testid":"account-type-radiogroup",onChange:function(n){return Z(n)},value:E,children:(0,m.jsxs)(o.gC,{alignItems:"flex-start",py:"24px",children:[(0,m.jsx)(r.Y8,{value:"cash",variant:"primary",children:(0,m.jsx)(o.xv,{variant:"regular",fontSize:"14px",children:C("setup_wallet_options.cash")})}),null!==F&&void 0!==F&&null!==(n=F.bank)&&void 0!==n&&null!==(e=n.accountType)&&void 0!==e&&e.cardAccount?(0,m.jsx)(r.Y8,{value:"card",variant:"primary",children:(0,m.jsx)(o.xv,{variant:"regular",fontSize:"14px",children:C("setup_wallet_options.card")})}):null]})})]}),(0,m.jsxs)(o.xu,{width:"100%",children:[(0,m.jsx)(o.xv,{"data-testid":"add-account-title",variant:"large",mb:"10px",children:C("setup_wallet_options.addAccountTo")}),(0,m.jsxs)(o.aV,{children:[null!==F&&void 0!==F&&null!==(a=F.bank)&&void 0!==a&&null!==(y=a.accountType)&&void 0!==y&&y.personalChecking?(0,m.jsx)(o.HC,{"data-testid":"personal-checking",cursor:"pointer",padding:"22px",mb:"20px",border:"1px solid #EDEFF1",onClick:function(){S(null)},children:(0,m.jsxs)(o.kC,{justifyContent:"space-between",children:[(0,m.jsx)(o.xv,{variant:"regular",children:"".concat(null===D||void 0===D?void 0:D.firstName," ").concat(null===D||void 0===D?void 0:D.lastName)}),(0,m.jsx)(h.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]})}):null,null!==F&&void 0!==F&&null!==(k=F.bank)&&void 0!==k&&null!==(x=k.accountType)&&void 0!==x&&x.businessChecking?(0,m.jsxs)(m.Fragment,{children:[N.map((function(n){return(0,m.jsx)(o.HC,{"data-testid":"business-item-".concat(n.id),cursor:"pointer",padding:"22px",mb:"20px",border:"1px solid #EDEFF1",onClick:function(){_((0,g.Ny)(n)),setTimeout((function(){"approved"===n.kyb.status?S(n.id):"inReview"===n.kyb.status?P("/ao/kyb/review"):P("/ao/kyb/declined")}),0)},children:(0,m.jsxs)(o.kC,{justifyContent:"space-between",children:[(0,m.jsx)(o.xv,{variant:"regular",textTransform:"capitalize",children:n.legalName}),(0,m.jsx)(h.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]})},"business-".concat(n.id))})),"cash"===E?(0,m.jsx)(o.HC,{"data-testid":"new-business",cursor:"pointer",onClick:T,padding:"22px",mb:"20px",border:"1px solid #EDEFF1",children:(0,m.jsxs)(o.kC,{justifyContent:"space-between",children:[(0,m.jsx)(o.xv,{variant:"regular",children:C("setup_wallet_options.addBusiness")}),(0,m.jsx)(h.Z,{icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]})}):null]}):null]})]})]})})})})}},3445:function(n,e,a){a.d(e,{Ee:function(){return m},Y8:function(){return C}});var t=a(1938),i=a(7160),o=a(6831),r=a(2791),s=a(9611),u=a(5223),l=a(3393),c=a(1212);function d(n,e){if(null==n)return{};var a,t,i={},o=Object.keys(n);for(t=0;t<o.length;t++)a=o[t],e.indexOf(a)>=0||(i[a]=n[a]);return i}function f(){return f=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},f.apply(this,arguments)}var v=["onChange","value","defaultValue","name","isDisabled","isFocusable","isNative"];var p=["colorScheme","size","variant","children","className","isDisabled","isFocusable"],h=(0,s.kr)({name:"RadioGroupContext",strict:!1}),b=h[0],g=h[1],m=(0,t.Gp)((function(n,e){var a=n.colorScheme,i=n.size,l=n.variant,c=n.children,h=n.className,g=n.isDisabled,m=n.isFocusable,y=function(n){void 0===n&&(n={});var e=n,a=e.onChange,t=e.value,i=e.defaultValue,l=e.name,c=e.isDisabled,p=e.isFocusable,h=e.isNative,b=d(e,v),g=r.useState(i||""),m=g[0],y=g[1],k=(0,u.pY)(t,m),x=k[0],C=k[1],_=r.useRef(null),P=r.useCallback((function(){var n=_.current;if(n){var e="input:not(:disabled):checked",a=n.querySelector(e);if(a)a.focus();else{e="input:not(:disabled)";var t=n.querySelector(e);null==t||t.focus()}}}),[]),w=(0,u.Me)(void 0,"radio"),j=l||w,D=r.useCallback((function(n){var e=(0,o.kA)(n)?n.target.value:n;x||y(e),null==a||a(String(e))}),[a,x]),N=r.useCallback((function(n,e){return void 0===n&&(n={}),void 0===e&&(e=null),f({},n,{ref:(0,s.lq)(e,_),role:"radiogroup"})}),[]),F=r.useCallback((function(n,e){var a;return void 0===n&&(n={}),void 0===e&&(e=null),f({},n,((a={ref:e,name:j})[h?"checked":"isChecked"]=null!=C?n.value===C:void 0,a.onChange=D,a["data-radiogroup"]=!0,a))}),[h,j,D,C]);return{getRootProps:N,getRadioProps:F,name:j,ref:_,focus:P,setValue:y,value:C,onChange:D,isDisabled:c,isFocusable:p,htmlProps:b}}(d(n,p)),k=y.value,x=y.onChange,C=y.getRootProps,_=y.name,P=y.htmlProps,w=r.useMemo((function(){return{name:_,size:i,onChange:x,colorScheme:a,value:k,variant:l,isDisabled:g,isFocusable:m}}),[_,i,x,a,k,l,g,m]),j=C(P,e),D=(0,o.cx)("chakra-radio-group",h);return r.createElement(b,{value:w},r.createElement(t.m$.div,f({},j,{className:D}),c))}));o.Ts&&(m.displayName="RadioGroup");var y=["defaultChecked","isChecked","isFocusable","isDisabled","isReadOnly","isRequired","onChange","isInvalid","name","value","id","data-radiogroup","aria-describedby"];function k(n){n.preventDefault(),n.stopPropagation()}var x=["spacing","children","isDisabled","isFocusable","inputProps"],C=(0,t.Gp)((function(n,e){var a,s=g(),v=n.onChange,p=n.value,h=(0,t.jC)("Radio",f({},s,n)),b=(0,t.Lr)(n),m=b.spacing,C=void 0===m?"0.5rem":m,_=b.children,P=b.isDisabled,w=void 0===P?null==s?void 0:s.isDisabled:P,j=b.isFocusable,D=void 0===j?null==s?void 0:s.isFocusable:j,N=b.inputProps,F=d(b,x),V=n.isChecked;null!=(null==s?void 0:s.value)&&null!=p&&(V=s.value===p);var B=v;null!=s&&s.onChange&&null!=p&&(B=(0,o.PP)(s.onChange,v));var R=function(n){void 0===n&&(n={});var e=n,a=e.defaultChecked,t=e.isChecked,i=e.isFocusable,s=e.isDisabled,v=e.isReadOnly,p=e.isRequired,h=e.onChange,b=e.isInvalid,m=e.name,x=e.value,C=e.id,_=e["data-radiogroup"],P=e["aria-describedby"],w=d(e,y),j=(0,u.Me)(void 0,"radio"),D=(0,l.NJ)(),N=g(),F=!D||N||_?j:D.id;F=null!=C?C:F;var V=null!=s?s:null==D?void 0:D.isDisabled,B=null!=v?v:null==D?void 0:D.isReadOnly,R=null!=p?p:null==D?void 0:D.isRequired,E=null!=b?b:null==D?void 0:D.isInvalid,Z=(0,u.kt)(),S=Z[0],T=Z[1],M=(0,u.kt)(),z=M[0],I=M[1],O=(0,u.kt)(),q=O[0],A=O[1],G=(0,r.useState)(Boolean(a)),L=G[0],U=G[1],Y=(0,u.pY)(t,L),$=Y[0],H=Y[1],K=(0,r.useCallback)((function(n){B||V?n.preventDefault():($||U(n.target.checked),null==h||h(n))}),[$,V,B,h]),Q=(0,r.useCallback)((function(n){" "===n.key&&A.on()}),[A]),J=(0,r.useCallback)((function(n){" "===n.key&&A.off()}),[A]),W=(0,r.useCallback)((function(n,e){return void 0===n&&(n={}),void 0===e&&(e=null),f({},n,{ref:e,"data-active":(0,o.PB)(q),"data-hover":(0,o.PB)(z),"data-disabled":(0,o.PB)(V),"data-invalid":(0,o.PB)(E),"data-checked":(0,o.PB)(H),"data-focus":(0,o.PB)(S),"data-readonly":(0,o.PB)(B),"aria-hidden":!0,onMouseDown:(0,o.v0)(n.onMouseDown,A.on),onMouseUp:(0,o.v0)(n.onMouseUp,A.off),onMouseEnter:(0,o.v0)(n.onMouseEnter,I.on),onMouseLeave:(0,o.v0)(n.onMouseLeave,I.off)})}),[q,z,V,E,H,S,B,A.on,A.off,I.on,I.off]),X=null!=D?D:{},nn=X.onFocus,en=X.onBlur,an=(0,r.useCallback)((function(n,e){void 0===n&&(n={}),void 0===e&&(e=null);var a=V&&!i;return f({},n,{id:F,ref:e,type:"radio",name:m,value:x,onChange:(0,o.v0)(n.onChange,K),onBlur:(0,o.v0)(en,n.onBlur,T.off),onFocus:(0,o.v0)(nn,n.onFocus,T.on),onKeyDown:(0,o.v0)(n.onKeyDown,Q),onKeyUp:(0,o.v0)(n.onKeyUp,J),checked:H,disabled:a,readOnly:B,required:R,"aria-invalid":(0,o.Qm)(E),"aria-disabled":(0,o.Qm)(a),"aria-required":(0,o.Qm)(R),"data-readonly":(0,o.PB)(B),"aria-describedby":P,style:c.NL})}),[V,i,F,m,x,K,en,T,nn,Q,J,H,B,R,E,P]);return{state:{isInvalid:E,isFocused:S,isChecked:H,isActive:q,isHovered:z,isDisabled:V,isReadOnly:B,isRequired:R},getCheckboxProps:W,getInputProps:an,getLabelProps:function(n,e){return void 0===n&&(n={}),void 0===e&&(e=null),f({},n,{ref:e,onMouseDown:(0,o.v0)(n.onMouseDown,k),onTouchStart:(0,o.v0)(n.onTouchStart,k),"data-disabled":(0,o.PB)(V),"data-checked":(0,o.PB)(H),"data-invalid":(0,o.PB)(E)})},getRootProps:function(n,e){return void 0===e&&(e=null),f({},n,{ref:e,"data-disabled":(0,o.PB)(V),"data-checked":(0,o.PB)(H),"data-invalid":(0,o.PB)(E)})},htmlProps:w}}(f({},F,{isChecked:V,isFocusable:D,isDisabled:w,onChange:B,name:null!=(a=null==n?void 0:n.name)?a:null==s?void 0:s.name})),E=R.getInputProps,Z=R.getCheckboxProps,S=R.getLabelProps,T=R.getRootProps,M=R.htmlProps,z=(0,o.Vl)(M,i.oE),I=z[0],O=Z(z[1]),q=E(N,e),A=S(),G=Object.assign({},I,T()),L=f({display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative"},h.container),U=f({display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},h.control),Y=f({userSelect:"none",marginStart:C},h.label);return r.createElement(t.m$.label,f({className:"chakra-radio"},G,{__css:L}),r.createElement("input",f({className:"chakra-radio__input"},q)),r.createElement(t.m$.span,f({className:"chakra-radio__control"},O,{__css:U})),_&&r.createElement(t.m$.span,f({className:"chakra-radio__label"},A,{__css:Y}),_))}));o.Ts&&(C.displayName="Radio")}}]);
//# sourceMappingURL=7577.130328fd.chunk.js.map