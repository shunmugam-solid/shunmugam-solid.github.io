"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[2559],{2019:function(e,r,a){a(2791);r.Z=a.p+"static/media/card-dummy.19c76a5b99fbc47d33e218cb877d1407.svg"},8819:function(e,r,a){var t=a(2791),c=a(8735),s=a(3046),n=a(5048),i=a(2020),d=a(1098),l=a(5304),o=a(7208),_=a(80),u=a(2019),h=a(184),x=t.memo((function(e){var r=e.data,a=e.showSecrets,x=e.onReady,v=r,f=(0,i.$)().t,g=(0,l.Qo)(),m=(0,t.useRef)(null),p=(0,t.useRef)(null),w=(0,l.CG)((function(e){return e.core.programConfig}),n.wU),C=(0,l.CG)((function(e){return e.business.selectedBusiness}),n.wU),j=(0,t.useMemo)((function(){return"physical"===v.cardType?null===w||void 0===w?void 0:w.brand.cardArtPhysical:null===w||void 0===w?void 0:w.brand.cardArtVirtual}),[v,w]),b=(0,t.useMemo)((function(){return"physical"===v.cardType?null===w||void 0===w?void 0:w.brand.physicalCardTextColor:null===w||void 0===w?void 0:w.brand.virtualCardTextColor}),[v,w]),L=(0,t.useCallback)((function(){(0,_.V_)(!0),g((0,o.ms)(r.id)).then((function(e){(0,_.V_)(!0);var a=setTimeout((function(){(0,_.V_)(!1)}),15e3),t=window.VGSShow.create((0,_.Ab)(),(function(e){var r,t;!0===(null===e||void 0===e||null===(r=e.cvvIframe)||void 0===r?void 0:r.revealed)&&!0===(null===e||void 0===e||null===(t=e.cardNoIframe)||void 0===t?void 0:t.revealed)&&(clearTimeout(a),(0,_.V_)(!1))})),c={"sd-show-token":e.showToken};t.request({name:"cardNoIframe",method:"GET",headers:c,path:"/v1/card/".concat(r.id,"/show"),jsonPathSelector:"cardNumber",serializers:[t.SERIALIZERS.replace("(\\d{4})(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3 $4")]}).render(m.current,{color:b,fontSize:"15px",height:"20px",overflow:"hidden",fontWeight:"700"}),t.request({name:"cvvIframe",method:"GET",headers:c,path:"/v1/card/".concat(r.id,"/show"),jsonPathSelector:"cvv"}).render(p.current,{color:b,fontSize:"13px",display:"block",height:"16px",overflow:"hidden"}),x&&x({show:t,headers:c})})).catch(_.WH).finally((function(){return(0,_.V_)(!1)}))}),[r]);return(0,t.useEffect)((function(){if(a){var e=document.createElement("script");e.id="vgs-script",e.crossOrigin="anonymous";e.src="https://js.verygoodvault.com/vgs-show/1.3/".concat("ACci3u9aEmutHr7zpAeVY2Zc",".js"),e.type="text/javascript",e.onload=L,document.head.append(e)}return function(){var e;window.VGSShow=void 0,null===(e=document.getElementById("vgs-script"))||void 0===e||e.remove()}}),[a]),(0,h.jsxs)(c.xu,{opacity:"inactive"===v.cardStatus?"0.5":"1",className:"".concat(d.Z.card_image_info," ").concat(d.Z.cardList__card_image_info_white),children:[(0,h.jsx)(s.Ee,{className:d.Z.card_image,alt:"logo",src:j,fallbackSrc:u.Z,"data-testid":"card-img"}),(0,h.jsxs)(c.xu,{className:d.Z.card_details,children:[(0,h.jsxs)(c.xu,{pt:"14px",mb:"auto",children:[(0,h.jsx)(c.xv,{color:b,fontWeight:"500",fontSize:"10px",children:f("cards_list.".concat(v.cardType))}),(0,h.jsx)(c.xv,{color:"#A1A1A1",fontSize:"10px",children:"Limited Use"})]}),a?(0,h.jsx)(c.kC,{children:(0,h.jsx)(c.xu,{className:d.Z["secret-wrapper"],height:"20px",width:"60%",overflow:"hidden",ref:m,mb:"12px"})}):(0,h.jsxs)(c.xv,{color:b,fontWeight:"700",fontSize:"15px",pb:"8px",children:["**** **** ****"," ",v.last4]}),(0,h.jsxs)(c.Ug,{children:[(0,h.jsxs)(c.xu,{alignItems:"flex-start",mr:"40px",children:[(0,h.jsx)(c.xv,{color:"#A1A1A1",fontSize:"10px",children:f("cards_list.expDate")}),(0,h.jsxs)(c.xv,{color:b,fontSize:"13px",children:[v.expiryMonth,"/",v.expiryYear]})]}),(0,h.jsxs)(c.xu,{alignItems:"flex-start",children:[(0,h.jsx)(c.xv,{color:"#A1A1A1",fontSize:"10px",children:f("cards_list.cvv")}),a?(0,h.jsx)(c.xu,{className:d.Z["secret-wrapper"],height:"20px",width:"50px",ref:p}):(0,h.jsx)(c.xv,{color:b,fontSize:"13px",children:"***"})]})]}),(0,h.jsxs)(c.xu,{mt:"auto",children:[(0,h.jsx)(c.xv,{color:b,fontWeight:"700",fontSize:"9px",children:""!==v.embossingPerson?v.embossingPerson:v.cardholder.name}),(0,h.jsx)(c.xv,{color:b,fontWeight:"700",fontSize:"9px",children:""!==v.embossingBusiness?v.embossingBusiness:null===C||void 0===C?void 0:C.legalName})]})]})]})}));r.Z=x},2559:function(e,r,a){var t=a(9439),c=a(2791),s=a(2020),n=a(8735),i=a(2504),d=a(5798),l=a(5048),o=a(4771),_=a(7689),u=a(4144),h=a(8709),x=a(5304),v=a(7208),f=a(80),g=a(8819),m=a(3746),p=a(1778),w=a(729),C=a(6559),j=a(1605),b=a(4661),L=a(3692),Z=a(184),A=c.lazy((function(){return a.e(2723).then(a.bind(a,2723))})),z=c.lazy((function(){return Promise.all([a.e(4398),a.e(3046)]).then(a.bind(a,9998))})),N=c.lazy((function(){return a.e(1708).then(a.bind(a,9944))})),y=c.forwardRef((function(e,r){var a=e.showSearch,y=e.showAddCard,k=e.cardsPerView,S=e.pagination,D=e.showExtendedDetails,R=e.showCompactView,T=(0,s.$)().t,M=(0,x.Qo)(),G=(0,c.useRef)(1),V=(0,b.y)().open,W=(0,_.s0)(),H=(0,c.useRef)(!1),E=(0,c.useRef)(""),I=(0,c.useState)(""),U=(0,t.Z)(I,2),P=U[0],B=U[1],$=(0,x.CG)((function(e){return e.core.config.mode})),q=(0,x.CG)((function(e){return e.card}),l.wU),Y=q.cards,O=q.cardLoading,F=(0,x.CG)((function(e){return e.account.selectedAccount}),l.wU),J=(0,x.CG)((function(e){return e.user.personDetails}),l.wU),Q=(0,x.CG)((function(e){return e.core.config}),l.wU).isDarkMode,X=(0,p.Vd)("cards").showDOSHRewards,K=(0,x.CG)((function(e){return e.core.programConfig}),l.wU),ee=(0,c.useMemo)((function(){return"0001"===(null===K||void 0===K?void 0:K.code)?y&&R&&Y.data.length>0:y&&R}),[y,Y,K,R]),re=(0,c.useCallback)((function(){F&&M((0,v.on)(F.id,k,(G.current-1)*k,0===P.length?void 0:P)).catch(f.WH)}),[F,k,G,P]),ae=(0,c.useCallback)((function(){J&&M((0,v.$e)(J.id)).then((function(e){if(e){var r=btoa,a={jwt:e.accessToken};"live"!==$&&(a.debugLoggingEnabled=!0);var t="https://poweredby.dosh.com/partners/solidFi/setup/";t+=r(JSON.stringify(a)),window.open(t,"_blank")}})).catch(f.WH)}),[v.$e,J]),te=(0,c.useCallback)((function(){M((0,m.Py)(null)),V(A)}),[]);(0,c.useEffect)((function(){return(0,f.pt)(null===K||void 0===K?void 0:K.brand.cardArtPhysical),(0,f.pt)(null===K||void 0===K?void 0:K.brand.cardArtVirtual),re(),L.T.subscribe(L.z.CARD_REFRESH,(function(){console.log("refresh called"),G.current=1,re()}))}),[F]),(0,w.bX)((function(){H.current&&(G.current=1,E.current=P,re())}),1e3,[P,H]),(0,c.useImperativeHandle)(r,(function(){return{cardListRefresh:function(){G.current=1,re()}}}));var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,Z.jsx)(n.xu,{className:"".concat(h.Z.cardList__add_container," default-bg ").concat(e?h.Z.cardList__add_container_horizontal:""),onClick:te,children:(0,Z.jsxs)(n.M5,{className:h.Z.cardList__add,children:[(0,Z.jsx)(u.Z,{icon:"icon-add",className:"icon-customizable",size:40}),(0,Z.jsx)(n.xv,{variant:"regular",pt:"10px",children:T("cards_list.addACard")})]})})},se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,Z.jsxs)(n.xu,{className:"".concat(h.Z.autoCardHeight," ").concat(0===Y.data.length?h.Z.dBlock:""," "),children:[0===Y.data.length&&0===E.current.length&&!H.current&&y&&"0001"===(null===K||void 0===K?void 0:K.code)&&X?(0,Z.jsxs)(n.xu,{className:"".concat(Q?h.Z.rewards_get_card_dark:""," ").concat(h.Z.rewards_get_card," ").concat(h.Z.is_large),children:[(0,Z.jsxs)(n.xv,{className:h.Z.rewards_text,children:[T("cards_list.earnRewardsBy"),(0,Z.jsx)(n.xv,{px:"4px",as:"span",color:"var(--blue-1)",children:T("cards_list.virtualCard")}),T("cards_list.today")]}),(0,Z.jsxs)(i.zx,{className:h.Z.rewards_get_card_btn,onClick:function(){te()},children:[(0,Z.jsx)(n.xv,{pr:"12px",children:T("cards_list.rewardsbtn")}),(0,Z.jsx)(u.Z,{icon:"icon-Arrow-big-right",size:12,className:"color-white"})]})]}):0!==Y.data.length&&0===E.current.length&&"0001"===(null===K||void 0===K?void 0:K.code)&&X?(0,Z.jsx)(n.xu,{className:"".concat(Q?h.Z.see_rewards_dark:""," ").concat(h.Z.see_rewards),onClick:function(){return ae()},children:(0,Z.jsxs)(n.xv,{className:h.Z.rewards_text,children:[T("cards_list.seeRewardsClickTo"),(0,Z.jsx)(n.xv,{px:"4px",as:"span",color:"var(--blue-1)",children:T("cards_list.seeRewardsRewards")})]})}):0!==Y.data.length||ee?null:(0,Z.jsx)(n.M5,{py:2,children:(0,Z.jsx)(n.xv,{variant:"regular",className:"text-light",textAlign:"center",children:T("cards_list.noData")})}),Y.data.map((function(e){return(0,Z.jsxs)(n.xu,{className:"".concat(h.Z.cardList__card_container," ").concat(D?"has-border":""," ").concat("inactive"===e.cardStatus?h.Z["cardList__card_container--freezed"]:""),onClick:function(){M((0,m.Vf)(e)),setTimeout((function(){V("pendingActivation"!==e.cardStatus?N:z,{id:e.id})}),0)},children:[(0,Z.jsx)(g.Z,{data:e}),D?(0,Z.jsx)(n.xu,{pt:3,children:(0,Z.jsxs)(n.Ug,{className:h.Z.cardList__label_limit,children:[(0,Z.jsxs)(n.xu,{w:"48%",children:[(0,Z.jsx)(n.xv,{variant:"small",textAlign:"left",children:T("cards_list.label")}),(0,Z.jsx)(n.xv,{variant:"regular",textAlign:"left",children:e.label})]}),(0,Z.jsxs)(n.xu,{w:"52%",className:h.Z.cardList__spending_limit,children:[(0,Z.jsx)(n.xv,{variant:"small",textAlign:"left",children:T("cards_list.spendingLimit")}),(0,Z.jsxs)(n.xv,{variant:"regular",textAlign:"left",children:["$"," ",e.limitAmount]})]})]})}):null]},"card-".concat(e.id))})),ee?ce(e):null]})},ne=(0,c.useCallback)((function(){W("/cards")}),[]);return(0,Z.jsx)(n.M5,{className:"page",height:"100%",children:O&&1===G.current&&!H.current?(0,Z.jsx)(C.Z,{name:R?"CardGrid":"CardList",showHeader:!R}):(0,Z.jsxs)(n.xu,{width:"100%",flexDirection:"column",height:"100%",display:"flex",children:[(0,Z.jsxs)(n.xu,{p:R?"":"15px",children:[(0,Z.jsxs)(n.Ug,{width:"100%",justifyContent:"space-between",mb:"24px",children:[(0,Z.jsx)(n.xv,{variant:"large",children:T("cards_list.title")}),R?(0,Z.jsxs)(n.xv,{variant:"regular",className:"text-light",fontSize:"16px",cursor:"pointer",onClick:ne,children:[T("cards_list.viewAll"),(0,Z.jsx)(u.Z,{style:{marginLeft:"10px"},icon:"Arrow-small-right",size:12,className:"svg-light-grey-1"})]}):null]}),(0,Z.jsxs)(n.Ug,{mt:"16px",children:[a&&!R?(0,Z.jsxs)(n.xu,{className:h.Z.cardList__search,children:[(0,Z.jsx)(u.Z,{icon:"icon-search",className:h.Z.cardList__search__icon,size:18}),(0,Z.jsx)(d.II,{placeholder:T("cards_list.searchCards"),variant:"primary",className:h.Z.cardList__search__input,onChange:function(e){H.current=!0,B(e.target.value)},value:P})]}):null,y&&a&&!R?(0,Z.jsxs)(n.M5,{className:"".concat(h.Z.contactAddContainer," button-icon-bg"),onClick:te,children:[(0,Z.jsx)(u.Z,{className:"dark-color",icon:"icon-plus",size:16}),(0,Z.jsx)(n.xv,{className:"".concat(h.Z.contactAddTxt," dark-color"),children:T("select_contact.add")})]}):null]})]}),O&&H.current?(0,Z.jsx)(C.Z,{name:"CardList",showHeader:!1}):R?(0,Z.jsx)("div",{className:h.Z.scrollableDivHorizontal,id:"scrollableDiv",children:se(!0)}):(0,Z.jsx)("div",{className:h.Z.scrollableDiv,id:"scrollableDiv",children:(0,Z.jsx)(o.Z,{dataLength:Y.data.length,next:function(){G.current+=1,re()},hasMore:S&&Y.data.length<Y.total&&0!==Y.total,loader:(0,Z.jsx)(n.M5,{my:3,children:(0,Z.jsx)(j.Z,{showModal:!1,show:!0})}),endMessage:O?null:(0,Z.jsx)(n.M5,{py:2,children:(0,Z.jsx)(n.xv,{variant:"regular",className:"text-light",textAlign:"center",children:T(0===Y.total?y?"":"cards_list.noData":"cards_list.noMoreCards")})}),scrollableTarget:"scrollableDiv",children:se()})})]})})}));r.Z=y},1098:function(e,r){r.Z={card_image_info:"Card_card_image_info__1lu3-",cardList__card_image_info_white:"Card_cardList__card_image_info_white__oomdL",card_image:"Card_card_image__zhqS8",card_details:"Card_card_details__wrMqr","secret-wrapper":"Card_secret-wrapper__XSUD8",cancel_card:"Card_cancel_card__ZnXGe",sent_card:"Card_sent_card__modhG",is_cancelled:"Card_is_cancelled__oods1"}},8709:function(e,r){r.Z={cardList__search:"CardList_cardList__search__Ve3dW",cardList__search__icon:"CardList_cardList__search__icon__Nt5V1",cardList__search__input:"CardList_cardList__search__input__byGJP",cardList__add_container:"CardList_cardList__add_container__zW00k",scrollableDivHorizontal:"CardList_scrollableDivHorizontal__jq3FO",cardList__add_container_horizontal:"CardList_cardList__add_container_horizontal__OqIB6",cardList__add:"CardList_cardList__add__WnnR0",cardList__card_container:"CardList_cardList__card_container__qp9to","cardList__card_container--freezed":"CardList_cardList__card_container--freezed__Zn+xc",cardList__balance:"CardList_cardList__balance__F4402",cardList__spending_limit:"CardList_cardList__spending_limit__Pcoza",scrollableDiv:"CardList_scrollableDiv__2Wuiq",autoCardHeight:"CardList_autoCardHeight__NhohS","has-border":"CardList_has-border__JeW25",rewards_get_card:"CardList_rewards_get_card__g5sZw",see_rewards:"CardList_see_rewards__7Tw0x",is_large:"CardList_is_large__d8WYW",see_rewards_dark:"CardList_see_rewards_dark__-C7GM",rewards_get_card_dark:"CardList_rewards_get_card_dark__e6ZY8",rewards_text:"CardList_rewards_text__RQtYj",rewards_get_card_btn:"CardList_rewards_get_card_btn__wlYD1",dBlock:"CardList_dBlock__jM26p",contactAddContainer:"CardList_contactAddContainer__jpldz",contactAddTxt:"CardList_contactAddTxt__AT0Wi"}}}]);
//# sourceMappingURL=2559.0bb4f850.chunk.js.map