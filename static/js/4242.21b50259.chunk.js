"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[4242],{1023:function(e,n,t){var r=t(2791),a=t(5798),i=t(4398),c=t.n(i),l=t(184);n.Z=function(e){var n=e.onChange,t=e.value,i=e.placeholder,u=e.prefix,o=e.digits,s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){s.current&&c()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==u&&void 0!==u?u:"$ ",placeholder:i,rightAlign:!1,digits:o,numericInput:!0}).mask(s.current)}),[u,o,i]),(0,l.jsx)(a.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:s,onChange:function(e){var t=e.target.value;n(t)},value:t})}},4126:function(e,n,t){t.d(n,{D:function(){return a},p:function(){return i}});var r=t(552),a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"quantity",a=r.Z.getState().crypto.supportedCurrencies.data.find((function(n){return n.currency===e}));if(a){var i=a.limits[n];return"quantity"===t?i.minimumQty:i.minimumAmount||"0"}return"0"},i=function(e,n){var t=r.Z.getState().crypto.supportedCurrencies.data.find((function(n){return n.currency===e}));if(t){var a,i,c=(null===(a=t.limits[n].minimumQty)||void 0===a||null===(i=a.split(".")[1])||void 0===i?void 0:i.length)||2;return 0!==c?c:2}return 6}},4242:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(9439),a=t(2791),i=t(2020),c=t(1938),l=t(2504),u=t(8735),o=t(3393),s=t(7640),d=t(5798),p=t(5048),m=t(7689),f=t(5649),h="BuyAmount_inputRightElement__C0QSQ",v="BuyAmount_currencyInput__F2zEM",y=t(9578),g=t(5304),_=t(3741),x=t(4126),b=t(3717),E=t(80),I=t(2966),N=t(1778),j=t(2942),S=t(1023),C=t(184),w=function(){var e=(0,i.$)().t,n=(0,g.Qo)(),t=(0,m.s0)(),w=(0,c.mq)("FormControl",{variant:"primary"}),k=(0,N._f)("buyCrypto").showBack,A=(0,g.CG)((function(e){return e.account}),p.wU),z=A.accounts,G=A.selectedAccount,R=(0,g.CG)((function(e){return e.crypto}),p.wU),O=R.selectedAccount,T=R.supportedCurrencies,L=(0,a.useState)((null===G||void 0===G?void 0:G.id)||""),Z=(0,r.Z)(L,2),B=Z[0],$=Z[1],q=(0,a.useState)(""),M=(0,r.Z)(q,2),P=M[0],H=M[1],D=(0,a.useState)("quantity"),Q=(0,r.Z)(D,2),U=Q[0],Y=Q[1],F=(0,a.useState)(""),W=(0,r.Z)(F,2),X=W[0],V=W[1],K=(0,a.useMemo)((function(){return z.filter((function(e){return"cardAccount"!==e.type}))}),[z]),J=(0,a.useMemo)((function(){return"quantity"===U&&null!==O&&void 0!==O&&O.currency?(0,x.p)(null===O||void 0===O?void 0:O.currency,"buy"):2}),[U,O,T]),ee=(0,a.useMemo)((function(){return null!==O&&void 0!==O&&O.currency?(0,x.D)(null===O||void 0===O?void 0:O.currency,"buy",U):0}),[U,O,T]),ne=(0,a.useMemo)((function(){return"0.".concat("0".repeat(J))}),[J]),te=(0,a.useMemo)((function(){return""!==P&&parseFloat(P)>0&&""!==U&&""!==B&&""!==X}),[P,U,B,X]);(0,a.useEffect)((function(){n((0,b._Y)())}),[]),(0,a.useEffect)((function(){n((0,_.Sg)(null,void 0,50))}),[]);var re=(0,a.useCallback)((function(){te&&O&&n((0,b.kC)({walletId:O.id,cryptoCurrency:O.currency,amount:"amount"===U?P:void 0,quantity:"quantity"===U?P:void 0})).then((function(){var e;n((0,I.jm)({selectedAccount:B,selectedAccountLabel:(null===(e=K.find((function(e){return e.id===B})))||void 0===e?void 0:e.label)||"",amount:P,type:U,description:X})),t("/crypto/buy/preview")})).catch(E.WH)}),[te,P,U,B,X,null===O||void 0===O?void 0:O.currency]);return(0,C.jsx)("div",{className:"page",children:(0,C.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),re()},children:(0,C.jsx)(f.Z,{showBack:k,heading:e("crypto_buy_account.title"),footer:(0,C.jsx)(l.zx,{type:"submit",width:"100%",variant:"primary",disabled:!te,children:e("crypto_buy_account.ctaText")}),onBack:function(){(0,y.bG)(j.CW.BACK_PRESSED,{from:"buyCrypto"})},children:(0,C.jsxs)(u.xu,{width:"100%",paddingTop:"15px",children:[(0,C.jsxs)(o.NI,{variant:"primary",style:w,children:[(0,C.jsx)(o.lX,{variant:"primary",children:e("crypto_buy_account.fundingAccount")}),(0,C.jsx)(s.Ph,{placeholder:e("crypto_buy_account.select"),variant:"primary",value:B,onChange:function(e){return $(e.target.value)},children:K.map((function(e){return(0,C.jsx)("option",{value:e.id,children:e.label},"account-".concat(e.id))}))})]}),(0,C.jsxs)(o.NI,{variant:"primary",style:w,children:[(0,C.jsx)(o.lX,{variant:"primary",children:e("crypto_buy_account.amountQuantity")}),(0,C.jsxs)(d.BZ,{className:v,children:[(0,C.jsx)(S.Z,{prefix:"",digits:J,value:P,placeholder:ne,onChange:function(e){H(e)}}),(0,C.jsx)(d.xH,{className:h,children:(0,C.jsxs)(s.Ph,{boxShadow:"none !important",outline:"none",fontSize:"14px",border:"0",value:U,onChange:function(e){return Y(e.target.value)},children:[(0,C.jsx)("option",{value:"quantity",children:null===O||void 0===O?void 0:O.currency}),(0,C.jsx)("option",{value:"amount",children:"USD"})]})})]}),(0,C.jsx)(u.xv,{variant:"small",className:"text-light",textAlign:"right",children:"Min: ".concat(ee," ").concat("quantity"===U?null===O||void 0===O?void 0:O.currency:"USD")})]}),(0,C.jsxs)(o.NI,{variant:"primary",style:w,children:[(0,C.jsx)(o.lX,{variant:"primary",children:e("crypto_buy_account.desc")}),(0,C.jsx)(d.II,{value:X,placeholder:e("crypto_buy_account.desc"),variant:"primary",onChange:function(e){return V(e.target.value)}})]})]})})})})}},5798:function(e,n,t){t.d(n,{BZ:function(){return v},II:function(){return d},xH:function(){return k}});var r=t(3393),a=t(1938),i=t(6831),c=t(2791),l=t(9611);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(this,arguments)}function o(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var s=["htmlSize"],d=(0,a.Gp)((function(e,n){var t=e.htmlSize,l=o(e,s),d=(0,a.jC)("Input",l),p=(0,a.Lr)(l),m=(0,r.Yp)(p),f=(0,i.cx)("chakra-input",e.className);return c.createElement(a.m$.input,u({size:t},m,{__css:d.field,ref:n,className:f}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var p=["children","className"],m=(0,a.eC)("InputGroup"),f=m[0],h=m[1],v=(0,a.Gp)((function(e,n){var t=(0,a.jC)("Input",e),r=(0,a.Lr)(e),s=r.children,d=r.className,m=o(r,p),h=(0,i.cx)("chakra-input__group",d),v={},y=(0,l.WR)(s),g=t.field;y.forEach((function(e){if(t){var n,r;if(g&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(n=g.height)?n:g.h;if(g&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(r=g.height)?r:g.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var _=y.map((function(n){var t,r,a=(0,i.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(r=n.props)?void 0:r.variant)||e.variant});return"Input"!==n.type.id?c.cloneElement(n,a):c.cloneElement(n,Object.assign(a,v,n.props))}));return c.createElement(a.m$.div,u({className:h,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},m),c.createElement(f,{value:t},_))}));i.Ts&&(v.displayName="InputGroup");var y=["placement"],g={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},_=(0,a.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),x=(0,a.Gp)((function(e,n){var t,r=e.placement,a=void 0===r?"left":r,i=o(e,y),l=null!=(t=g[a])?t:{},s=h();return c.createElement(_,u({ref:n},i,{__css:u({},s.addon,l)}))}));i.Ts&&(x.displayName="InputAddon");var b=(0,a.Gp)((function(e,n){return c.createElement(x,u({ref:n,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(b.displayName="InputLeftAddon"),b.id="InputLeftAddon";var E=(0,a.Gp)((function(e,n){return c.createElement(x,u({ref:n,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(E.displayName="InputRightAddon"),E.id="InputRightAddon";var I=["placement"],N=["className"],j=["className"],S=(0,a.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),C=(0,a.Gp)((function(e,n){var t,r,a,i=e.placement,l=void 0===i?"left":i,s=o(e,I),d=h(),p=d.field,m=u(((a={})["left"===l?"insetStart":"insetEnd"]="0",a.width=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,a.height=null!=(r=null==p?void 0:p.height)?r:null==p?void 0:p.h,a.fontSize=null==p?void 0:p.fontSize,a),d.element);return c.createElement(S,u({ref:n,__css:m},s))}));C.id="InputElement",i.Ts&&(C.displayName="InputElement");var w=(0,a.Gp)((function(e,n){var t=e.className,r=o(e,N),a=(0,i.cx)("chakra-input__left-element",t);return c.createElement(C,u({ref:n,placement:"left",className:a},r))}));w.id="InputLeftElement",i.Ts&&(w.displayName="InputLeftElement");var k=(0,a.Gp)((function(e,n){var t=e.className,r=o(e,j),a=(0,i.cx)("chakra-input__right-element",t);return c.createElement(C,u({ref:n,placement:"right",className:a},r))}));k.id="InputRightElement",i.Ts&&(k.displayName="InputRightElement")},7640:function(e,n,t){t.d(n,{Ph:function(){return v}});var r=t(3393),a=t(1938),i=t(7160),c=t(6831),l=t(6198),u=t.n(l),o=t(2791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var p=["children","placeholder","className"],m=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],f=["children"],h=(0,a.Gp)((function(e,n){var t=e.children,r=e.placeholder,i=e.className,l=d(e,p);return o.createElement(a.m$.select,s({},l,{ref:n,className:(0,c.cx)("chakra-select",i)}),r&&o.createElement("option",{value:""},r),t)}));c.Ts&&(h.displayName="SelectField");var v=(0,a.Gp)((function(e,n){var t=(0,a.jC)("Select",e),l=(0,a.Lr)(e),p=l.rootProps,f=l.placeholder,v=l.icon,y=l.color,g=l.height,x=l.h,b=l.minH,E=l.minHeight,I=l.iconColor,N=l.iconSize,j=d(l,m),S=(0,c.Vl)(j,i.oE),C=S[0],w=S[1],k=(0,r.Yp)(w),A={width:"100%",height:"fit-content",position:"relative",color:y},z=u()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return o.createElement(a.m$.div,s({className:"chakra-select__wrapper",__css:A},C,p),o.createElement(h,s({ref:n,height:null!=x?x:g,minH:null!=b?b:E,placeholder:f},k,{__css:z}),e.children),o.createElement(_,s({"data-disabled":(0,c.PB)(k.disabled)},(I||y)&&{color:I||y},{__css:t.icon},N&&{fontSize:N}),v))}));c.Ts&&(v.displayName="Select");var y=function(e){return o.createElement("svg",s({viewBox:"0 0 24 24"},e),o.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},g=(0,a.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),_=function(e){var n=e.children,t=void 0===n?o.createElement(y,null):n,r=d(e,f),a=o.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return o.createElement(g,s({},r,{className:"chakra-select__icon-wrapper"}),o.isValidElement(t)?a:null)};c.Ts&&(_.displayName="SelectIcon")}}]);
//# sourceMappingURL=4242.21b50259.chunk.js.map