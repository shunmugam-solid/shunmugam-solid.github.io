"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[4476],{5919:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),a=t(9439),o=t(2791),i=t(5568),u=t(5048),l=t(9916),c=t(5798),s=t(5304),d=function(e,n){return e.find((function(e){return e.types.includes(n)}))},f=t(184),p=function(e){var n=e.address,t=e.onChange,p=e.googleApiKey,y=e.placeholder,v=e.restrictedCountry,m=e.international,g=(0,o.useState)((0,r.Z)({},n)),h=(0,a.Z)(g,2),_=h[0],b=h[1],j=(0,o.useState)((null===n||void 0===n?void 0:n.line1)||""),O=(0,a.Z)(j,2),w=O[0],P=O[1],Z=(0,o.useRef)(null),S=(0,s.CG)((function(e){return e.user.personDetails}),u.wU),C=(0,o.useMemo)((function(){if(v)return v;if(null!==S&&void 0!==S&&S.phone)try{var e=(0,l.SR)(null===S||void 0===S?void 0:S.phone);return(null===e||void 0===e?void 0:e.country)||"US"}catch(n){return"US"}return"US"}),[S,v]);(0,o.useEffect)((function(){window.gm_authFailure=function(){return Z.current.disabled=!1,Z.current.placeholder="",Z.current.style.backgroundImage="",Z.current.focus(),!1}}),[]),(0,o.useEffect)((function(){n&&(b(n),P(n.line1))}),[n]);return(0,f.jsx)(c.II,{variant:"primary","data-testid":"address-line1",as:i.default,ref:Z,apiKey:p,onPlaceSelected:function(e){if(e){var n=function(e){var n=e.address_components,t=e.geometry,r={},a=n,o=d(a,"premise"),i=d(a,"street_number"),u=d(a,"route"),l=d(a,"locality"),c=d(a,"sublocality_level_1"),s=d(a,"postal_town"),f=d(a,"administrative_area_level_1"),p=d(a,"country"),y=d(a,"postal_code"),v=[i,o,u];return l||(l=s||c),r.line1=v.filter((function(e){return e})).map((function(e){return e.long_name})).join(" "),r.line2=null,r.city=l?l.long_name:null,r.postalCode=y?y.long_name:null,r.state=f?f.short_name:null,r.country=p?p.short_name:null,r.latitude=t.location.lat,r.longitude=t.location.lng,r}(e),a=n.line1,o=n.line2,i=n.city,u=n.state,l=n.postalCode,c=n.country,s=(0,r.Z)((0,r.Z)({},_),{},{line1:a,line2:o,city:i,state:u,country:c,postalCode:l});b(s),t(s),P(a)}},value:w,placeholder:y||"",onChange:function(e){P(e.target.value);var n=(0,r.Z)((0,r.Z)({},_),{},{line1:e.target.value});m||(n.country=C),t(n)},options:{types:["address"],componentRestrictions:m?void 0:{country:C}}})}},1023:function(e,n,t){var r=t(2791),a=t(5798),o=t(4398),i=t.n(o),u=t(184);n.Z=function(e){var n=e.onChange,t=e.value,o=e.placeholder,l=e.prefix,c=e.digits,s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){s.current&&i()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==l&&void 0!==l?l:"$ ",placeholder:o,rightAlign:!1,digits:c,numericInput:!0}).mask(s.current)}),[l,c,o]),(0,u.jsx)(a.II,{"data-testid":"currency-input",variant:"primary",placeholder:o||"$ 0.00",ref:s,onChange:function(e){var t=e.target.value;n(t)},value:t})}},5694:function(e,n,t){t.d(n,{V:function(){return a}});var r=t(2560),a=function(e){return{type:r.Q,payload:e}}},4785:function(e,n,t){t.d(n,{DN:function(){return c},ee:function(){return i},nc:function(){return s},rc:function(){return u},zt:function(){return l}});var r=t(286),a=t(80),o=t(5694),i=function(e){return function(n){return new Promise((function(t,i){(0,a.V_)(!0),r.Z.post("v1/send/intrabank",e).then((function(e){var r=e.data;n((0,o.V)(r)),t(r)})).catch(i).finally((function(){(0,a.V_)(!1)}))}))}},u=function(e){return function(n){return new Promise((function(t,i){(0,a.V_)(!0),r.Z.post("v1/send/ach",e).then((function(e){var r=e.data;n((0,o.V)(r)),t(r)})).catch(i).finally((function(){(0,a.V_)(!1)}))}))}},l=function(e){return function(n){return new Promise((function(t,i){(0,a.V_)(!0),r.Z.post("v1/send/wire",e).then((function(e){var r=e.data;n((0,o.V)(r)),t(r)})).catch(i).finally((function(){(0,a.V_)(!1)}))}))}},c=function(e){return function(n){return new Promise((function(t,i){(0,a.V_)(!0),r.Z.post("v1/send/card",e).then((function(e){var r=e.data;n((0,o.V)(r)),t(r)})).catch(i).finally((function(){(0,a.V_)(!1)}))}))}},s=function(e){return function(n){return new Promise((function(t,i){(0,a.V_)(!0),r.Z.post("v1/send/check",e).then((function(e){var r=e.data;n((0,o.V)(r)),t(r)})).catch(i).finally((function(){(0,a.V_)(!1)}))}))}}},4476:function(e,n,t){t.r(n);var r=t(1413),a=t(9439),o=t(2791),i=t(1938),u=t(2504),l=t(8735),c=t(3393),s=t(5798),d=t(9916),f=(t(7781),t(2020)),p=t(5048),y=t(5649),v=t(5304),m=t(4785),g=t(7770),h=t(80),_=t(5919),b=t(1023),j=t(4661),O=t(184),w=o.lazy((function(){return Promise.all([t.e(7625),t.e(3189)]).then(t.bind(t,3189))}));n.default=function(){var e,n,t,P,Z,S=(0,f.$)().t,C=(0,v.Qo)(),x=(0,j.y)().open,I=(0,i.mq)("Input",{variant:"primary"}),M=(0,v.CG)((function(e){return e.account.selectedAccount}),p.wU),E=(0,v.CG)((function(e){return e.contact.selectedContact}),p.wU),k=(0,o.useState)({name:(null===E||void 0===E?void 0:E.name)||"",email:(null===E||void 0===E?void 0:E.email)||"",phone:(null===E||void 0===E?void 0:E.phone)||"",address:(null===E||void 0===E||null===(e=E.card)||void 0===e?void 0:e.address)||{line1:"",line2:"",city:"",state:"",country:"US",postalCode:"",addressType:"card"}}),A=(0,a.Z)(k,2),R=A[0],L=A[1],U=(0,o.useState)({amount:"",description:"",contactId:(null===E||void 0===E?void 0:E.id)||"",accountId:(null===M||void 0===M?void 0:M.id)||""}),V=(0,a.Z)(U,2),T=V[0],G=V[1],B=(0,o.useMemo)((function(){return 0!==R.name.length&&0!==R.email.length&&(0,d.tm)(R.phone)&&0!==T.amount.length&&parseFloat(T.amount)>=.01&&0!==T.description.length&&!!R.address&&!!R.address.line1&&!!R.address.city&&!!R.address.state&&!!R.address.country&&!!R.address.postalCode&&0!==R.address.line1.length&&0!==R.address.city.length&&0!==R.address.state.length&&0!==R.address.country.length&&0!==R.address.postalCode.length}),[R,T]),N=(0,o.useCallback)((function(){null!==E&&void 0!==E&&E.id&&B&&C((0,g.Tk)(E.id,{accountId:E.accountId,name:R.name,email:R.email,phone:R.phone,card:{address:(0,r.Z)((0,r.Z)({},R.address),{},{addressType:"card",country:"US"})}})).then((function(){C((0,m.DN)((0,r.Z)((0,r.Z)({},T),{},{type:"virtual"}))).then((function(){x(w)})).catch(h.WH)})).catch(h.WH)}),[B,T,R]);return(0,O.jsx)("div",{className:"page",children:(0,O.jsx)(y.Z,{heading:S("payments_send_card.title"),footer:(0,O.jsx)(u.zx,{width:"100%",variant:"primary",disabled:!B,onClick:N,children:S("payments_send_card.ctaText")}),children:(0,O.jsxs)(l.xu,{width:"100%",paddingTop:"15px",children:[(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.name")}),(0,O.jsx)(s.II,{variant:"primary",value:(null===R||void 0===R?void 0:R.name)||"",onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{name:e.target.value}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.email")}),(0,O.jsx)(s.II,{variant:"primary",value:R.email,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{email:e.target.value}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.phone")}),(0,O.jsx)(d.ZP,{"data-testid":"mobileInput",style:I.field,className:"country-input",international:!0,limitMaxLength:!0,value:R.phone,defaultCountry:"US",countryCallingCodeEditable:!1,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{phone:e||""}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.address1")}),(0,O.jsx)(_.Z,{restrictedCountry:"US",placeholder:S("payments_send_card.address1"),googleApiKey:"AIzaSyDcW61NFxklslLuuUxNw0SzoBmHyC4Zhh4",address:(null===R||void 0===R?void 0:R.address)||void 0,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{address:(0,r.Z)((0,r.Z)({},R.address),e)}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.address2")}),(0,O.jsx)(s.II,{variant:"primary",placeholder:S("payments_send_card.address2"),value:null===R||void 0===R||null===(n=R.address)||void 0===n?void 0:n.line2,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{address:(0,r.Z)((0,r.Z)({},R.address),{},{line2:e.target.value})}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.addressCity")}),(0,O.jsx)(s.II,{variant:"primary",placeholder:S("payments_send_card.addressCity"),value:null===R||void 0===R||null===(t=R.address)||void 0===t?void 0:t.city,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{address:(0,r.Z)((0,r.Z)({},R.address),{},{city:e.target.value})}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.addressState")}),(0,O.jsx)(s.II,{variant:"primary",placeholder:S("payments_send_card.addressState"),value:null===R||void 0===R||null===(P=R.address)||void 0===P?void 0:P.state,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{address:(0,r.Z)((0,r.Z)({},R.address),{},{state:e.target.value})}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.addressZipcode")}),(0,O.jsx)(s.II,{variant:"primary",placeholder:S("payments_send_card.addressZipcode"),value:null===R||void 0===R||null===(Z=R.address)||void 0===Z?void 0:Z.postalCode,onChange:function(e){L((0,r.Z)((0,r.Z)({},R),{},{address:(0,r.Z)((0,r.Z)({},R.address),{},{postalCode:e.target.value})}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.amount")}),(0,O.jsx)(b.Z,{value:T.amount,onChange:function(e){G((0,r.Z)((0,r.Z)({},T),{},{amount:e||""}))}})]}),(0,O.jsxs)(c.NI,{variant:"primary",children:[(0,O.jsx)(c.lX,{variant:"primary",children:S("payments_send_card.purpose")}),(0,O.jsx)(s.II,{variant:"primary",value:T.description,onChange:function(e){G((0,r.Z)((0,r.Z)({},T),{},{description:e.target.value}))}})]})]})})})}},5568:function(e,n,t){e.exports=t(3984)},7802:function(e,n,t){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=l(n);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,t&&t.set(e,a);return a}(t(2791)),o=u(t(2007)),i=u(t(9476));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:n})(e)}function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(this,arguments)}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function d(e){var n=e.onPlaceSelected,t=e.apiKey,r=e.libraries,o=e.inputAutocompleteValue,u=e.options,l=e.googleMapsScriptBaseUrl,d=e.refProp,f=e.language,p=s(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),y=(0,i.default)({ref:d,googleMapsScriptBaseUrl:l,onPlaceSelected:n,apiKey:t,libraries:r,inputAutocompleteValue:o,options:u,language:f}).ref;return a.default.createElement("input",c({ref:y},p))}d.propTypes={apiKey:o.default.string,libraries:o.default.arrayOf(o.default.string),ref:o.default.oneOfType([o.default.func,o.default.shape({current:o.default.any})]),googleMapsScriptBaseUrl:o.default.string,onPlaceSelected:o.default.func,inputAutocompleteValue:o.default.string,options:o.default.shape({componentRestrictions:o.default.object,bounds:o.default.object,location:o.default.object,offset:o.default.number,origin:o.default.object,radius:o.default.number,sessionToken:o.default.object,types:o.default.arrayOf(o.default.string)}),language:o.default.string};var f=(0,a.forwardRef)((function(e,n){return a.default.createElement(d,c({},e,{refProp:n}))}));n.default=f},6615:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;n.GOOGLE_MAP_SCRIPT_BASE_URL="https://maps.googleapis.com/maps/api/js"},3984:function(e,n,t){Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(t(7802)),a=o(t(9476));function o(e){return e&&e.__esModule?e:{default:e}}},9476:function(e,n,t){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=e.ref,t=e.onPlaceSelected,r=e.apiKey,u=e.libraries,l=void 0===u?"places":u,s=e.inputAutocompleteValue,d=void 0===s?"new-password":s,f=e.options,p=(f=void 0===f?{}:f).types,y=void 0===p?["(cities)"]:p,v=f.componentRestrictions,m=f.fields,g=void 0===m?["address_components","geometry.location","place_id","formatted_address"]:m,h=f.bounds,_=function(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(f,["types","componentRestrictions","fields","bounds"]),b=e.googleMapsScriptBaseUrl,j=void 0===b?i.GOOGLE_MAP_SCRIPT_BASE_URL:b,O=e.language,w=(0,a.useRef)(null),P=(0,a.useRef)(null),Z=(0,a.useRef)(null),S=(0,a.useRef)(null),C=O?"&language=".concat(O):"",x="".concat(j,"?libraries=").concat(l,"&key=").concat(r).concat(C),I=(0,a.useCallback)((function(){return(0,o.loadGoogleMapScript)(j,x)}),[j,x]);return(0,a.useEffect)((function(){var e=c(c({},_),{},{fields:g,types:y,bounds:h});if(v&&(e.componentRestrictions=v),!Z.current&&w.current&&o.isBrowser){n&&!n.current&&(n.current=w.current);var a=function(){var n;return"undefined"===typeof google?console.error("Google has not been found. Make sure your provide apiKey prop."):null!==(n=google.maps)&&void 0!==n&&n.places?!w.current instanceof HTMLInputElement?console.error("Input ref must be HTMLInputElement."):(Z.current=new google.maps.places.Autocomplete(w.current,e),void(Z.current&&(P.current=Z.current.addListener("place_changed",(function(){t&&Z&&Z.current&&t(Z.current.getPlace(),w.current,Z.current)}))))):console.error("Google maps places API must be loaded.")};return r?I().then((function(){return a()})):a(),function(){return P.current?P.current.remove():void 0}}}),[]),(0,a.useEffect)((function(){var e;(null===a.default||void 0===a.default||null===(e=a.default.version)||void 0===e||!e.startsWith("18"))&&o.isBrowser&&window.MutationObserver&&w.current&&w.current instanceof HTMLInputElement&&(S.current=new MutationObserver((function(){S.current.disconnect(),w.current&&(w.current.autocomplete=d)})),S.current.observe(w.current,{attributes:!0,attributeFilter:["autocomplete"]}))}),[d]),(0,a.useEffect)((function(){Z.current&&Z.current.setFields(g)}),[g]),(0,a.useEffect)((function(){Z.current&&Z.current.setBounds(h)}),[h]),(0,a.useEffect)((function(){Z.current&&Z.current.setComponentRestrictions(v)}),[v]),(0,a.useEffect)((function(){Z.current&&Z.current.setOptions(_)}),[_]),{ref:w,autocompleteRef:Z}};var a=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u(n);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,t&&t.set(e,a);return a}(t(2791)),o=t(2170),i=t(6615);function u(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:n})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},2170:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.loadGoogleMapScript=n.isBrowser=void 0;var t="undefined"!==typeof window&&window.document;n.isBrowser=t;n.loadGoogleMapScript=function(e,n){if(!t)return Promise.resolve();if("undefined"!==typeof google&&google.maps&&google.maps.api)return Promise.resolve();var r=document.querySelectorAll('script[src*="'.concat(e,'"]'));if(r&&r.length)return new Promise((function(e){if("undefined"!==typeof google)return e();r[0].addEventListener("load",(function(){return e()}))}));var a=new URL(n);a.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var o=document.createElement("script");return o.src=a.toString(),new Promise((function(e){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=e,document.body.appendChild(o)}))}},7781:function(){}}]);
//# sourceMappingURL=4476.ed6b7d09.chunk.js.map