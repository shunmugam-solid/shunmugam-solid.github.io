{"version":3,"file":"static/js/4242.8a3c3126.chunk.js","mappings":"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","sources":["components/CurrencyInput.tsx","utils/crypto.ts","webpack://drop-in-ui/./src/views/crypto/buyCrypto/BuyAmount/BuyAmount.module.css?cd02","views/crypto/buyCrypto/BuyAmount/BuyAmount.tsx","../node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js"],"sourcesContent":["import React, { useLayoutEffect, useRef } from 'react';\nimport { Input } from '@chakra-ui/react';\nimport Inputmask from 'inputmask';\n\ntype Props = {\n    value: string;\n    placeholder?: string;\n    prefix?: string;\n    digits?: number;\n    onChange: (v: string) => void;\n}\n\nconst CurrencyInput:React.FC<Props> = ({\n  onChange, value, placeholder, prefix, digits\n}) => {\n  const input = useRef(null);\n\n  useLayoutEffect(() => {\n    if (input.current) {\n      Inputmask('currency', {\n        autoUnmask: true,\n        allowMinus: false,\n        prefix: prefix ?? '$ ',\n        placeholder,\n        rightAlign: false,\n        digits,\n        numericInput: true,\n        // positionCaretOnClick: 'ignore'\n      }).mask(input.current);\n    }\n  }, [prefix, digits, placeholder]);\n\n  return (\n  // eslint-disable-next-line react/jsx-props-no-spreading\n    <Input\n      data-testid=\"currency-input\"\n      variant=\"primary\"\n      placeholder={placeholder || '$ 0.00'}\n      ref={input}\n      onChange={(e:any) => {\n        const v = e.target.value;\n        onChange(v);\n      }}\n      value={value}\n    />\n  );\n};\n\nexport default CurrencyInput;\n","import store from '../store';\n\n/**\n * Get min limit\n * @param currency\n * @param source\n * @param amountType\n * @returns {number}\n */\nexport const getMinLimit = (currency: string, source: 'send' | 'buy' | 'sell', amountType: string = 'quantity') => {\n  const supportedCurrencies = store.getState().crypto.supportedCurrencies.data;\n\n  const selectedCurrency = supportedCurrencies.find((c) => c.currency === currency);\n\n  if (selectedCurrency) {\n    const limit = selectedCurrency.limits[source];\n    return amountType === 'quantity' ? limit.minimumQty : limit.minimumAmount || '0';\n  }\n  return '0';\n};\n\nexport const getPrecision = (currency: string, source: 'send' | 'buy' | 'sell') => {\n  const supportedCurrencies = store.getState().crypto.supportedCurrencies.data;\n\n  const selectedCurrency = supportedCurrencies.find((c) => c.currency === currency);\n\n  if (selectedCurrency) {\n    const limit = selectedCurrency.limits[source];\n    const precision = limit.minimumQty?.split('.')[1]?.length || 2;\n    return precision !== 0 ? precision : 2;\n  }\n  return 6;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"inputRightElement\":\"BuyAmount_inputRightElement__C0QSQ\",\"currencyInput\":\"BuyAmount_currencyInput__F2zEM\"};","import React, {\n  useCallback, useEffect, useMemo, useState\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box, Button, FormControl, FormLabel, InputRightElement, Input, useStyleConfig, InputGroup, Select, Text\n} from '@chakra-ui/react';\nimport { shallowEqual } from 'react-redux';\n\nimport { useNavigate } from 'react-router-dom';\nimport MiniBox from '../../../../layout/MiniBox';\nimport style from './BuyAmount.module.css';\nimport { sendMessage } from '../../../../utils/sdk';\nimport { useAppAsyncDispatch, useAppSelector } from '../../../../hooks/store';\nimport { listAllAccounts } from '../../../../store/middlewares/account';\nimport { getMinLimit, getPrecision } from '../../../../utils/crypto';\nimport { getBuyQuote, getSupportedCurrencies } from '../../../../store/middlewares/crypto';\nimport { apiErrorHandler } from '../../../../utils/general';\nimport { updateBuyFormData } from '../../../../store/actionCreators/crypto';\nimport { useModulePageData } from '../../../../hooks/module';\nimport { BuyCryptoData } from '../../../../modules/Crypto/BuyCrypto';\nimport { Data } from '../../../../modules/Crypto';\nimport { COMMON } from '../../../../const/messages';\nimport CurrencyInput from '../../../../components/CurrencyInput';\n\nconst BuyAmount = () => {\n  const { t } = useTranslation();\n  const dispatch = useAppAsyncDispatch();\n  const navigate = useNavigate();\n\n  const formControlStyle:any = useStyleConfig('FormControl', {\n    variant: 'primary'\n  });\n\n  const { showBack } = useModulePageData<BuyCryptoData, Data<'buyCrypto'>['startScreen']>('buyCrypto');\n\n  const { accounts, selectedAccount } = useAppSelector((store) => store.account, shallowEqual);\n  const { selectedAccount: cryptoAccount, supportedCurrencies } = useAppSelector((store) => store.crypto, shallowEqual);\n\n  const [accountId, updateAccountId] = useState(selectedAccount?.id || '');\n  const [amount, updateAmount] = useState('');\n  const [amountType, updateAmountType] = useState('quantity');\n  const [description, updateDescription] = useState('');\n\n  const allAccounts = useMemo(() => accounts.filter((a) => a.type !== 'cardAccount'), [accounts]);\n\n  const amountPrecision = useMemo(() => {\n    if (amountType === 'quantity' && cryptoAccount?.currency) {\n      return getPrecision(cryptoAccount?.currency, 'buy');\n    }\n    return 2;\n  }, [amountType, cryptoAccount, supportedCurrencies]);\n\n  const min = useMemo(() => {\n    if (cryptoAccount?.currency) {\n      return getMinLimit(cryptoAccount?.currency, 'buy', amountType);\n    }\n    return 0;\n  }, [amountType, cryptoAccount, supportedCurrencies]);\n\n  const defaultValue = useMemo(() => `0.${'0'.repeat(amountPrecision)}`, [amountPrecision]);\n\n  const isValid = useMemo(() => amount !== '' && parseFloat(amount) > 0 && amountType !== '' && accountId !== '' && description !== '', [amount, amountType, accountId, description]);\n\n  useEffect(() => {\n    dispatch(getSupportedCurrencies());\n  }, []);\n\n  useEffect(() => {\n    dispatch(listAllAccounts(null, undefined, 50));\n  }, []);\n\n  const onSubmit = useCallback(() => {\n    if (isValid && cryptoAccount) {\n      dispatch(getBuyQuote({\n        walletId: cryptoAccount.id,\n        cryptoCurrency: cryptoAccount.currency,\n        amount: amountType === 'amount' ? amount : undefined,\n        quantity: amountType === 'quantity' ? amount : undefined,\n      })).then(() => {\n        dispatch(updateBuyFormData({\n          selectedAccount: accountId,\n          selectedAccountLabel: allAccounts.find((a) => a.id === accountId)?.label || '',\n          amount,\n          type: amountType,\n          description\n        }));\n        navigate('/crypto/buy/preview');\n      }).catch(apiErrorHandler);\n    }\n  }, [isValid, amount, amountType, accountId, description, cryptoAccount?.currency]);\n\n  return (\n    <div className=\"page\">\n      <form\n        autoComplete=\"off\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          onSubmit();\n        }}\n      >\n        <MiniBox\n          showBack={showBack}\n          heading={t('crypto_buy_account.title')}\n          footer={(\n            <Button type=\"submit\" width=\"100%\" variant=\"primary\" disabled={!isValid}>\n              {t('crypto_buy_account.ctaText')}\n            </Button>\n          )}\n          onBack={() => {\n            sendMessage(COMMON.BACK_PRESSED, {\n              from: 'buyCrypto'\n            });\n          }}\n        >\n          <Box width=\"100%\" paddingTop=\"15px\">\n            <FormControl variant=\"primary\" style={formControlStyle}>\n              <FormLabel variant=\"primary\">\n                {t('crypto_buy_account.fundingAccount')}\n              </FormLabel>\n              <Select placeholder={t('crypto_buy_account.select')} variant=\"primary\" value={accountId} onChange={(e) => updateAccountId(e.target.value)}>\n                {allAccounts.map((a) => <option key={`account-${a.id}`} value={a.id}>{a.label}</option>)}\n              </Select>\n\n            </FormControl>\n            <FormControl variant=\"primary\" style={formControlStyle}>\n              <FormLabel variant=\"primary\">\n                {t('crypto_buy_account.amountQuantity')}\n              </FormLabel>\n              <InputGroup className={style.currencyInput}>\n                <CurrencyInput\n                  prefix=\"\"\n                  digits={amountPrecision}\n                  value={amount}\n                  placeholder={defaultValue}\n                  onChange={(value) => {\n                    updateAmount(value);\n                  }}\n                />\n\n                <InputRightElement\n                  className={style.inputRightElement}\n                  // eslint-disable-next-line react/no-children-prop\n                  children={(\n                    <Select boxShadow=\"none !important\" outline=\"none\" fontSize=\"14px\" border=\"0\" value={amountType} onChange={(e) => updateAmountType(e.target.value)}>\n                      <option value=\"quantity\">\n                        {cryptoAccount?.currency}\n                      </option>\n                      <option value=\"amount\">USD</option>\n                    </Select>\n                )}\n                />\n              </InputGroup>\n              <Text variant=\"small\" className=\"text-light\" textAlign=\"right\">\n                {`Min: ${min} ${amountType === 'quantity' ? cryptoAccount?.currency : 'USD'}`}\n              </Text>\n            </FormControl>\n\n            <FormControl variant=\"primary\" style={formControlStyle}>\n              <FormLabel variant=\"primary\">\n                {t('crypto_buy_account.desc')}\n              </FormLabel>\n              <Input\n                value={description}\n                placeholder={t('crypto_buy_account.desc')}\n                variant=\"primary\"\n                onChange={(e) => updateDescription(e.target.value)}\n              />\n            </FormControl>\n          </Box>\n        </MiniBox>\n      </form>\n\n    </div>\n  );\n};\n\nexport default BuyAmount;\n","import { useFormControl } from '@chakra-ui/form-control';\nimport { forwardRef, chakra, useMultiStyleConfig, omitThemingProps, layoutPropNames } from '@chakra-ui/system';\nimport { cx, __DEV__, split, mergeWith, dataAttr } from '@chakra-ui/utils';\nimport * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"children\", \"placeholder\", \"className\"],\n    _excluded2 = [\"rootProps\", \"placeholder\", \"icon\", \"color\", \"height\", \"h\", \"minH\", \"minHeight\", \"iconColor\", \"iconSize\"],\n    _excluded3 = [\"children\"];\nvar SelectField = /*#__PURE__*/forwardRef(function (props, ref) {\n  var children = props.children,\n      placeholder = props.placeholder,\n      className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  return /*#__PURE__*/React.createElement(chakra.select, _extends({}, rest, {\n    ref: ref,\n    className: cx(\"chakra-select\", className)\n  }), placeholder && /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }, placeholder), children);\n});\n\nif (__DEV__) {\n  SelectField.displayName = \"SelectField\";\n}\n\n/**\n * React component used to select one item from a list of options.\n */\nvar Select = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Select\", props);\n\n  var _omitThemingProps = omitThemingProps(props),\n      rootProps = _omitThemingProps.rootProps,\n      placeholder = _omitThemingProps.placeholder,\n      icon = _omitThemingProps.icon,\n      color = _omitThemingProps.color,\n      height = _omitThemingProps.height,\n      h = _omitThemingProps.h,\n      minH = _omitThemingProps.minH,\n      minHeight = _omitThemingProps.minHeight,\n      iconColor = _omitThemingProps.iconColor,\n      iconSize = _omitThemingProps.iconSize,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);\n\n  var _split = split(rest, layoutPropNames),\n      layoutProps = _split[0],\n      otherProps = _split[1];\n\n  var ownProps = useFormControl(otherProps);\n  var rootStyles = {\n    width: \"100%\",\n    height: \"fit-content\",\n    position: \"relative\",\n    color: color\n  };\n  var fieldStyles = mergeWith({\n    paddingEnd: \"2rem\"\n  }, styles.field, {\n    _focus: {\n      zIndex: \"unset\"\n    }\n  });\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: \"chakra-select__wrapper\",\n    __css: rootStyles\n  }, layoutProps, rootProps), /*#__PURE__*/React.createElement(SelectField, _extends({\n    ref: ref,\n    height: h != null ? h : height,\n    minH: minH != null ? minH : minHeight,\n    placeholder: placeholder\n  }, ownProps, {\n    __css: fieldStyles\n  }), props.children), /*#__PURE__*/React.createElement(SelectIcon, _extends({\n    \"data-disabled\": dataAttr(ownProps.disabled)\n  }, (iconColor || color) && {\n    color: iconColor || color\n  }, {\n    __css: styles.icon\n  }, iconSize && {\n    fontSize: iconSize\n  }), icon));\n});\n\nif (__DEV__) {\n  Select.displayName = \"Select\";\n}\n\nvar DefaultIcon = function DefaultIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n  }));\n};\nvar IconWrapper = chakra(\"div\", {\n  baseStyle: {\n    position: \"absolute\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    pointerEvents: \"none\",\n    top: \"50%\",\n    transform: \"translateY(-50%)\"\n  }\n});\n\nvar SelectIcon = function SelectIcon(props) {\n  var _props$children = props.children,\n      children = _props$children === void 0 ? /*#__PURE__*/React.createElement(DefaultIcon, null) : _props$children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded3);\n\n  var clone = /*#__PURE__*/React.cloneElement(children, {\n    role: \"presentation\",\n    className: \"chakra-select__icon\",\n    focusable: false,\n    \"aria-hidden\": true,\n    // force icon to adhere to `IconWrapper` styles\n    style: {\n      width: \"1em\",\n      height: \"1em\",\n      color: \"currentColor\"\n    }\n  });\n  return /*#__PURE__*/React.createElement(IconWrapper, _extends({}, rest, {\n    className: \"chakra-select__icon-wrapper\"\n  }), /*#__PURE__*/React.isValidElement(children) ? clone : null);\n};\n\nif (__DEV__) {\n  SelectIcon.displayName = \"SelectIcon\";\n}\n\nexport { DefaultIcon, Select, SelectField };\n"],"names":["_ref","onChange","value","placeholder","prefix","digits","input","useRef","useLayoutEffect","current","Inputmask","autoUnmask","allowMinus","rightAlign","numericInput","mask","_jsx","Input","variant","ref","e","v","target","getMinLimit","currency","source","amountType","arguments","length","undefined","selectedCurrency","store","getState","crypto","supportedCurrencies","data","find","c","limit","limits","minimumQty","minimumAmount","getPrecision","_limit$minimumQty","_limit$minimumQty$spl","precision","split","t","useTranslation","dispatch","useAppAsyncDispatch","navigate","useNavigate","formControlStyle","useStyleConfig","showBack","useModulePageData","_useAppSelector","useAppSelector","account","shallowEqual","accounts","selectedAccount","_useAppSelector2","cryptoAccount","_useState","useState","id","_useState2","_slicedToArray","accountId","updateAccountId","_useState3","_useState4","amount","updateAmount","_useState5","_useState6","updateAmountType","_useState7","_useState8","description","updateDescription","allAccounts","useMemo","filter","a","type","amountPrecision","min","defaultValue","concat","repeat","isValid","parseFloat","useEffect","getSupportedCurrencies","listAllAccounts","onSubmit","useCallback","getBuyQuote","walletId","cryptoCurrency","quantity","then","_allAccounts$find","updateBuyFormData","selectedAccountLabel","label","catch","apiErrorHandler","className","children","autoComplete","preventDefault","MiniBox","heading","footer","Button","width","disabled","onBack","sendMessage","COMMON","BACK_PRESSED","from","_jsxs","Box","paddingTop","FormControl","style","FormLabel","Select","map","InputGroup","CurrencyInput","InputRightElement","boxShadow","outline","fontSize","border","Text","textAlign","_extends","Object","assign","bind","i","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded","_excluded2","_excluded3","SelectField","forwardRef","props","rest","React","chakra","select","cx","__DEV__","displayName","styles","useMultiStyleConfig","_omitThemingProps","omitThemingProps","rootProps","icon","color","height","h","minH","minHeight","iconColor","iconSize","_split","layoutPropNames","layoutProps","otherProps","ownProps","useFormControl","rootStyles","position","fieldStyles","mergeWith","paddingEnd","field","_focus","zIndex","div","__css","SelectIcon","dataAttr","DefaultIcon","viewBox","fill","d","IconWrapper","baseStyle","display","alignItems","justifyContent","pointerEvents","top","transform","_props$children","clone","role","focusable"],"sourceRoot":""}