{"version":3,"file":"static/js/3474.7f2312c5.chunk.js","mappings":"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","sources":["components/LottieAnimation.tsx","webpack://drop-in-ui/./src/components/Status.module.css?5d70","components/Status.tsx","views/ao/Kyb/Review/Review.tsx","webpack://drop-in-ui/./src/Global.module.css?a1f3"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport lottie from 'lottie-web';\nimport Success from '../assets/images/animated/success.json';\nimport Searching from '../assets/images/animated/searching.json';\nimport Failure from '../assets/images/animated/failure.json';\n\nconst nameMap:any = {\n  success: Success,\n  searching: Searching,\n  failure: Failure\n};\n\ntype Props = {\n  name: string;\n}\n\nconst LottieAnimation = ({ name }: Props) => {\n  const animRef = useRef<any>(null);\n\n  useEffect(() => {\n    const animation = lottie.loadAnimation({\n      container: animRef.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: nameMap[name]\n    });\n\n    return () => {\n      animation.destroy();\n    };\n  }, []);\n\n  return (\n    <div data-testid=\"lottie-animation-wrapper\" style={{ width: '140px', height: '140px', margin: '0 auto' }} ref={animRef} />\n  );\n};\n\nexport default LottieAnimation;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Status_container__TVrXy\",\"containerInner\":\"Status_containerInner__tScEb\",\"footerContainer\":\"Status_footerContainer__+ehXm\"};","import React from 'react';\nimport {\n  Box, Button, Flex, Heading, Text\n} from '@chakra-ui/react';\nimport LottieAnimation from './LottieAnimation';\nimport style from './Status.module.css';\n\ntype Props = {\n    status: 'success' | 'searching' | 'failure';\n    title: string;\n    description?: string;\n    ctaText?: string;\n    children?: React.ReactNode;\n    footer?: React.ReactNode;\n    showFooter?: boolean;\n    showCTA?: boolean;\n    onNext?: () => void;\n}\n\nconst Status:React.FC<Props> = ({\n  ctaText, title, description, status, children, footer,\n  onNext, showFooter = true, showCTA = true\n}) => (\n  <Flex className={style.container}>\n    <Flex className={style.containerInner}>\n      <Box w=\"100%\">\n        <LottieAnimation name={status} />\n        <Heading mt={10} data-testid=\"status-title\" variant=\"primary\">{title}</Heading>\n        {description ? (\n          <Text data-testid=\"status-description\" variant=\"regular\" marginTop=\"10px\" className=\"text-light\">\n            {description}\n          </Text>\n        ) : null }\n        {children}\n      </Box>\n      {footer\n      && <Box>{footer}</Box> }\n      {showFooter\n        ? (\n          <Box className={`default-bg ${style.footerContainer}`}>\n            {showCTA\n              ? <Button data-testid=\"status-action\" variant=\"primary\" width=\"100%\" onClick={onNext}>{ctaText}</Button> : null }\n          </Box>\n        ) : null }\n    </Flex>\n  </Flex>\n);\n\nStatus.defaultProps = {\n  description: undefined\n};\n\nexport default Status;\n","import React, { useEffect, useCallback, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport Status from '../../../../components/Status';\nimport { useAppAsyncDispatch, useAppSelector } from '../../../../hooks/store';\nimport MiniBox from '../../../../layout/MiniBox';\nimport { getbusinessById, listAllbusiness } from '../../../../store/middlewares/business';\nimport { apiErrorHandler } from '../../../../utils/general';\nimport globalStyle from '../../../../Global.module.css';\n\n/**\n * Kyc inreview component\n * @returns {React.ReactNode}\n */\nconst KycReview: React.FC = () => {\n  const dispatch = useAppAsyncDispatch();\n  const { t } = useTranslation();\n  const retryCount = useRef(0);\n  const timer = useRef<any>(null);\n  const navigate = useNavigate();\n\n  const { selectedBusiness: business, businesses: businessList } = useAppSelector((store) => store.business, shallowEqual);\n\n  /**\n   * fetch business status\n   */\n  const fetchStatus = useCallback((showLoader = false, autoRefresh = true) => {\n    if (business?.id) {\n      dispatch(getbusinessById(business?.id, showLoader))\n        .then((b) => {\n          if (b.kyb.status === 'approved') {\n            if (['soleProprietor', 'singleMemberLLC'].includes(business.entityType)) {\n              navigate('/ao/kyb/approved');\n            } else {\n              navigate('/ao/kyb/ownership');\n            }\n          } else if ((b.kyb.status === 'submitted' || b.kyb.status === 'inReview')) {\n            if (autoRefresh) {\n              retryCount.current += 1;\n              timer.current = setTimeout(() => {\n                fetchStatus(retryCount.current < 4);\n              }, 5000);\n            }\n          } else {\n            navigate('/ao/kyb/declined');\n          }\n        })\n        .catch(apiErrorHandler);\n    }\n  }, [retryCount.current, business]);\n\n  useEffect(() => {\n    fetchStatus(true);\n    dispatch(listAllbusiness());\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n\n  const onNext = useCallback(() => {\n    fetchStatus(true, false);\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <MiniBox\n        varient=\"box\"\n        bodyClass={globalStyle.sucessScreenNoVPadding}\n        heading=\" \"\n        onBack={() => {\n          navigate('/ao/account/setup-options');\n        }}\n        showBack={businessList.length > 1}\n      >\n        <Status status=\"searching\" title={t('business_review.title')} description={t('business_review.description')} onNext={onNext} ctaText={t('business_review.ctaText')} />\n      </MiniBox>\n    </div>\n  );\n};\n\nexport default KycReview;\n","// extracted by mini-css-extract-plugin\nexport default {\"sucessScreenNoVPadding\":\"Global_sucessScreenNoVPadding__WvmjX\"};"],"names":["nameMap","success","Success","searching","Searching","failure","Failure","_ref","name","animRef","useRef","useEffect","animation","lottie","container","current","renderer","loop","autoplay","animationData","destroy","_jsx","style","width","height","margin","ref","Status","ctaText","title","description","status","children","footer","onNext","_ref$showFooter","showFooter","_ref$showCTA","showCTA","Flex","className","_jsxs","Box","w","LottieAnimation","Heading","mt","variant","Text","marginTop","concat","Button","onClick","defaultProps","undefined","dispatch","useAppAsyncDispatch","t","useTranslation","retryCount","timer","navigate","useNavigate","_useAppSelector","useAppSelector","store","business","shallowEqual","selectedBusiness","businessList","businesses","fetchStatus","useCallback","showLoader","arguments","length","autoRefresh","id","getbusinessById","then","b","kyb","includes","entityType","setTimeout","catch","apiErrorHandler","listAllbusiness","clearTimeout","MiniBox","varient","bodyClass","globalStyle","sucessScreenNoVPadding","heading","onBack","showBack"],"sourceRoot":""}