"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[7106],{5808:function(e,n,t){t.d(n,{$N:function(){return o},Ny:function(){return i},T8:function(){return s},Z2:function(){return r}});var a=t(3152),r=function(e){return{type:a.km,payload:e}},i=function(e){return{type:a.z0,payload:e}},s=function(e){return{type:a.KY,payload:e}},o=function(e){return{type:a.fY,payload:e}}},9270:function(e,n,t){t.d(n,{Am:function(){return l},NB:function(){return c},RG:function(){return p},XD:function(){return m},gb:function(){return d},lM:function(){return u},mi:function(){return o},vd:function(){return f},zL:function(){return s}});var a=t(80),r=t(286),i=t(5808),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return new Promise((function(s,o){(0,a.V_)(!0);var l="v1/business?include=accounts&limit=".concat(e,"&offset=").concat(n);r.Z.get(l).then((function(e){var n=e.data;t((0,i.Z2)(n.data)),s(n)})).catch((function(e){e.response&&e.response.data?o(e.response.data):o(e)})).finally((function(){(0,a.V_)(!1)}))}))}},o=function(e){return function(n){return new Promise((function(t,s){(0,a.V_)(!0),r.Z.post("v1/business",e).then((function(e){var a=e.data;n((0,i.Ny)(a)),t(a)})).catch((function(e){e.response&&e.response.data?s(e.response.data):s(e)})).finally((function(){(0,a.V_)(!1)}))}))}},l=function(e,n){return function(t){return new Promise((function(s,o){(0,a.V_)(!0),r.Z.patch("v1/business/".concat(e),n).then((function(e){var n=e.data;t((0,i.Ny)(n)),s(n)})).catch((function(e){e.response&&e.response.data?o(e.response.data):o(e)})).finally((function(){(0,a.V_)(!1)}))}))}},c=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){return new Promise((function(t,i){n&&(0,a.V_)(!0);var s="v1/business/".concat(e);r.Z.get(s).then((function(e){var n=e.data;t(n)})).catch((function(e){e.response&&e.response.data?i(e.response.data):i(e)})).finally((function(){n&&(0,a.V_)(!1)}))}))}},u=function(e){return function(n){return new Promise((function(t,s){(0,a.V_)(!0),r.Z.get("v1/owner?businessId=".concat(e)).then((function(e){var a=e.data;n((0,i.T8)(a.data)),t(a)})).catch((function(e){e.response&&e.response.data?s(e.response.data):s(e)})).finally((function(){(0,a.V_)(!1)}))}))}},d=function(e){return function(){return new Promise((function(n,t){(0,a.V_)(!0),r.Z.post("v1/business/".concat(e,"/kyb"),{businessId:e}).then((function(e){var t=e.data;n(t)})).catch((function(e){e.response&&e.response.data?t(e.response.data):t(e)})).finally((function(){(0,a.V_)(!1)}))}))}},p=function(e,n){return function(){return new Promise((function(t,i){(0,a.V_)(!0),r.Z.patch("v1/owner/".concat(e),n).then((function(e){var n=e.data;t(n)})).catch((function(e){e.response&&e.response.data?i(e.response.data):i(e)})).finally((function(){(0,a.V_)(!1)}))}))}},f=function(e){return function(){return new Promise((function(n,t){(0,a.V_)(!0),r.Z.post("v1/owner",e).then((function(e){var t=e.data;n(t)})).catch((function(e){e.response&&e.response.data?t(e.response.data):t(e)})).finally((function(){(0,a.V_)(!1)}))}))}},m=function(e){return function(){return new Promise((function(n,t){(0,a.V_)(!0),r.Z.post("v1/owner/".concat(e,"/kyc")).then((function(e){var t=e.data;n(t)})).catch((function(e){e.response&&e.response.data?t(e.response.data):t(e)})).finally((function(){(0,a.V_)(!1)}))}))}}},7106:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(1413),r=t(5987),i=t(9439),s=t(2791),o=t(2020),l=t(2504),c=t(8735),u=t(3393),d=t(5798),p=t(7640),f=t(5048),m=t(7689),h=t(1087),v=t(4398),y=t.n(v),b=t(184),g="99-9999999",_=function(e){var n=e.onChange,t=e.value,a=(0,s.useRef)(null);return(0,s.useLayoutEffect)((function(){a.current&&y()({mask:g,showMaskOnHover:!1,showMaskOnFocus:!1,jitMasking:!0}).mask(a.current)}),[]),(0,b.jsx)(d.II,{"data-testid":"ein-input",ref:a,variant:"primary",onChange:function(e){var t,r=e.target.value,i=y().isValid(r,{mask:g}),s=null===(t=a.current)||void 0===t?void 0:t.inputmask.unmaskedvalue();n(s,i)},value:t})};_.defaultProps={};var N=_,k=t(5649),x=t(5304),I=t(9270),E=t(80),j=["id"],w=[{key:"soleProprietor",label:"Sole Proprietor"},{key:"singleMemberLLC",label:"Single Member LLC"},{key:"limitedLiabilityCompany",label:"Limited Liability Company"},{key:"generalPartnership",label:"General Partnership"},{key:"unlistedCorporation",label:"Unlisted Corporation"},{key:"publiclyTradedCorporation",label:"Publicly Traded Corporation"},{key:"association",label:"Association"},{key:"nonProfit",label:"Non Profit"},{key:"governmentOrganization",label:"Government Organization"},{key:"revocableTrust",label:"Revocable Trust"},{key:"irrevocableTrust",label:"Irrevocable Trust"},{key:"estate",label:"estate"}],C=function(){var e=(0,o.$)().t,n=(0,x.Qo)(),t=(0,m.s0)(),v=(0,h.lr)(),y=(0,i.Z)(v,1)[0].get("businessId"),g=(0,x.CG)((function(e){return e.user.personDetails}),f.wU),_=(0,x.CG)((function(e){return e.business.selectedBusiness}),f.wU),C=(0,s.useState)({id:"",legalName:"",entityType:w[0].key||"",dba:"",idNumber:"",idType:"ein"}),T=(0,i.Z)(C,2),Z=T[0],S=T[1];(0,s.useEffect)((function(){y&&_&&S({id:_.id,legalName:_.legalName,entityType:_.entityType,dba:_.dba,idNumber:_.idNumber,idType:_.idType})}),[y,_]);var P=(0,s.useMemo)((function(){return 0!==Z.legalName.length&&0!==Z.entityType.length&&0!==Z.idNumber.length}),[Z]),O=(0,s.useCallback)((function(){if(g&&P){var e=Z.id,i=(0,r.Z)(Z,j);0===e.length?n((0,I.mi)((0,a.Z)((0,a.Z)({},i),{},{email:g.email}))).then((function(){t("/ao/kyb/businessAddress")})).catch(E.WH):n((0,I.Am)(e,(0,a.Z)({},i))).then((function(){t("/ao/kyb/businessAddress")})).catch(E.WH)}}),[g,P,Z]);return(0,b.jsx)("div",{className:"page",children:(0,b.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),O()},children:(0,b.jsx)(k.Z,{varient:"box",heading:e("business_details.title"),showBack:!0,footer:(0,b.jsx)(l.zx,{"data-testid":"submit-btn",disabled:!P,width:"100%",variant:"primary",type:"submit",children:e("business_details.ctaText")}),onBack:function(){t(-1)},children:(0,b.jsxs)(c.xu,{width:"100%",children:[(0,b.jsxs)(u.NI,{variant:"primary",children:[(0,b.jsx)(u.lX,{variant:"primary",children:e("business_details.legalBusinessName")}),(0,b.jsx)(d.II,{"data-testid":"businessName",placeholder:e("business_details.yourBusinessName"),variant:"primary",value:Z.legalName,onChange:function(e){return S((0,a.Z)((0,a.Z)({},Z),{},{legalName:e.target.value}))}})]}),(0,b.jsxs)(u.NI,{variant:"primary",children:[(0,b.jsx)(u.lX,{variant:"primary",children:e("business_details.dbaOptional")}),(0,b.jsx)(d.II,{"data-testid":"dba",placeholder:e("business_details.dba"),variant:"primary",value:Z.dba,onChange:function(e){return S((0,a.Z)((0,a.Z)({},Z),{},{dba:e.target.value}))}})]}),(0,b.jsxs)(u.NI,{variant:"primary",children:[(0,b.jsx)(u.lX,{variant:"primary",children:e("business_details.entityType")}),(0,b.jsx)(p.Ph,{"data-testid":"entityType",variant:"primary",value:Z.entityType,onChange:function(e){return S((0,a.Z)((0,a.Z)({},Z),{},{entityType:e.target.value}))},children:w.map((function(e){return(0,b.jsx)("option",{value:e.key,children:e.label},e.key)}))})]}),(0,b.jsxs)(u.NI,{variant:"primary",children:[(0,b.jsx)(u.lX,{variant:"primary",children:e("business_details.ein")}),(0,b.jsx)(N,{value:Z.idNumber,onChange:function(e){S((0,a.Z)((0,a.Z)({},Z),{},{idNumber:e}))}})]}),(0,b.jsx)(c.xv,{variant:"small",textAlign:"left",className:"text-light",children:e("business_details.noEin")})]})})})})}},5798:function(e,n,t){t.d(n,{II:function(){return d}});var a=t(3393),r=t(1938),i=t(6831),s=t(2791),o=t(9611);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}var u=["htmlSize"],d=(0,r.Gp)((function(e,n){var t=e.htmlSize,o=c(e,u),d=(0,r.jC)("Input",o),p=(0,r.Lr)(o),f=(0,a.Yp)(p),m=(0,i.cx)("chakra-input",e.className);return s.createElement(r.m$.input,l({size:t},f,{__css:d.field,ref:n,className:m}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var p=["children","className"],f=(0,r.eC)("InputGroup"),m=f[0],h=f[1],v=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Input",e),a=(0,r.Lr)(e),u=a.children,d=a.className,f=c(a,p),h=(0,i.cx)("chakra-input__group",d),v={},y=(0,o.WR)(u),b=t.field;y.forEach((function(e){if(t){var n,a;if(b&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(n=b.height)?n:b.h;if(b&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(a=b.height)?a:b.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var g=y.map((function(n){var t,a,r=(0,i.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(a=n.props)?void 0:a.variant)||e.variant});return"Input"!==n.type.id?s.cloneElement(n,r):s.cloneElement(n,Object.assign(r,v,n.props))}));return s.createElement(r.m$.div,l({className:h,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},f),s.createElement(m,{value:t},g))}));i.Ts&&(v.displayName="InputGroup");var y=["placement"],b={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},g=(0,r.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),_=(0,r.Gp)((function(e,n){var t,a=e.placement,r=void 0===a?"left":a,i=c(e,y),o=null!=(t=b[r])?t:{},u=h();return s.createElement(g,l({ref:n},i,{__css:l({},u.addon,o)}))}));i.Ts&&(_.displayName="InputAddon");var N=(0,r.Gp)((function(e,n){return s.createElement(_,l({ref:n,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(N.displayName="InputLeftAddon"),N.id="InputLeftAddon";var k=(0,r.Gp)((function(e,n){return s.createElement(_,l({ref:n,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(k.displayName="InputRightAddon"),k.id="InputRightAddon";var x=["placement"],I=["className"],E=["className"],j=(0,r.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),w=(0,r.Gp)((function(e,n){var t,a,r,i=e.placement,o=void 0===i?"left":i,u=c(e,x),d=h(),p=d.field,f=l(((r={})["left"===o?"insetStart":"insetEnd"]="0",r.width=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,r.height=null!=(a=null==p?void 0:p.height)?a:null==p?void 0:p.h,r.fontSize=null==p?void 0:p.fontSize,r),d.element);return s.createElement(j,l({ref:n,__css:f},u))}));w.id="InputElement",i.Ts&&(w.displayName="InputElement");var C=(0,r.Gp)((function(e,n){var t=e.className,a=c(e,I),r=(0,i.cx)("chakra-input__left-element",t);return s.createElement(w,l({ref:n,placement:"left",className:r},a))}));C.id="InputLeftElement",i.Ts&&(C.displayName="InputLeftElement");var T=(0,r.Gp)((function(e,n){var t=e.className,a=c(e,E),r=(0,i.cx)("chakra-input__right-element",t);return s.createElement(w,l({ref:n,placement:"right",className:r},a))}));T.id="InputRightElement",i.Ts&&(T.displayName="InputRightElement")},7640:function(e,n,t){t.d(n,{Ph:function(){return v}});var a=t(3393),r=t(1938),i=t(7160),s=t(6831),o=t(6198),l=t.n(o),c=t(2791);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},u.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}var p=["children","placeholder","className"],f=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],m=["children"],h=(0,r.Gp)((function(e,n){var t=e.children,a=e.placeholder,i=e.className,o=d(e,p);return c.createElement(r.m$.select,u({},o,{ref:n,className:(0,s.cx)("chakra-select",i)}),a&&c.createElement("option",{value:""},a),t)}));s.Ts&&(h.displayName="SelectField");var v=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Select",e),o=(0,r.Lr)(e),p=o.rootProps,m=o.placeholder,v=o.icon,y=o.color,b=o.height,_=o.h,N=o.minH,k=o.minHeight,x=o.iconColor,I=o.iconSize,E=d(o,f),j=(0,s.Vl)(E,i.oE),w=j[0],C=j[1],T=(0,a.Yp)(C),Z={width:"100%",height:"fit-content",position:"relative",color:y},S=l()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return c.createElement(r.m$.div,u({className:"chakra-select__wrapper",__css:Z},w,p),c.createElement(h,u({ref:n,height:null!=_?_:b,minH:null!=N?N:k,placeholder:m},T,{__css:S}),e.children),c.createElement(g,u({"data-disabled":(0,s.PB)(T.disabled)},(x||y)&&{color:x||y},{__css:t.icon},I&&{fontSize:I}),v))}));s.Ts&&(v.displayName="Select");var y=function(e){return c.createElement("svg",u({viewBox:"0 0 24 24"},e),c.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},b=(0,r.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),g=function(e){var n=e.children,t=void 0===n?c.createElement(y,null):n,a=d(e,m),r=c.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return c.createElement(b,u({},a,{className:"chakra-select__icon-wrapper"}),c.isValidElement(t)?r:null)};s.Ts&&(g.displayName="SelectIcon")},5987:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(3366);function r(e,n){if(null==e)return{};var t,r,i=(0,a.Z)(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}}}]);
//# sourceMappingURL=7106.7c0e73c7.chunk.js.map