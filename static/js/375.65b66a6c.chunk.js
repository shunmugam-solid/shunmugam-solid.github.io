(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[375,870],{1023:function(e,n,t){"use strict";var r=t(2791),i=t(5798),a=t(4398),o=t.n(a),l=t(184);n.Z=function(e){var n=e.onChange,t=e.value,a=e.placeholder,c=e.prefix,u=e.digits,s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){s.current&&o()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==c&&void 0!==c?c:"$ ",placeholder:a,rightAlign:!1,digits:u,numericInput:!0}).mask(s.current)}),[c,u,a]),(0,l.jsx)(i.II,{"data-testid":"currency-input",variant:"primary",placeholder:a||"$ 0.00",ref:s,onChange:function(e){var t=e.target.value;n(t)},value:t})}},9458:function(e,n,t){"use strict";var r=t(2791),i=t(9275);n.Z=function(e){var n={token:e.token,onSuccess:e.onSuccess,onExit:e.onExit},t=(0,i.usePlaidLink)(n),a=t.open,o=t.ready;return(0,r.useEffect)((function(){o&&a()}),[o,a]),null}},870:function(e,n,t){"use strict";t.r(n);var r=t(9439),i=t(2791),a=t(2020),o=t(2504),l=t(8735),c=t(3393),u=t(7640),s=t(5798),d=t(5048),p=t(5649),f=t(5304),m=t(3741),v=t(80),h=t(1458),y=t(1023),b=t(9458),g=t(4661),E=t(184),x=i.lazy((function(){return Promise.all([t.e(7625),t.e(4713)]).then(t.bind(t,4713))}));n.default=function(){var e=(0,a.$)().t,n=(0,g.y)(),t=n.data,_=void 0===t?{}:t,O=_.option,j=_.contactId,k=n.open,I=(0,f.CG)((function(e){return e.account}),d.wU),N=I.selectedAccount,w=I.selfBankAccounts,S=I.linkedCards,P=(0,f.Qo)(),X=(0,i.useState)(j),C=(0,r.Z)(X,2),T=C[0],L=C[1],A=(0,i.useState)(""),R=(0,r.Z)(A,2),z=R[0],F=R[1],G=(0,i.useState)(""),M=(0,r.Z)(G,2),D=M[0],$=M[1],Z=(0,i.useState)(null),H=(0,r.Z)(Z,2),U=H[0],B=H[1],Y=(0,i.useMemo)((function(){return""!==z&&""!==D&&""!==T}),[T,z,D]),K=(0,i.useCallback)((function(){N&&T&&P((0,m.MI)(N.id,{packageName:"web",plaidUpdateMode:{type:"itemLoginRequired",contactId:T}})).then((function(e){B(e.linkToken)}))}),[N,T]),q=(0,i.useCallback)((function(e,n){console.log(e,n)}),[]),Q=(0,i.useCallback)((function(){Y&&N&&T&&P((0,m.DB)({accountId:N.id,amount:z,contactId:T,description:D},O)).then((function(){var e,n,t,r="bank"===O?w.find((function(e){return e.id===T})):S.data.find((function(e){return e.id===T}));P((0,h.ud)({label:"bank"===O?"".concat(null===r||void 0===r||null===(e=r.ach)||void 0===e?void 0:e.bankName," XXXXXX ").concat(null===r||void 0===r||null===(n=r.ach)||void 0===n?void 0:n.accountNumber.slice(r.ach.accountNumber.length-4)):"XXXX XXXX XXXX ".concat(null===(t=r.debitCard)||void 0===t?void 0:t.last4),amount:z,description:D})),setTimeout((function(){k(x,{option:O})}),0)})).catch((function(e){console.log(e),"bank"===O&&"EC_PLAID_LINK_MODE_UPDATE_ITEM_LOGIN_REQUIRED"===e.response.data.code?((0,v.c0)("An error occurred.","Plaid connection expired. You need to reconnect your bank account.","error"),setTimeout((function(){K()}),1e3)):(0,v.WH)(e)}))}),[O,T,N,Y,z,D]);return(0,E.jsxs)("div",{className:"page",children:[(0,E.jsx)(p.Z,{heading:e("pull_funds_info.title"),footer:(0,E.jsx)(o.zx,{width:"100%",variant:"primary",onClick:Q,disabled:!Y,children:e("pull_funds_info.ctaText")}),children:(0,E.jsxs)(l.xu,{width:"100%",paddingTop:"15px",children:[(0,E.jsxs)(c.NI,{variant:"primary",children:[(0,E.jsx)(c.lX,{variant:"primary",children:e("pull_funds_info.source")}),(0,E.jsx)(u.Ph,{variant:"primary",value:T,onChange:function(e){return L(e.target.value)},children:"bank"===O?w.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[e.ach.bankName," ","XXXXXX"," ",e.ach.accountNumber.slice(e.ach.accountNumber.length-4)]},e.id)})):S.data.map((function(e){var n;return e.debitCard?(0,E.jsxs)("option",{value:e.id,children:["XXXX XXXX XXXX"," ",null===(n=e.debitCard)||void 0===n?void 0:n.last4]},e.id):null}))})]}),(0,E.jsxs)(c.NI,{variant:"primary",children:[(0,E.jsx)(c.lX,{variant:"primary",children:e("pull_funds_info.destination")}),(0,E.jsx)(s.II,{disabled:!0,value:null===N||void 0===N?void 0:N.label,variant:"primary"})]}),(0,E.jsxs)(c.NI,{variant:"primary",children:[(0,E.jsx)(c.lX,{variant:"primary",children:e("pull_funds_info.amount")}),(0,E.jsx)(y.Z,{value:z,onChange:function(e){F(e||"")}})]}),(0,E.jsxs)(c.NI,{variant:"primary",children:[(0,E.jsx)(c.lX,{variant:"primary",children:e("pull_funds_info.description")}),(0,E.jsx)(s.II,{required:!0,value:D,onChange:function(e){return $(e.target.value)},variant:"primary"})]})]})}),U?(0,E.jsx)(b.Z,{token:U,onSuccess:q,onExit:function(){B(null)}}):null]})}},5798:function(e,n,t){"use strict";t.d(n,{BZ:function(){return h},II:function(){return d},xH:function(){return S}});var r=t(3393),i=t(1938),a=t(6831),o=t(2791),l=t(9611);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var s=["htmlSize"],d=(0,i.Gp)((function(e,n){var t=e.htmlSize,l=u(e,s),d=(0,i.jC)("Input",l),p=(0,i.Lr)(l),f=(0,r.Yp)(p),m=(0,a.cx)("chakra-input",e.className);return o.createElement(i.m$.input,c({size:t},f,{__css:d.field,ref:n,className:m}))}));a.Ts&&(d.displayName="Input"),d.id="Input";var p=["children","className"],f=(0,i.eC)("InputGroup"),m=f[0],v=f[1],h=(0,i.Gp)((function(e,n){var t=(0,i.jC)("Input",e),r=(0,i.Lr)(e),s=r.children,d=r.className,f=u(r,p),v=(0,a.cx)("chakra-input__group",d),h={},y=(0,l.WR)(s),b=t.field;y.forEach((function(e){if(t){var n,r;if(b&&"InputLeftElement"===e.type.id)h.paddingStart=null!=(n=b.height)?n:b.h;if(b&&"InputRightElement"===e.type.id)h.paddingEnd=null!=(r=b.height)?r:b.h;"InputRightAddon"===e.type.id&&(h.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(h.borderStartRadius=0)}}));var g=y.map((function(n){var t,r,i=(0,a.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(r=n.props)?void 0:r.variant)||e.variant});return"Input"!==n.type.id?o.cloneElement(n,i):o.cloneElement(n,Object.assign(i,h,n.props))}));return o.createElement(i.m$.div,c({className:v,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},f),o.createElement(m,{value:t},g))}));a.Ts&&(h.displayName="InputGroup");var y=["placement"],b={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},g=(0,i.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),E=(0,i.Gp)((function(e,n){var t,r=e.placement,i=void 0===r?"left":r,a=u(e,y),l=null!=(t=b[i])?t:{},s=v();return o.createElement(g,c({ref:n},a,{__css:c({},s.addon,l)}))}));a.Ts&&(E.displayName="InputAddon");var x=(0,i.Gp)((function(e,n){return o.createElement(E,c({ref:n,placement:"left"},e,{className:(0,a.cx)("chakra-input__left-addon",e.className)}))}));a.Ts&&(x.displayName="InputLeftAddon"),x.id="InputLeftAddon";var _=(0,i.Gp)((function(e,n){return o.createElement(E,c({ref:n,placement:"right"},e,{className:(0,a.cx)("chakra-input__right-addon",e.className)}))}));a.Ts&&(_.displayName="InputRightAddon"),_.id="InputRightAddon";var O=["placement"],j=["className"],k=["className"],I=(0,i.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),N=(0,i.Gp)((function(e,n){var t,r,i,a=e.placement,l=void 0===a?"left":a,s=u(e,O),d=v(),p=d.field,f=c(((i={})["left"===l?"insetStart":"insetEnd"]="0",i.width=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,i.height=null!=(r=null==p?void 0:p.height)?r:null==p?void 0:p.h,i.fontSize=null==p?void 0:p.fontSize,i),d.element);return o.createElement(I,c({ref:n,__css:f},s))}));N.id="InputElement",a.Ts&&(N.displayName="InputElement");var w=(0,i.Gp)((function(e,n){var t=e.className,r=u(e,j),i=(0,a.cx)("chakra-input__left-element",t);return o.createElement(N,c({ref:n,placement:"left",className:i},r))}));w.id="InputLeftElement",a.Ts&&(w.displayName="InputLeftElement");var S=(0,i.Gp)((function(e,n){var t=e.className,r=u(e,k),i=(0,a.cx)("chakra-input__right-element",t);return o.createElement(N,c({ref:n,placement:"right",className:i},r))}));S.id="InputRightElement",a.Ts&&(S.displayName="InputRightElement")},7640:function(e,n,t){"use strict";t.d(n,{Ph:function(){return h}});var r=t(3393),i=t(1938),a=t(7160),o=t(6831),l=t(6198),c=t.n(l),u=t(2791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var p=["children","placeholder","className"],f=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],m=["children"],v=(0,i.Gp)((function(e,n){var t=e.children,r=e.placeholder,a=e.className,l=d(e,p);return u.createElement(i.m$.select,s({},l,{ref:n,className:(0,o.cx)("chakra-select",a)}),r&&u.createElement("option",{value:""},r),t)}));o.Ts&&(v.displayName="SelectField");var h=(0,i.Gp)((function(e,n){var t=(0,i.jC)("Select",e),l=(0,i.Lr)(e),p=l.rootProps,m=l.placeholder,h=l.icon,y=l.color,b=l.height,E=l.h,x=l.minH,_=l.minHeight,O=l.iconColor,j=l.iconSize,k=d(l,f),I=(0,o.Vl)(k,a.oE),N=I[0],w=I[1],S=(0,r.Yp)(w),P={width:"100%",height:"fit-content",position:"relative",color:y},X=c()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return u.createElement(i.m$.div,s({className:"chakra-select__wrapper",__css:P},N,p),u.createElement(v,s({ref:n,height:null!=E?E:b,minH:null!=x?x:_,placeholder:m},S,{__css:X}),e.children),u.createElement(g,s({"data-disabled":(0,o.PB)(S.disabled)},(O||y)&&{color:O||y},{__css:t.icon},j&&{fontSize:j}),h))}));o.Ts&&(h.displayName="Select");var y=function(e){return u.createElement("svg",s({viewBox:"0 0 24 24"},e),u.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},b=(0,i.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),g=function(e){var n=e.children,t=void 0===n?u.createElement(y,null):n,r=d(e,m),i=u.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return u.createElement(b,s({},r,{className:"chakra-select__icon-wrapper"}),u.isValidElement(t)?i:null)};o.Ts&&(g.displayName="SelectIcon")},9275:function(e,n,t){!function(e,n){"use strict";var r="default"in n?n.default:n;function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}function c(e,n){if(null==e)return{};var t,r,i=l(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function u(e,n){return s(e)||d(e,n)||p(e,n)||m()}function s(e){if(Array.isArray(e))return e}function d(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(c){l=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(l)throw i}}return a}}function p(e,n){if(e){if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t.g?t.g:"undefined"!==typeof self?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y(e,n){return e(n={exports:{}},n.exports),n.exports}var b=y((function(e,n){var t=v&&v.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};Object.defineProperty(n,"__esModule",{value:!0}),n.scripts=void 0,n.scripts={};var i=function(e){var t=document.querySelector('script[src="'+e+'"]');if(t)return n.scripts[e]={loading:!1,error:null,scriptEl:t}};function a(e){var a=e.src,l=e.checkForExisting,c=void 0!==l&&l,u=t(e,["src","checkForExisting"]),s=a?n.scripts[a]:void 0;!s&&c&&a&&o&&(s=i(a));var d=(0,r.useState)(s?s.loading:Boolean(a)),p=d[0],f=d[1],m=(0,r.useState)(s?s.error:null),v=m[0],h=m[1];return(0,r.useEffect)((function(){if(o&&a&&p&&!v){var e;!(s=n.scripts[a])&&c&&(s=i(a)),s?e=s.scriptEl:((e=document.createElement("script")).src=a,Object.keys(u).forEach((function(n){void 0===e[n]?e.setAttribute(n,u[n]):e[n]=u[n]})),s=n.scripts[a]={loading:!0,error:null,scriptEl:e});var t=function(){s&&(s.loading=!1),f(!1)},r=function(e){s&&(s.error=e),h(e)};return e.addEventListener("load",t),e.addEventListener("error",r),document.body.appendChild(e),function(){e.removeEventListener("load",t),e.removeEventListener("error",r)}}}),[a]),[p,v]}n.default=a;var o="undefined"!==typeof window&&"undefined"!==typeof window.document}));h(b),b.scripts;var g,E=y((function(e,n){var t=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.scripts=n.default=void 0,Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t(b).default}}),Object.defineProperty(n,"scripts",{enumerable:!0,get:function(){return b.scripts}})})),x=h(E),_=(E.scripts,function(e,n,t){var r={};return delete Object.assign(r,e,o({},t,e[n]))[n],r}),O=function(e,n){var t={plaid:null,open:!1,onExitCallback:null};if("undefined"===typeof window||!window.Plaid)throw new Error("Plaid not loaded");return t.plaid=n(a(a({},e),{},{onExit:function(n,r){t.open=!1,e.onExit&&e.onExit(n,r),t.onExitCallback&&t.onExitCallback()}})),{open:function(){t.plaid&&(t.open=!0,t.onExitCallback=null,t.plaid.open())},exit:function(e,n){t.open&&t.plaid?(t.onExitCallback=n,t.plaid.exit(e),e&&e.force&&(t.open=!1)):n&&n()},destroy:function(){t.plaid&&(t.plaid.destroy(),t.plaid=null)}}},j=function(e,n){var t=_(e,"publicKey","key");return O(t,n)},k="https://cdn.plaid.com/link/v2/stable/link-initialize.js",I=function(){},N=function(e){var t=u(x({src:k,checkForExisting:!0}),2),r=t[0],i=t[1],o=u(n.useState(null),2),l=o[0],c=o[1],s=u(n.useState(!1),2),d=s[0],p=s[1],f=(e.product||[]).slice().sort().join(",");n.useEffect((function(){if(!r&&(e.token||e.publicKey)){if(!i&&window.Plaid){null!=l&&l.exit({force:!0},(function(){return l.destroy()}));var n=j(a(a({},e),{},{onLoad:function(){p(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return c(n),function(){return n.exit({force:!0},(function(){return n.destroy()}))}}console.error("Error loading Plaid",i)}}),[r,i,e.publicKey,e.token,f]);var m=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:i,ready:null!=l&&(!r||d),exit:l?l.exit:I,open:l?l.open:m}},w=["children","style","className"],S=function(e){var n=e.children,t=e.style,i=e.className,o=c(e,w),l=N(a({},o)),u=l.error,s=l.open;return r.createElement("button",{disabled:Boolean(u),type:"button",className:i,style:a({padding:"6px 4px",outline:"none",background:"#FFFFFF",border:"2px solid #F1F1F1",borderRadius:"4px"},t),onClick:function(){return s()}},n)};S.displayName="PlaidLink",(g=e.PlaidLinkStableEvent||(e.PlaidLinkStableEvent={})).OPEN="OPEN",g.EXIT="EXIT",g.HANDOFF="HANDOFF",g.SELECT_INSTITUTION="SELECT_INSTITUTION",g.ERROR="ERROR",e.PlaidLink=S,e.usePlaidLink=N,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(2791))}}]);
//# sourceMappingURL=375.65b66a6c.chunk.js.map