"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[9510],{2249:function(t,n,a){a.d(n,{Z:function(){return x}});var c=a(8735),s=(a(2791),a(2020)),e=a(80),l="AccountListItem_listItem__EP7DX",i="AccountListItem_tag__Il-LV",o="AccountListItem_tagCash__qGgKp",r="AccountListItem_tagCard__2+Rzz",u="AccountListItem_tagCrypto__KVpIj",d=a(184),x=function(t){var n=t.accountDetails,a=t.onSelect,x=(0,s.$)().t;return(0,d.jsx)(c.HC,{className:"".concat(l),onClick:function(){a&&a(n)},children:(0,d.jsxs)(c.kC,{gap:4,children:[(0,e.Lt)(n)?(0,d.jsx)(c.xu,{className:"".concat(i," ").concat(u),children:(0,d.jsx)(c.xv,{variant:"small",textAlign:"center",color:"inherit",children:x("account_list.crypto")})}):"cardAccount"===n.type?(0,d.jsx)(c.xu,{className:"".concat(i," ").concat(r),children:(0,d.jsx)(c.xv,{variant:"small",textAlign:"center",color:"inherit",children:x("account_list.card")})}):(0,d.jsx)(c.xu,{className:"".concat(i," ").concat(o),children:(0,d.jsx)(c.xv,{variant:"small",textAlign:"center",color:"inherit",children:x("account_list.cash")})}),(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(c.xv,{variant:"regular",className:"text-dark",textAlign:"left",children:n.label}),(0,d.jsxs)(c.xv,{variant:"small",textAlign:"left",className:"text-light",children:[x("account_list.balance"),": \xa0",(0,e.Lt)(n)?"".concat(n.cryptoBalance," ").concat(n.currency):(0,e.OH)(n.availableBalance,n.currency)]})]})]})})}},9510:function(t,n,a){a.r(n),a.d(n,{default:function(){return k}});var c=a(1413),s=a(9439),e=a(2791),l=a(2504),i=a(8735),o=a(2020),r=a(5048),u=a(7689),d=a(5649),x=a(5304),h=a(3741),v=a(9270),f=a(1458),g=a(80),p=a(2249),b=a(3717),m=a(2966),j=a(4144),_="List_bodyStyles__+-493",I=a(184),k=function(){var t=(0,o.$)().t,n=(0,u.s0)(),a=(0,x.Qo)(),k=(0,x.CG)((function(t){return t.user.personDetails}),r.wU),y=(0,e.useState)([]),C=(0,s.Z)(y,2),A=C[0],N=C[1],L=(0,e.useState)(!1),w=(0,s.Z)(L,2),B=w[0],Z=w[1],S=(0,x.CG)((function(t){return t.core.programConfig}),r.wU),D=(0,x.CG)((function(t){return t.account.totalAccounts})),H=(0,e.useState)("cash"),z=(0,s.Z)(H,1)[0],E=(0,e.useCallback)((function(){a((0,v.zL)()).then((function(t){var n=t.data,s={personChecking:{id:"personChecking",legalName:"".concat(null===k||void 0===k?void 0:k.firstName," ").concat(null===k||void 0===k?void 0:k.lastName),totalBalance:0,total:0}};n.forEach((function(t){s[t.id]=(0,c.Z)((0,c.Z)({},t),{},{accounts:[],totalBalance:0,total:0})})),"cash"===z?a((0,h.Sg)(null,"all",50)).then((function(t){t.data.forEach((function(t){var n=(0,c.Z)({},t);""===n.businessId&&(n.businessId="personChecking"),s[n.businessId]&&(void 0===s[n.businessId].accounts&&(s[n.businessId].accounts=[]),s[n.businessId].accounts.push(n),s[n.businessId].total+=1,s[n.businessId].totalBalance+=parseFloat(n.availableBalance))})),N(Object.values(s)),a((0,f.sF)(s))})).catch(g.WH).finally((function(){Z(!0)})):"crypto"===z&&a((0,b.Qi)(null,"all",50)).then((function(t){t.data.forEach((function(t){var n=(0,c.Z)({},t);""===n.businessId&&(n.businessId="personChecking"),s[n.businessId]&&(void 0===s[n.businessId].accounts&&(s[n.businessId].accounts=[]),s[n.businessId].accounts.push(n),s[n.businessId].total+=1,s[n.businessId].totalBalance+=parseFloat(n.usdBalance))})),N(Object.values(s)),a((0,f.sF)(s))})).catch(g.WH).finally((function(){Z(!0)}))})).catch(g.WH)}),[z]);(0,e.useEffect)((function(){E()}),[z]);var F=(0,e.useMemo)((function(){try{var t,n,a,c;return parseInt(null===S||void 0===S||null===(t=S.bank)||void 0===t||null===(n=t.maxAccounts)||void 0===n?void 0:n.personal,10)+parseInt(null===S||void 0===S||null===(a=S.bank)||void 0===a||null===(c=a.maxAccounts)||void 0===c?void 0:c.business,10)}catch(s){return-1}}),[S]);return(0,I.jsx)("div",{className:"page",children:(0,I.jsx)(d.Z,{varient:"box",showBack:!0,bodyClass:_,onBack:function(){n(-1)},footer:-1===F||F>D?(0,I.jsx)(l.zx,{width:"100%",variant:"primary",onClick:function(){n("/ao/account/setup-options")},children:t("account_list.buttn_addAccount")}):null,children:(0,I.jsx)(i.xu,{width:"100%",children:0===A.length&&B?(0,I.jsx)(i.M5,{py:2,children:(0,I.jsx)(i.xv,{variant:"regular",textAlign:"center",className:"text-light",children:t("account_list.noData","No Account found")})}):A.map((function(c,s){var e;return""!==c.legalName&&c.total>0?(0,I.jsxs)(i.xu,{paddingTop:0!==s?"30px":"0",children:[(0,I.jsxs)(i.kC,{justifyContent:"space-between",marginBottom:"16px",children:[(0,I.jsxs)(i.xu,{children:[(0,I.jsx)(i.xv,{variant:"regular",fontWeight:"500",display:"block",textAlign:"left",children:c.legalName}),(0,I.jsxs)(i.xv,{variant:"small",display:"block",textAlign:"left",children:[c.total," ",t("account_list.accounts")]})]}),(0,I.jsxs)(i.xu,{children:[(0,I.jsx)(i.xv,{display:"block",variant:"regular",textAlign:"right",className:"text-dark",children:(0,g.OH)(c.totalBalance)}),c.total>2?(0,I.jsxs)(i.kC,{alignItems:"center",cursor:"pointer",justifyContent:"flex-end",onClick:function(){n("/ao/account/list-by-business/".concat(c.id))},children:[(0,I.jsx)(i.xv,{textAlign:"right",display:"block",variant:"regular",className:"text-light",children:t("account_list.viewAll")}),(0,I.jsx)(j.Z,{icon:"Arrow-small-right",size:11,style:{marginLeft:"8px",width:"auto"},className:"svg-light-grey-1"})]}):null]})]}),(0,I.jsx)(i.aV,{children:null===(e=c.accounts)||void 0===e?void 0:e.slice(0,2).map((function(t){return(0,I.jsx)(p.Z,{accountDetails:t,onSelect:function(t){"crypto"===z&&(0,g.Lt)(t)?a((0,m.D0)(t)):(0,g.Lt)(t)||a((0,f.se)(t)),a((0,f.Uw)(z)),n("/dashboard")}},t.id)}))})]},c.legalName):null}))})})})}}}]);
//# sourceMappingURL=9510.17bd04d5.chunk.js.map