"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[2252,2737,5798],{5919:function(e,n,r){r.d(n,{Z:function(){return v}});var a=r(1413),i=r(9439),l=r(2791),t=r(5568),d=r(5048),s=r(9916),o=r(5798),u=r(5304),c=function(e,n){return e.find((function(e){return e.types.includes(n)}))},p=r(184),v=function(e){var n=e.address,r=e.onChange,v=e.googleApiKey,m=e.placeholder,f=e.restrictedCountry,h=e.international,g=(0,l.useState)((0,a.Z)({},n)),y=(0,i.Z)(g,2),b=y[0],_=y[1],x=(0,l.useState)((null===n||void 0===n?void 0:n.line1)||""),I=(0,i.Z)(x,2),N=I[0],C=I[1],A=(0,l.useRef)(null),E=(0,u.CG)((function(e){return e.user.personDetails}),d.wU),j=(0,l.useMemo)((function(){if(f)return f;if(null!==E&&void 0!==E&&E.phone)try{var e=(0,s.SR)(null===E||void 0===E?void 0:E.phone);return(null===e||void 0===e?void 0:e.country)||"US"}catch(n){return"US"}return"US"}),[E,f]);(0,l.useEffect)((function(){window.gm_authFailure=function(){return A.current.disabled=!1,A.current.placeholder="",A.current.style.backgroundImage="",A.current.focus(),!1}}),[]),(0,l.useEffect)((function(){n&&(_(n),C(n.line1))}),[n]);return(0,p.jsx)(o.II,{variant:"primary","data-testid":"address-line1",as:t.default,ref:A,apiKey:v,onPlaceSelected:function(e){if(e){var n=function(e){var n=e.address_components,r=e.geometry,a={},i=n,l=c(i,"premise"),t=c(i,"street_number"),d=c(i,"route"),s=c(i,"locality"),o=c(i,"sublocality_level_1"),u=c(i,"postal_town"),p=c(i,"administrative_area_level_1"),v=c(i,"country"),m=c(i,"postal_code"),f=[t,l,d];return s||(s=u||o),a.line1=f.filter((function(e){return e})).map((function(e){return e.long_name})).join(" "),a.line2=null,a.city=s?s.long_name:null,a.postalCode=m?m.long_name:null,a.state=p?p.short_name:null,a.country=v?v.short_name:null,a.latitude=r.location.lat,a.longitude=r.location.lng,a}(e),i=n.line1,l=n.line2,t=n.city,d=n.state,s=n.postalCode,o=n.country,u=(0,a.Z)((0,a.Z)({},b),{},{line1:i,line2:l,city:t,state:d,country:o,postalCode:s});_(u),r(u),C(i)}},value:N,placeholder:m||"",onChange:function(e){C(e.target.value);var n=(0,a.Z)((0,a.Z)({},b),{},{line1:e.target.value});h||(n.country=j),r(n)},options:{types:["address"],componentRestrictions:h?void 0:{country:j}}})}},2252:function(e,n,r){r.r(n);var a=r(4942),i=r(1413),l=r(9439),t=r(2791),d=r(1938),s=r(2504),o=r(8735),u=r(9743),c=r(3393),p=r(5798),v=r(2020),m=r(5048),f=r(5425),h=r(5919),g=r(5304),y=r(80),b=r(3746),_=r(7208),x=r(4661),I=r(184),N=t.lazy((function(){return r.e(1330).then(r.bind(r,2637))})),C=t.lazy((function(){return Promise.all([r.e(7625),r.e(3054)]).then(r.bind(r,3054))}));n.default=function(){var e,n,r,A,E=(0,v.$)().t,j=(0,g.Qo)(),k=(0,x.y)(),R=k.open,T=k.goBack,Z=(0,d.mq)("FormControl",{variant:"primary"}),S=(0,t.useState)(!0),q=(0,l.Z)(S,2),F=q[0],O=q[1],P=(0,g.CG)((function(e){return e.card.cardPayload}),m.wU),G=(0,g.CG)((function(e){return e.card.replaceCardId})),w=(0,t.useCallback)((function(e,n){if(P){var r=(0,i.Z)((0,i.Z)({},P),{},(0,a.Z)({},e,n));j((0,b.Qr)(r))}}),[P]),L=(0,t.useMemo)((function(){return P&&!!P.billingAddress&&!!P.billingAddress.line1&&!!P.billingAddress.city&&!!P.billingAddress.state&&!!P.billingAddress.country&&!!P.billingAddress.postalCode&&0!==P.billingAddress.line1.length&&0!==P.billingAddress.city.length&&0!==P.billingAddress.state.length&&0!==P.billingAddress.country.length&&0!==P.billingAddress.postalCode.length}),[P]),z=(0,t.useCallback)((function(){L&&P&&(F?(P.shipping={shippingAddress:P.billingAddress},j((0,_.LH)(P)).then((function(){G?j((0,_.XN)(G)).catch(y.WH).finally((function(){R(C)})):R(C)})).catch(y.WH)):R(N))}),[L,G,F,P]);return(0,I.jsx)("div",{className:"page",children:(0,I.jsx)("form",{onSubmit:function(e){e.preventDefault(),z()},children:(0,I.jsx)(f.Z,{heading:E("create_card_info.title_".concat(null===P||void 0===P?void 0:P.cardType)),onBack:T,footer:(0,I.jsx)(s.zx,{width:"100%",variant:"primary",disabled:!L,onClick:z,children:E("create_card_address.ctaText")}),children:(0,I.jsxs)(o.xu,{width:"100%",children:["physical"===(null===P||void 0===P?void 0:P.cardType)?(0,I.jsxs)(o.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,I.jsxs)(o.xu,{children:[(0,I.jsx)(o.xv,{variant:"large",textAlign:"left",children:E("create_card_address.confirmBillingAddressTitle")}),(0,I.jsx)(o.xv,{variant:"regular",className:"text-light",textAlign:"left",children:E("create_card_address.confirmBillingAddressDesc")})]}),(0,I.jsx)(u.r,{variant:"primary",defaultChecked:F,onChange:function(){O(!F)}})]}):null,(0,I.jsx)(o.xv,{variant:"large",mt:3,children:E("create_card_address.confirmMailingAddress")}),(0,I.jsxs)(c.NI,{variant:"primary",style:Z,children:[(0,I.jsx)(c.lX,{variant:"primary",children:E("create_card_address.address1")}),(0,I.jsx)(h.Z,{placeholder:E("create_card_address.address1"),googleApiKey:"AIzaSyDcW61NFxklslLuuUxNw0SzoBmHyC4Zhh4",address:(null===P||void 0===P?void 0:P.billingAddress)||void 0,restrictedCountry:"physical"===(null===P||void 0===P?void 0:P.cardType)?"US":void 0,onChange:function(e){w("billingAddress",(0,i.Z)((0,i.Z)({},e),{},{addressType:"mailing"}))}})]}),(0,I.jsxs)(c.NI,{variant:"primary",style:Z,children:[(0,I.jsx)(c.lX,{variant:"primary",children:E("create_card_address.address2")}),(0,I.jsx)(p.II,{variant:"primary",placeholder:E("create_card_address.address2"),value:null===P||void 0===P||null===(e=P.billingAddress)||void 0===e?void 0:e.line2,onChange:function(e){w("billingAddress",(0,i.Z)((0,i.Z)({},(null===P||void 0===P?void 0:P.billingAddress)||{}),{},{line2:e.target.value}))}})]}),(0,I.jsxs)(c.NI,{variant:"primary",style:Z,children:[(0,I.jsx)(c.lX,{variant:"primary",children:E("create_card_address.addressCity")}),(0,I.jsx)(p.II,{variant:"primary",placeholder:E("create_card_address.addressCity"),value:null===P||void 0===P||null===(n=P.billingAddress)||void 0===n?void 0:n.city,onChange:function(e){w("billingAddress",(0,i.Z)((0,i.Z)({},(null===P||void 0===P?void 0:P.billingAddress)||{}),{},{city:e.target.value}))}})]}),(0,I.jsxs)(c.NI,{variant:"primary",style:Z,children:[(0,I.jsx)(c.lX,{variant:"primary",children:E("create_card_address.addressState")}),(0,I.jsx)(p.II,{variant:"primary",placeholder:E("create_card_address.addressState"),value:null===P||void 0===P||null===(r=P.billingAddress)||void 0===r?void 0:r.state,onChange:function(e){w("billingAddress",(0,i.Z)((0,i.Z)({},(null===P||void 0===P?void 0:P.billingAddress)||{}),{},{state:e.target.value}))}})]}),(0,I.jsxs)(c.NI,{variant:"primary",style:Z,children:[(0,I.jsx)(c.lX,{variant:"primary",children:E("create_card_address.addressZipcode")}),(0,I.jsx)(p.II,{variant:"primary",placeholder:E("create_card_address.addressZipcode"),value:null===P||void 0===P||null===(A=P.billingAddress)||void 0===A?void 0:A.postalCode,onChange:function(e){w("billingAddress",(0,i.Z)((0,i.Z)({},(null===P||void 0===P?void 0:P.billingAddress)||{}),{},{postalCode:e.target.value}))}})]})]})})})})}},3393:function(e,n,r){r.d(n,{Kn:function(){return A},NI:function(){return _},NJ:function(){return b},Yp:function(){return C},lX:function(){return S}});var a=r(5223),i=r(1938),l=r(6831),t=r(9611),d=r(2791),s=r(9113);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}function u(e,n){if(null==e)return{};var r,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||(i[r]=e[r]);return i}var c=["id","isRequired","isInvalid","isDisabled","isReadOnly"],p=["getRootProps","htmlProps"],v=(0,i.eC)("FormControl"),m=v[0],f=v[1],h=f,g=(0,t.kr)({strict:!1,name:"FormControlContext"}),y=g[0],b=g[1];var _=(0,i.Gp)((function(e,n){var r=(0,i.jC)("Form",e),s=function(e){var n=e.id,r=e.isRequired,i=e.isInvalid,s=e.isDisabled,p=e.isReadOnly,v=u(e,c),m=(0,a.Me)(),f=n||"field-"+m,h=f+"-label",g=f+"-feedback",y=f+"-helptext",b=d.useState(!1),_=b[0],x=b[1],I=d.useState(!1),N=I[0],C=I[1],A=(0,a.kt)(),E=A[0],j=A[1],k=d.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),o({id:y},e,{ref:(0,t.lq)(n,(function(e){e&&C(!0)}))})}),[y]),R=d.useCallback((function(e,n){var r,a;return void 0===e&&(e={}),void 0===n&&(n=null),o({},e,{ref:n,"data-focus":(0,l.PB)(E),"data-disabled":(0,l.PB)(s),"data-invalid":(0,l.PB)(i),"data-readonly":(0,l.PB)(p),id:null!=(r=e.id)?r:h,htmlFor:null!=(a=e.htmlFor)?a:f})}),[f,s,E,i,p,h]),T=d.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),o({id:g},e,{ref:(0,t.lq)(n,(function(e){e&&x(!0)})),"aria-live":"polite"})}),[g]),Z=d.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),o({},e,v,{ref:n,role:"group"})}),[v]),S=d.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),o({},e,{ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!p,isDisabled:!!s,isFocused:!!E,onFocus:j.on,onBlur:j.off,hasFeedbackText:_,setHasFeedbackText:x,hasHelpText:N,setHasHelpText:C,id:f,labelId:h,feedbackId:g,helpTextId:y,htmlProps:v,getHelpTextProps:k,getErrorMessageProps:T,getRootProps:Z,getLabelProps:R,getRequiredIndicatorProps:S}}((0,i.Lr)(e)),v=s.getRootProps;s.htmlProps;var f=u(s,p),h=(0,l.cx)("chakra-form-control",e.className);return d.createElement(y,{value:f},d.createElement(m,{value:r},d.createElement(i.m$.div,o({},v({},n),{className:h,__css:r.container}))))}));l.Ts&&(_.displayName="FormControl");var x=(0,i.Gp)((function(e,n){var r=b(),a=f(),t=(0,l.cx)("chakra-form__helper-text",e.className);return d.createElement(i.m$.div,o({},null==r?void 0:r.getHelpTextProps(e,n),{__css:a.helperText,className:t}))}));l.Ts&&(x.displayName="FormHelperText");var I=["isDisabled","isInvalid","isReadOnly","isRequired"],N=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function C(e){var n=A(e),r=n.isDisabled,a=n.isInvalid,i=n.isReadOnly,t=n.isRequired;return o({},u(n,I),{disabled:r,readOnly:i,required:t,"aria-invalid":(0,l.Qm)(a),"aria-required":(0,l.Qm)(t),"aria-readonly":(0,l.Qm)(i)})}function A(e){var n,r,a,i=b(),t=e.id,d=e.disabled,s=e.readOnly,c=e.required,p=e.isRequired,v=e.isInvalid,m=e.isReadOnly,f=e.isDisabled,h=e.onFocus,g=e.onBlur,y=u(e,N),_=e["aria-describedby"]?[e["aria-describedby"]]:[];return null!=i&&i.hasFeedbackText&&null!=i&&i.isInvalid&&_.push(i.feedbackId),null!=i&&i.hasHelpText&&_.push(i.helpTextId),o({},y,{"aria-describedby":_.join(" ")||void 0,id:null!=t?t:null==i?void 0:i.id,isDisabled:null!=(n=null!=d?d:f)?n:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=s?s:m)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(a=null!=c?c:p)?a:null==i?void 0:i.isRequired,isInvalid:null!=v?v:null==i?void 0:i.isInvalid,onFocus:(0,l.v0)(null==i?void 0:i.onFocus,h),onBlur:(0,l.v0)(null==i?void 0:i.onBlur,g)})}var E=(0,i.eC)("FormError"),j=E[0],k=E[1],R=(0,i.Gp)((function(e,n){var r=(0,i.jC)("FormError",e),a=(0,i.Lr)(e),t=b();return null!=t&&t.isInvalid?d.createElement(j,{value:r},d.createElement(i.m$.div,o({},null==t?void 0:t.getErrorMessageProps(a,n),{className:(0,l.cx)("chakra-form__error-message",e.className),__css:o({display:"flex",alignItems:"center"},r.text)}))):null}));l.Ts&&(R.displayName="FormErrorMessage");var T=(0,i.Gp)((function(e,n){var r=k(),a=b();if(null==a||!a.isInvalid)return null;var i=(0,l.cx)("chakra-form__error-icon",e.className);return d.createElement(s.ZP,o({ref:n,"aria-hidden":!0},e,{__css:r.icon,className:i}),d.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));l.Ts&&(T.displayName="FormErrorIcon");var Z=["className","children","requiredIndicator","optionalIndicator"],S=(0,i.Gp)((function(e,n){var r,a=(0,i.mq)("FormLabel",e),t=(0,i.Lr)(e);t.className;var s=t.children,c=t.requiredIndicator,p=void 0===c?d.createElement(q,null):c,v=t.optionalIndicator,m=void 0===v?null:v,f=u(t,Z),h=b(),g=null!=(r=null==h?void 0:h.getLabelProps(f,n))?r:o({ref:n},f);return d.createElement(i.m$.label,o({},g,{className:(0,l.cx)("chakra-form__label",t.className),__css:o({display:"block",textAlign:"start"},a)}),s,null!=h&&h.isRequired?p:m)}));l.Ts&&(S.displayName="FormLabel");var q=(0,i.Gp)((function(e,n){var r=b(),a=h();if(null==r||!r.isRequired)return null;var t=(0,l.cx)("chakra-form__required-indicator",e.className);return d.createElement(i.m$.span,o({},null==r?void 0:r.getRequiredIndicatorProps(e,n),{__css:a.requiredIndicator,className:t}))}));l.Ts&&(q.displayName="RequiredIndicator")},5798:function(e,n,r){r.d(n,{II:function(){return c}});var a=r(3393),i=r(1938),l=r(6831),t=r(2791),d=r(9611);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s.apply(this,arguments)}function o(e,n){if(null==e)return{};var r,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||(i[r]=e[r]);return i}var u=["htmlSize"],c=(0,i.Gp)((function(e,n){var r=e.htmlSize,d=o(e,u),c=(0,i.jC)("Input",d),p=(0,i.Lr)(d),v=(0,a.Yp)(p),m=(0,l.cx)("chakra-input",e.className);return t.createElement(i.m$.input,s({size:r},v,{__css:c.field,ref:n,className:m}))}));l.Ts&&(c.displayName="Input"),c.id="Input";var p=["children","className"],v=(0,i.eC)("InputGroup"),m=v[0],f=v[1],h=(0,i.Gp)((function(e,n){var r=(0,i.jC)("Input",e),a=(0,i.Lr)(e),u=a.children,c=a.className,v=o(a,p),f=(0,l.cx)("chakra-input__group",c),h={},g=(0,d.WR)(u),y=r.field;g.forEach((function(e){if(r){var n,a;if(y&&"InputLeftElement"===e.type.id)h.paddingStart=null!=(n=y.height)?n:y.h;if(y&&"InputRightElement"===e.type.id)h.paddingEnd=null!=(a=y.height)?a:y.h;"InputRightAddon"===e.type.id&&(h.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(h.borderStartRadius=0)}}));var b=g.map((function(n){var r,a,i=(0,l.YU)({size:(null==(r=n.props)?void 0:r.size)||e.size,variant:(null==(a=n.props)?void 0:a.variant)||e.variant});return"Input"!==n.type.id?t.cloneElement(n,i):t.cloneElement(n,Object.assign(i,h,n.props))}));return t.createElement(i.m$.div,s({className:f,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},v),t.createElement(m,{value:r},b))}));l.Ts&&(h.displayName="InputGroup");var g=["placement"],y={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},b=(0,i.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),_=(0,i.Gp)((function(e,n){var r,a=e.placement,i=void 0===a?"left":a,l=o(e,g),d=null!=(r=y[i])?r:{},u=f();return t.createElement(b,s({ref:n},l,{__css:s({},u.addon,d)}))}));l.Ts&&(_.displayName="InputAddon");var x=(0,i.Gp)((function(e,n){return t.createElement(_,s({ref:n,placement:"left"},e,{className:(0,l.cx)("chakra-input__left-addon",e.className)}))}));l.Ts&&(x.displayName="InputLeftAddon"),x.id="InputLeftAddon";var I=(0,i.Gp)((function(e,n){return t.createElement(_,s({ref:n,placement:"right"},e,{className:(0,l.cx)("chakra-input__right-addon",e.className)}))}));l.Ts&&(I.displayName="InputRightAddon"),I.id="InputRightAddon";var N=["placement"],C=["className"],A=["className"],E=(0,i.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),j=(0,i.Gp)((function(e,n){var r,a,i,l=e.placement,d=void 0===l?"left":l,u=o(e,N),c=f(),p=c.field,v=s(((i={})["left"===d?"insetStart":"insetEnd"]="0",i.width=null!=(r=null==p?void 0:p.height)?r:null==p?void 0:p.h,i.height=null!=(a=null==p?void 0:p.height)?a:null==p?void 0:p.h,i.fontSize=null==p?void 0:p.fontSize,i),c.element);return t.createElement(E,s({ref:n,__css:v},u))}));j.id="InputElement",l.Ts&&(j.displayName="InputElement");var k=(0,i.Gp)((function(e,n){var r=e.className,a=o(e,C),i=(0,l.cx)("chakra-input__left-element",r);return t.createElement(j,s({ref:n,placement:"left",className:i},a))}));k.id="InputLeftElement",l.Ts&&(k.displayName="InputLeftElement");var R=(0,i.Gp)((function(e,n){var r=e.className,a=o(e,A),i=(0,l.cx)("chakra-input__right-element",r);return t.createElement(j,s({ref:n,placement:"right",className:i},a))}));R.id="InputRightElement",l.Ts&&(R.displayName="InputRightElement")}}]);
//# sourceMappingURL=2252.f4566303.chunk.js.map