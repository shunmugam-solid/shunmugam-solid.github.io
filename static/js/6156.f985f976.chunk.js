"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[6156],{5744:function(e,n,t){t(2791);var r=t(5798),a=t(184);n.Z=function(e){var n=e.value,t=e.placeholder,i=e.onChange;return(0,a.jsx)(r.II,{type:"number",variant:"primary",value:n,"data-testid":"percentage-input",placeholder:t,onChange:function(e){if(!e.target.value.startsWith("0")){var n=parseInt(e.target.value);if(!(n>100)){var t=!Number.isNaN(n)&&n>25;i(n,t)}}}})}},6156:function(e,n,t){t.r(n);var r=t(9439),a=t(2791),i=t(2020),s=t(1938),l=t(8735),p=t(2504),o=t(3393),d=t(5048),u=t(7689),c=t(5649),m=t(5304),h=t(9270),f=t(80),v=t(5744),N=t(184);n.default=function(){var e=(0,i.$)().t,n=(0,u.s0)(),t=(0,m.Qo)(),g=(0,s.mq)("FormControl",{variant:"primary"}),b=(0,m.CG)((function(e){return e.business}),d.wU),y=b.selectedBusinessOwner,x=b.selectedBusiness,I=(0,a.useState)(null!==y&&void 0!==y&&y.ownership?parseInt(null===y||void 0===y?void 0:y.ownership,10):""),_=(0,r.Z)(I,2),E=_[0],w=_[1],j=(0,a.useMemo)((function(){return!Number.isNaN(E)&&E>=25&&E<=100}),[E]),T=(0,a.useCallback)((function(e){t((0,h.XD)(e)).then((function(){n("/ao/kyb/ownersList")})).catch(f.WH)}),[]),C=(0,a.useCallback)((function(){null!==y&&void 0!==y&&y.id&&y.person.address?t((0,h.RG)(null===y||void 0===y?void 0:y.id,{ownership:"".concat(E),person:{firstName:y.person.firstName,lastName:y.person.lastName,email:y.person.email,dateOfBirth:y.person.dateOfBirth,phone:y.person.phone,idNumber:y.person.idNumber.replaceAll("-",""),idType:y.person.idType,address:y.person.address}})).then((function(){setTimeout((function(){T(y.id)}),0)})).catch(f.WH):y&&x&&y.person.address&&t((0,h.vd)({businessId:x.id,ownership:"".concat(E),person:{firstName:y.person.firstName,lastName:y.person.lastName,email:y.person.email,dateOfBirth:y.person.dateOfBirth,phone:y.person.phone,idNumber:y.person.idNumber.replaceAll("-",""),idType:y.person.idType,address:y.person.address}})).then((function(e){var n=e.id;setTimeout((function(){T(n)}),0)})).catch(f.WH)}),[y,E]);return(0,N.jsx)("div",{className:"page",children:(0,N.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()},children:(0,N.jsx)(c.Z,{varient:"box",heading:e("their_ownership.title"),footer:(0,N.jsxs)(l.xu,{children:[(0,N.jsx)(l.xv,{variant:"small",pb:"16px",children:e("their_ownership.toHelp")}),(0,N.jsx)(p.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",disabled:!j,type:"submit",children:e("their_ownership.ctaText")})]}),children:(0,N.jsx)(l.xu,{width:"100%",children:(0,N.jsxs)(o.NI,{variant:"primary",style:g,children:[(0,N.jsx)(o.lX,{variant:"primary",children:e("their_ownership.enterTheirOwnership")}),(0,N.jsx)(v.Z,{placeholder:e("their_ownership.percentageValue"),value:E,onChange:w})]})})})})})}},5798:function(e,n,t){t.d(n,{BZ:function(){return v},II:function(){return u},xH:function(){return S}});var r=t(3393),a=t(1938),i=t(6831),s=t(2791),l=t(9611);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(this,arguments)}function o(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var d=["htmlSize"],u=(0,a.Gp)((function(e,n){var t=e.htmlSize,l=o(e,d),u=(0,a.jC)("Input",l),c=(0,a.Lr)(l),m=(0,r.Yp)(c),h=(0,i.cx)("chakra-input",e.className);return s.createElement(a.m$.input,p({size:t},m,{__css:u.field,ref:n,className:h}))}));i.Ts&&(u.displayName="Input"),u.id="Input";var c=["children","className"],m=(0,a.eC)("InputGroup"),h=m[0],f=m[1],v=(0,a.Gp)((function(e,n){var t=(0,a.jC)("Input",e),r=(0,a.Lr)(e),d=r.children,u=r.className,m=o(r,c),f=(0,i.cx)("chakra-input__group",u),v={},N=(0,l.WR)(d),g=t.field;N.forEach((function(e){if(t){var n,r;if(g&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(n=g.height)?n:g.h;if(g&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(r=g.height)?r:g.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var b=N.map((function(n){var t,r,a=(0,i.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(r=n.props)?void 0:r.variant)||e.variant});return"Input"!==n.type.id?s.cloneElement(n,a):s.cloneElement(n,Object.assign(a,v,n.props))}));return s.createElement(a.m$.div,p({className:f,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},m),s.createElement(h,{value:t},b))}));i.Ts&&(v.displayName="InputGroup");var N=["placement"],g={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},b=(0,a.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),y=(0,a.Gp)((function(e,n){var t,r=e.placement,a=void 0===r?"left":r,i=o(e,N),l=null!=(t=g[a])?t:{},d=f();return s.createElement(b,p({ref:n},i,{__css:p({},d.addon,l)}))}));i.Ts&&(y.displayName="InputAddon");var x=(0,a.Gp)((function(e,n){return s.createElement(y,p({ref:n,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(x.displayName="InputLeftAddon"),x.id="InputLeftAddon";var I=(0,a.Gp)((function(e,n){return s.createElement(y,p({ref:n,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(I.displayName="InputRightAddon"),I.id="InputRightAddon";var _=["placement"],E=["className"],w=["className"],j=(0,a.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),T=(0,a.Gp)((function(e,n){var t,r,a,i=e.placement,l=void 0===i?"left":i,d=o(e,_),u=f(),c=u.field,m=p(((a={})["left"===l?"insetStart":"insetEnd"]="0",a.width=null!=(t=null==c?void 0:c.height)?t:null==c?void 0:c.h,a.height=null!=(r=null==c?void 0:c.height)?r:null==c?void 0:c.h,a.fontSize=null==c?void 0:c.fontSize,a),u.element);return s.createElement(j,p({ref:n,__css:m},d))}));T.id="InputElement",i.Ts&&(T.displayName="InputElement");var C=(0,a.Gp)((function(e,n){var t=e.className,r=o(e,E),a=(0,i.cx)("chakra-input__left-element",t);return s.createElement(T,p({ref:n,placement:"left",className:a},r))}));C.id="InputLeftElement",i.Ts&&(C.displayName="InputLeftElement");var S=(0,a.Gp)((function(e,n){var t=e.className,r=o(e,w),a=(0,i.cx)("chakra-input__right-element",t);return s.createElement(T,p({ref:n,placement:"right",className:a},r))}));S.id="InputRightElement",i.Ts&&(S.displayName="InputRightElement")}}]);
//# sourceMappingURL=6156.f985f976.chunk.js.map