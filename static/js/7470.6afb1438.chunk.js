"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[7470],{9998:function(a,t,n){n.r(t),n.d(t,{default:function(){return w}});var e=n(1413),r=n(9439),i=n(2791),u=n(2504),s=n(8735),c=n(3393),o=n(5798),l=n(2020),d=n(5048),h=n(4398),p=n.n(h),v=n(5649),f=n(5304),x=n(7208),y=n(184),k=function(a){var t=a.onChange,n=a.value,e=(0,i.useRef)(null);return(0,i.useLayoutEffect)((function(){e.current&&p()("datetime",{inputFormat:"mm/yyyy",showMaskOnHover:!1,showMaskOnFocus:!1,jitMasking:!0}).mask(e.current)}),[]),(0,y.jsx)(o.II,{ref:e,"data-testid":"expiry-date-input",variant:"primary",onChange:function(a){return t(a.target.value)},value:n})},m=n(80),g=n(4661),j=i.lazy((function(){return Promise.all([n.e(7625),n.e(655)]).then(n.bind(n,655))})),w=function(){var a=(0,l.$)().t,t=(0,g.y)(),n=t.open,h=t.goBack,w=(0,f.Qo)(),C=(0,i.useState)({last4:"",expirationDate:""}),M=(0,r.Z)(C,2),Z=M[0],_=M[1],I=(0,f.CG)((function(a){return a.card.selectedCard}),d.wU),b=(0,i.useRef)(null),D=(0,i.useMemo)((function(){return 4===Z.last4.length&&7===Z.expirationDate.length}),[Z]);(0,i.useLayoutEffect)((function(){b.current&&p()({mask:"9999",showMaskOnHover:!1,showMaskOnFocus:!1,jitMasking:!0}).mask(b.current)}),[]);var O=(0,i.useCallback)((function(){if(null!==I&&void 0!==I&&I.id){var a=Z.expirationDate.split("/"),t=(0,r.Z)(a,2),e=t[0],i=t[1];w((0,x.QZ)(null===I||void 0===I?void 0:I.id,{expiryMonth:e,expiryYear:i,last4:Z.last4})).then((function(){n(j)})).catch(m.WH)}}),[I,Z]);return I?(0,y.jsx)("div",{className:"page",children:(0,y.jsx)(v.Z,{heading:a("activate_card.title"),footer:(0,y.jsx)(u.zx,{width:"100%",variant:"primary",disabled:!D,onClick:O,children:a("activate_card.ctaText")}),showBack:!0,onBack:h,children:(0,y.jsxs)(s.xu,{width:"100%",paddingTop:"15px",children:[(0,y.jsxs)(c.NI,{variant:"primary",children:[(0,y.jsx)(c.lX,{variant:"primary",children:a("activate_card.last4")}),(0,y.jsx)(o.II,{ref:b,value:Z.last4,variant:"primary",onChange:function(a){return _((0,e.Z)((0,e.Z)({},Z),{},{last4:a.target.value}))}})]}),(0,y.jsxs)(c.NI,{variant:"primary",children:[(0,y.jsx)(c.lX,{variant:"primary",children:a("activate_card.expiry")}),(0,y.jsx)(k,{value:Z.expirationDate,onChange:function(a){return _((0,e.Z)((0,e.Z)({},Z),{},{expirationDate:a}))}})]})]})})}):null}}}]);
//# sourceMappingURL=7470.6afb1438.chunk.js.map