{"version":3,"file":"static/js/7422.978fcb23.chunk.js","mappings":"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","sources":["webpack://drop-in-ui/./src/views/crypto/sellCrypto/ExecuteSell/ExecuteSell.module.css?35e7","views/crypto/sellCrypto/ExecuteSell/ExecuteSell.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details_label\":\"ExecuteSell_details_label__V4Pxu\",\"desc\":\"ExecuteSell_desc__JvO0I\",\"details_value\":\"ExecuteSell_details_value__sh3of\"};","import React, {\n  useCallback, useEffect, useMemo, useState\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box, Button, Heading, Text, HStack, Link\n} from '@chakra-ui/react';\nimport { shallowEqual } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport MiniBox from '../../../../layout/MiniBox';\nimport { useAppAsyncDispatch, useAppSelector } from '../../../../hooks/store';\nimport { sellCrypto } from '../../../../store/middlewares/crypto';\n\nimport style from './ExecuteSell.module.css';\nimport { apiErrorHandler, currencyFormat } from '../../../../utils/general';\n\nconst ExecuteSell = () => {\n  const { t } = useTranslation();\n  const dispatch = useAppAsyncDispatch();\n  const navigate = useNavigate();\n\n  const { sellFormData, sellQuoteData } = useAppSelector((store) => store.crypto, shallowEqual);\n  const cryptoAccount = useAppSelector((store) => store.crypto.selectedAccount, shallowEqual);\n  const [timer, updateTimer] = useState(30);\n\n  const amount = useMemo(() => {\n    if (sellFormData?.type === 'amount') {\n      return `${sellQuoteData?.amount} ${sellQuoteData?.quotedCurrency}`;\n    }\n\n    const price = parseFloat(sellQuoteData?.price || '') * parseFloat(sellQuoteData?.quantity || '');\n    return currencyFormat(price, sellQuoteData?.quotedCurrency || 'USD');\n  }, [sellFormData]);\n\n  useEffect(() => {\n    const setTimeout = setInterval(() => {\n      updateTimer((v) => {\n        if (v === 0) {\n          clearInterval(setTimeout);\n          return 0;\n        }\n        return v - 1;\n      });\n    }, 1000);\n  }, []);\n\n  useEffect(() => {\n    if (timer === 0) {\n      navigate('/crypto/sell');\n    }\n  }, [timer]);\n\n  const onSubmit = useCallback(() => {\n    if (cryptoAccount && sellQuoteData && sellFormData) {\n      dispatch(sellCrypto({\n        walletId: cryptoAccount?.id, accountId: sellFormData.selectedAccount, quoteId: sellQuoteData.id, title: 'SELL CRYPTO', description: sellFormData?.description\n      })).then(() => {\n        navigate('/crypto/sell/success');\n      }).catch(apiErrorHandler);\n    }\n  }, [sellFormData, sellQuoteData, cryptoAccount]);\n\n  return (\n    <div className=\"page\">\n      <MiniBox\n        heading={t('crypto_sell_details.title')}\n        footer={(\n          <Button width=\"100%\" variant=\"primary\" onClick={onSubmit}>\n            {t('crypto_sell_details.ctaText')}\n          </Button>\n          )}\n      >\n        <Box width=\"100%\" paddingTop=\"15px\">\n          <Heading data-testid=\"status-title\" variant=\"primary\" textAlign=\"center\">\n            {t('crypto_sell_details.selling')}\n            {' '}\n            {sellQuoteData?.quantity}\n            {' '}\n            {sellFormData?.type === 'quantity' ? sellQuoteData?.cryptoCurrency : sellQuoteData?.quotedCurrency}\n          </Heading>\n          <Text className={`${style.desc} text-light`} variant=\"regular\" textAlign=\"center\">\n            {t('crypto_sell_details.anyQuestions')}\n            {' '}\n            <Link textDecoration=\"underline\" href=\"mailto:chat@solidfi.com\" style={{ color: 'inherit', textDecoration: 'underline' }} isExternal>chat@solidfi.com</Link>\n          </Text>\n          <Box className={style.details_label}>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.source')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">\n                {cryptoAccount?.label}\n                <br />\n                <span>\n                  {cryptoAccount?.id}\n                </span>\n              </Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.destination')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">\n                {sellFormData?.selectedAccountLabel}\n                <br />\n                <span>\n                  {sellFormData?.selectedAccount}\n                </span>\n              </Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_buy_details.quoteId')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{sellQuoteData?.id}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.quantity')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{sellQuoteData?.quantity}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.amount')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">\n                {amount}\n              </Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.exchangeRate')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{`1 ${sellQuoteData?.cryptoCurrency} = ${sellQuoteData?.price} ${sellQuoteData?.quotedCurrency}`}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.fee')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">$0</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.description')}</Text>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\">{sellFormData?.description}</Text>\n            </HStack>\n            <HStack className={style.details_value}>\n              <Text w=\"50%\" variant=\"regular\" textAlign=\"left\" className=\"text-light\">{t('crypto_sell_details.quoteExpiresIn')}</Text>\n              <Text w=\"50%\" variant=\"small\" color=\"#FF4A4A\" textAlign=\"left\">\n                00:\n                { (`${timer}`).length === 1 ? (`0${timer}`) : timer }\n              </Text>\n            </HStack>\n          </Box>\n          <Text variant=\"small\" whiteSpace=\"pre-line\" fontSize=\"9px\" textAlign=\"left\">{t('crypto_sell_details.poweredBy')}</Text>\n        </Box>\n      </MiniBox>\n    </div>\n  );\n};\n\nexport default ExecuteSell;\n"],"names":["t","useTranslation","dispatch","useAppAsyncDispatch","navigate","useNavigate","_useAppSelector","useAppSelector","store","crypto","shallowEqual","sellFormData","sellQuoteData","cryptoAccount","selectedAccount","_useState","useState","_useState2","_slicedToArray","timer","updateTimer","amount","useMemo","type","concat","quotedCurrency","price","parseFloat","quantity","currencyFormat","useEffect","setTimeout","setInterval","v","clearInterval","onSubmit","useCallback","sellCrypto","walletId","id","accountId","quoteId","title","description","then","catch","apiErrorHandler","_jsx","className","children","MiniBox","heading","footer","Button","width","variant","onClick","_jsxs","Box","paddingTop","Heading","textAlign","cryptoCurrency","Text","style","Link","textDecoration","href","color","isExternal","HStack","w","label","selectedAccountLabel","length","whiteSpace","fontSize"],"sourceRoot":""}