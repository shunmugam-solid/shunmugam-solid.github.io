{"version":3,"file":"static/js/9551.3e5dc812.chunk.js","mappings":"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","sources":["webpack://drop-in-ui/./src/views/ao/Kyb/AddOwners/AddOwners.module.css?cbee","views/ao/Kyb/AddOwners/AddOwners.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"addOwners\":\"AddOwners_addOwners__F2ERY\",\"percentageValue\":\"AddOwners_percentageValue__D0W+u\",\"owners\":\"AddOwners_owners__MN4eu\",\"owner\":\"AddOwners_owner__KdZDg\"};","import React, {\n  useCallback, useEffect, useMemo\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box, Button, Text, Flex\n} from '@chakra-ui/react';\nimport { shallowEqual } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport MiniBox from '../../../../layout/MiniBox';\nimport css from './AddOwners.module.css';\nimport { useAppAsyncDispatch, useAppSelector } from '../../../../hooks/store';\nimport { getAllOwners } from '../../../../store/middlewares/business';\nimport { updateSelectedBusinessOwner } from '../../../../store/actionCreators/business';\nimport { businessOwner } from '../../../../types/business';\nimport Icon from '../../../../components/Icon';\n\n/**\n * Kyb List owners - Component for showing the list of owners with ownership percentage of the business.\n * @module KYB\n * @returns {JSX.Element}\n */\nconst AddOwners = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const dispatch = useAppAsyncDispatch();\n\n  const owners = useAppSelector((store) => store.business.owners, shallowEqual);\n  const business = useAppSelector((store) => store.business.selectedBusiness, shallowEqual);\n\n  // eslint-disable-next-line radix\n  const totalOwnership = useMemo(() => owners.reduce((total, o) => total + parseInt(o.ownership), 0), [owners]);\n\n  const onOwnerSelect = useCallback((o: businessOwner) => {\n    dispatch(updateSelectedBusinessOwner(o));\n    setTimeout(() => {\n      navigate('/ao/kyb/ownerDetails');\n    }, 0);\n  }, []);\n\n  useEffect(() => {\n    if (business) {\n      dispatch(getAllOwners(business.id));\n    }\n  }, [business]);\n\n  return (\n    <div className=\"page\">\n      <form onSubmit={(e) => {\n        e.preventDefault();\n        if (totalOwnership !== 0) {\n          navigate('/ao/kyb/approved');\n        }\n      }}\n      >\n        <MiniBox\n          varient=\"box\"\n          heading={t('add_owners.title')}\n          showBack\n          onBack={() => {\n            navigate(-1);\n          }}\n          footer={(\n            <Box>\n              <Text variant=\"small\" pb=\"16px\">{t('add_owners.toHelp')}</Text>\n              <Button\n                width=\"100%\"\n                variant=\"primary\"\n                type=\"submit\"\n                disabled={totalOwnership === 0}\n              >\n                {t('add_owners.ctaText')}\n              </Button>\n            </Box>\n)}\n        >\n          <Box width=\"100%\">\n            <Text variant=\"large\">{t('add_owners.ownerGreaterThan')}</Text>\n\n            <Box data-testid=\"owners-list\" className={css.owners}>\n              {owners.map((o, i) => (\n                <Box\n                  data-testid={`owners-data-${i + 1}`}\n                  key={`owner-${o.id}`}\n                  className={css.owner}\n                  onClick={() => {\n                    onOwnerSelect(o);\n                  }}\n                >\n                  <Text variant=\"regular\" textAlign=\"left\">\n                    {o.person.firstName}\n                    {' '}\n                    {o.person.lastName}\n                  </Text>\n                  <Text variant=\"regular\" textAlign=\"right\" className=\"text-dark\">\n                    {o.ownership}\n                    %\n                  </Text>\n                </Box>\n              ))}\n            </Box>\n            {totalOwnership <= 75 ? (\n              <Box pt=\"15px\" data-testid=\"add-owner\">\n                <Text variant=\"large\">{t('add_owners.addOwners')}</Text>\n                <Box onClick={() => {\n                  dispatch(updateSelectedBusinessOwner(null));\n                  navigate('/ao/kyb/ownerDetails');\n                }}\n                >\n                  <Flex className={css.addOwners}>\n                    <Text variant=\"regular\" textAlign=\"left\">{t('add_owners.addOwnersGreaterThan')}</Text>\n                    <Icon icon=\"Arrow-small-right\" size={12} className=\"svg-light-grey-1\" />\n                  </Flex>\n                </Box>\n              </Box>\n            ) : null }\n\n          </Box>\n        </MiniBox>\n      </form>\n    </div>\n  );\n};\n\nexport default AddOwners;\n"],"names":["t","useTranslation","navigate","useNavigate","dispatch","useAppAsyncDispatch","owners","useAppSelector","store","business","shallowEqual","selectedBusiness","totalOwnership","useMemo","reduce","total","o","parseInt","ownership","onOwnerSelect","useCallback","updateSelectedBusinessOwner","setTimeout","useEffect","getAllOwners","id","_jsx","className","children","onSubmit","e","preventDefault","MiniBox","varient","heading","showBack","onBack","footer","_jsxs","Box","Text","variant","pb","Button","width","type","disabled","css","map","i","concat","onClick","textAlign","person","firstName","lastName","pt","Flex","Icon","icon","size"],"sourceRoot":""}