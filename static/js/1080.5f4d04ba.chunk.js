"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[1080],{5744:function(n,t,e){e(2791);var r=e(5798),a=e(184);t.Z=function(n){var t=n.value,e=n.placeholder,i=n.onChange;return(0,a.jsx)(r.II,{type:"number",variant:"primary",value:t,"data-testid":"percentage-input",placeholder:e,onChange:function(n){if(!n.target.value.startsWith("0")){var t=parseInt(n.target.value);if(!(t>100)){var e=!Number.isNaN(t)&&t>25;i(t,e)}}}})}},5808:function(n,t,e){e.d(t,{$N:function(){return s},Ny:function(){return i},T8:function(){return o},Z2:function(){return a}});var r=e(3152),a=function(n){return{type:r.km,payload:n}},i=function(n){return{type:r.z0,payload:n}},o=function(n){return{type:r.KY,payload:n}},s=function(n){return{type:r.fY,payload:n}}},9270:function(n,t,e){e.d(t,{Am:function(){return c},NB:function(){return u},RG:function(){return p},XD:function(){return h},gb:function(){return l},lM:function(){return f},mi:function(){return s},vd:function(){return d},zL:function(){return o}});var r=e(80),a=e(286),i=e(5808),o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return new Promise((function(o,s){(0,r.V_)(!0);var c="v1/business?include=accounts&limit=".concat(n,"&offset=").concat(t);a.Z.get(c).then((function(n){var t=n.data;e((0,i.Z2)(t.data)),o(t)})).catch((function(n){n.response&&n.response.data?s(n.response.data):s(n)})).finally((function(){(0,r.V_)(!1)}))}))}},s=function(n){return function(t){return new Promise((function(e,o){(0,r.V_)(!0),a.Z.post("v1/business",n).then((function(n){var r=n.data;t((0,i.Ny)(r)),e(r)})).catch((function(n){n.response&&n.response.data?o(n.response.data):o(n)})).finally((function(){(0,r.V_)(!1)}))}))}},c=function(n,t){return function(e){return new Promise((function(o,s){(0,r.V_)(!0),a.Z.patch("v1/business/".concat(n),t).then((function(n){var t=n.data;e((0,i.Ny)(t)),o(t)})).catch((function(n){n.response&&n.response.data?s(n.response.data):s(n)})).finally((function(){(0,r.V_)(!1)}))}))}},u=function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){return new Promise((function(e,i){t&&(0,r.V_)(!0);var o="v1/business/".concat(n);a.Z.get(o).then((function(n){var t=n.data;e(t)})).catch((function(n){n.response&&n.response.data?i(n.response.data):i(n)})).finally((function(){t&&(0,r.V_)(!1)}))}))}},f=function(n){return function(t){return new Promise((function(e,o){(0,r.V_)(!0),a.Z.get("v1/owner?businessId=".concat(n)).then((function(n){var r=n.data;t((0,i.T8)(r.data)),e(r)})).catch((function(n){n.response&&n.response.data?o(n.response.data):o(n)})).finally((function(){(0,r.V_)(!1)}))}))}},l=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),a.Z.post("v1/business/".concat(n,"/kyb"),{businessId:n}).then((function(n){var e=n.data;t(e)})).catch((function(n){n.response&&n.response.data?e(n.response.data):e(n)})).finally((function(){(0,r.V_)(!1)}))}))}},p=function(n,t){return function(){return new Promise((function(e,i){(0,r.V_)(!0),a.Z.patch("v1/owner/".concat(n),t).then((function(n){var t=n.data;e(t)})).catch((function(n){n.response&&n.response.data?i(n.response.data):i(n)})).finally((function(){(0,r.V_)(!1)}))}))}},d=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),a.Z.post("v1/owner",n).then((function(n){var e=n.data;t(e)})).catch((function(n){n.response&&n.response.data?e(n.response.data):e(n)})).finally((function(){(0,r.V_)(!1)}))}))}},h=function(n){return function(){return new Promise((function(t,e){(0,r.V_)(!0),a.Z.post("v1/owner/".concat(n,"/kyc")).then((function(n){var e=n.data;t(e)})).catch((function(n){n.response&&n.response.data?e(n.response.data):e(n)})).finally((function(){(0,r.V_)(!1)}))}))}}},1080:function(n,t,e){e.r(t),e.d(t,{default:function(){return g}});var r=e(9439),a=e(2791),i=e(2020),o=e(1938),s=e(8735),c=e(2504),u=e(9743),f=e(3393),l=e(5048),p=e(7689),d=e(5649),h="YourOwnerShip_sendByCardContainer__J1tVm",v=e(5304),m=e(9270),y=e(80),_=e(5744),b=e(184),g=function(){var n=(0,i.$)().t,t=(0,p.s0)(),e=(0,a.useState)(!1),g=(0,r.Z)(e,2),w=g[0],x=g[1],k=(0,a.useState)(""),j=(0,r.Z)(k,2),N=j[0],V=j[1],C=(0,v.Qo)(),P=(0,o.mq)("FormControl",{variant:"primary"}),Z=(0,v.CG)((function(n){return n.business}),l.wU),S=Z.owners,I=Z.selectedBusiness,O=(0,a.useMemo)((function(){return!w||!Number.isNaN(N)&&""!==N&&N>=25&&N<=100}),[N,w]);(0,a.useEffect)((function(){I&&C((0,m.lM)(I.id))}),[I]),(0,a.useEffect)((function(){0!==S.length&&parseInt(S[0].ownership)>=25&&(x(!0),V(parseInt(S[0].ownership)))}),[S]);var E=(0,a.useCallback)((function(){0!==S.length&&O&&C((0,m.RG)(S[0].id,{ownership:"".concat(w?N:0)})).then((function(){t("/ao/kyb/ownersList")})).catch(y.WH)}),[N,S,w,O]);return(0,b.jsx)("div",{className:"page",children:(0,b.jsx)("form",{onSubmit:function(n){n.preventDefault(),E()},children:(0,b.jsx)(d.Z,{varient:"box",heading:n("your_ownership.title"),footer:(0,b.jsxs)(s.xu,{children:[(0,b.jsx)(s.xv,{variant:"small",pb:"16px",children:n("your_ownership.toHelp")}),(0,b.jsx)(c.zx,{"data-testid":"submit-btn",disabled:!O,width:"100%",variant:"primary",type:"submit",children:n("your_ownership.ctaText")})]}),children:(0,b.jsxs)(s.xu,{width:"100%",children:[(0,b.jsxs)(s.kC,{className:h,children:[(0,b.jsxs)(s.xu,{children:[(0,b.jsx)(s.xv,{"data-testid":"title",variant:"large",textAlign:"left",children:n("your_ownership.yourOwnership")}),(0,b.jsx)(s.xv,{"data-testid":"description",variant:"regular",pr:"100px",className:"text-light",textAlign:"left",children:n("your_ownership.moreThan25")})]}),(0,b.jsx)(u.r,{"data-testid":"toggle-switch",variant:"primary",id:"send-by-email",isChecked:w,onChange:function(){x(!w)}})]}),w?(0,b.jsxs)(f.NI,{variant:"primary",style:P,children:[(0,b.jsx)(f.lX,{variant:"primary",children:n("your_ownership.enterPercentage")}),(0,b.jsx)(_.Z,{placeholder:"0%",value:N,onChange:V})]}):null]})})})})}},9743:function(n,t,e){e.d(t,{r:function(){return u}});var r=e(5420),a=e(1938),i=e(6831),o=e(2791);function s(){return s=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s.apply(this,arguments)}var c=["spacing","children"],u=(0,a.Gp)((function(n,t){var e=(0,a.jC)("Switch",n),u=(0,a.Lr)(n),f=u.spacing,l=void 0===f?"0.5rem":f,p=u.children,d=function(n,t){if(null==n)return{};var e,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(a[e]=n[e]);return a}(u,c),h=(0,r.O)(d),v=h.state,m=h.getInputProps,y=h.getCheckboxProps,_=h.getRootProps,b=h.getLabelProps,g=o.useMemo((function(){return s({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0},e.container)}),[e.container]),w=o.useMemo((function(){return s({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},e.track)}),[e.track]),x=o.useMemo((function(){return s({userSelect:"none",marginStart:l},e.label)}),[l,e.label]);return o.createElement(a.m$.label,s({},_(),{className:(0,i.cx)("chakra-switch",n.className),__css:g}),o.createElement("input",s({className:"chakra-switch__input"},m({},t))),o.createElement(a.m$.span,s({},y(),{className:"chakra-switch__track",__css:w}),o.createElement(a.m$.span,{__css:e.thumb,className:"chakra-switch__thumb","data-checked":(0,i.PB)(v.isChecked),"data-hover":(0,i.PB)(v.isHovered)})),p&&o.createElement(a.m$.span,s({className:"chakra-switch__label"},b(),{__css:x}),p))}));i.Ts&&(u.displayName="Switch")}}]);
//# sourceMappingURL=1080.5f4d04ba.chunk.js.map