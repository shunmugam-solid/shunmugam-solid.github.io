"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[4242],{1023:function(e,n,t){var r=t(2791),i=t(5798),c=t(4398),a=t.n(c),o=t(184);n.Z=function(e){var n=e.onChange,t=e.value,c=e.placeholder,u=e.prefix,l=e.digits,s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){s.current&&a()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==u&&void 0!==u?u:"$ ",placeholder:c,rightAlign:!1,digits:l,numericInput:!0}).mask(s.current)}),[u,l,c]),(0,o.jsx)(i.II,{"data-testid":"currency-input",variant:"primary",placeholder:c||"$ 0.00",ref:s,onChange:function(e){var t=e.target.value;n(t)},value:t})}},4126:function(e,n,t){t.d(n,{D:function(){return i},p:function(){return c}});var r=t(552),i=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"quantity",i=r.Z.getState().crypto.supportedCurrencies.data.find((function(n){return n.currency===e}));if(i){var c=i.limits[n];return"quantity"===t?c.minimumQty:c.minimumAmount||"0"}return"0"},c=function(e,n){var t=r.Z.getState().crypto.supportedCurrencies.data.find((function(n){return n.currency===e}));if(t){var i,c,a=(null===(i=t.limits[n].minimumQty)||void 0===i||null===(c=i.split(".")[1])||void 0===c?void 0:c.length)||2;return 0!==a?a:2}return 6}},4242:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(9439),i=t(2791),c=t(2020),a=t(1938),o=t(2504),u=t(8735),l=t(3393),s=t(7640),d=t(5798),p=t(5048),f=t(7689),h=t(5649),m="BuyAmount_inputRightElement__C0QSQ",v="BuyAmount_currencyInput__F2zEM",y=t(9578),g=t(5304),x=t(3741),_=t(4126),b=t(3717),j=t(80),C=t(2966),S=t(1778),E=t(2942),w=t(1023),k=t(184),N=function(){var e=(0,c.$)().t,n=(0,g.Qo)(),t=(0,f.s0)(),N=(0,a.mq)("FormControl",{variant:"primary"}),I=(0,S._f)("buyCrypto").showBack,A=(0,g.CG)((function(e){return e.account}),p.wU),Z=A.accounts,q=A.selectedAccount,B=(0,g.CG)((function(e){return e.crypto}),p.wU),M=B.selectedAccount,z=B.supportedCurrencies,P=(0,i.useState)((null===q||void 0===q?void 0:q.id)||""),H=(0,r.Z)(P,2),D=H[0],O=H[1],Q=(0,i.useState)(""),$=(0,r.Z)(Q,2),G=$[0],T=$[1],U=(0,i.useState)("quantity"),F=(0,r.Z)(U,2),L=F[0],R=F[1],X=(0,i.useState)(""),Y=(0,r.Z)(X,2),V=Y[0],W=Y[1],K=(0,i.useMemo)((function(){return Z.filter((function(e){return"cardAccount"!==e.type}))}),[Z]),J=(0,i.useMemo)((function(){return"quantity"===L&&null!==M&&void 0!==M&&M.currency?(0,_.p)(null===M||void 0===M?void 0:M.currency,"buy"):2}),[L,M,z]),ee=(0,i.useMemo)((function(){return null!==M&&void 0!==M&&M.currency?(0,_.D)(null===M||void 0===M?void 0:M.currency,"buy",L):0}),[L,M,z]),ne=(0,i.useMemo)((function(){return"0.".concat("0".repeat(J))}),[J]),te=(0,i.useMemo)((function(){return""!==G&&parseFloat(G)>0&&""!==L&&""!==D&&""!==V}),[G,L,D,V]);(0,i.useEffect)((function(){n((0,b._Y)())}),[]),(0,i.useEffect)((function(){n((0,x.Sg)(null,void 0,50))}),[]);var re=(0,i.useCallback)((function(){te&&M&&n((0,b.kC)({walletId:M.id,cryptoCurrency:M.currency,amount:"amount"===L?G:void 0,quantity:"quantity"===L?G:void 0})).then((function(){var e;n((0,C.jm)({selectedAccount:D,selectedAccountLabel:(null===(e=K.find((function(e){return e.id===D})))||void 0===e?void 0:e.label)||"",amount:G,type:L,description:V})),t("/crypto/buy/preview")})).catch(j.WH)}),[te,G,L,D,V,null===M||void 0===M?void 0:M.currency]);return(0,k.jsx)("div",{className:"page",children:(0,k.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),re()},children:(0,k.jsx)(h.Z,{showBack:I,heading:e("crypto_buy_account.title"),footer:(0,k.jsx)(o.zx,{type:"submit",width:"100%",variant:"primary",disabled:!te,children:e("crypto_buy_account.ctaText")}),onBack:function(){(0,y.bG)(E.CW.BACK_PRESSED,{from:"buyCrypto"})},children:(0,k.jsxs)(u.xu,{width:"100%",paddingTop:"15px",children:[(0,k.jsxs)(l.NI,{variant:"primary",style:N,children:[(0,k.jsx)(l.lX,{variant:"primary",children:e("crypto_buy_account.fundingAccount")}),(0,k.jsx)(s.Ph,{placeholder:e("crypto_buy_account.select"),variant:"primary",value:D,onChange:function(e){return O(e.target.value)},children:K.map((function(e){return(0,k.jsx)("option",{value:e.id,children:e.label},"account-".concat(e.id))}))})]}),(0,k.jsxs)(l.NI,{variant:"primary",style:N,children:[(0,k.jsx)(l.lX,{variant:"primary",children:e("crypto_buy_account.amountQuantity")}),(0,k.jsxs)(d.BZ,{className:v,children:[(0,k.jsx)(w.Z,{prefix:"",digits:J,value:G,placeholder:ne,onChange:function(e){T(e)}}),(0,k.jsx)(d.xH,{className:m,children:(0,k.jsxs)(s.Ph,{boxShadow:"none !important",outline:"none",fontSize:"14px",border:"0",value:L,onChange:function(e){return R(e.target.value)},children:[(0,k.jsx)("option",{value:"quantity",children:null===M||void 0===M?void 0:M.currency}),(0,k.jsx)("option",{value:"amount",children:"USD"})]})})]}),(0,k.jsx)(u.xv,{variant:"small",className:"text-light",textAlign:"right",children:"Min: ".concat(ee," ").concat("quantity"===L?null===M||void 0===M?void 0:M.currency:"USD")})]}),(0,k.jsxs)(l.NI,{variant:"primary",style:N,children:[(0,k.jsx)(l.lX,{variant:"primary",children:e("crypto_buy_account.desc")}),(0,k.jsx)(d.II,{value:V,placeholder:e("crypto_buy_account.desc"),variant:"primary",onChange:function(e){return W(e.target.value)}})]})]})})})})}},7640:function(e,n,t){t.d(n,{Ph:function(){return v}});var r=t(3393),i=t(1938),c=t(7160),a=t(6831),o=t(6198),u=t.n(o),l=t(2791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var p=["children","placeholder","className"],f=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],h=["children"],m=(0,i.Gp)((function(e,n){var t=e.children,r=e.placeholder,c=e.className,o=d(e,p);return l.createElement(i.m$.select,s({},o,{ref:n,className:(0,a.cx)("chakra-select",c)}),r&&l.createElement("option",{value:""},r),t)}));a.Ts&&(m.displayName="SelectField");var v=(0,i.Gp)((function(e,n){var t=(0,i.jC)("Select",e),o=(0,i.Lr)(e),p=o.rootProps,h=o.placeholder,v=o.icon,y=o.color,g=o.height,_=o.h,b=o.minH,j=o.minHeight,C=o.iconColor,S=o.iconSize,E=d(o,f),w=(0,a.Vl)(E,c.oE),k=w[0],N=w[1],I=(0,r.Yp)(N),A={width:"100%",height:"fit-content",position:"relative",color:y},Z=u()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return l.createElement(i.m$.div,s({className:"chakra-select__wrapper",__css:A},k,p),l.createElement(m,s({ref:n,height:null!=_?_:g,minH:null!=b?b:j,placeholder:h},I,{__css:Z}),e.children),l.createElement(x,s({"data-disabled":(0,a.PB)(I.disabled)},(C||y)&&{color:C||y},{__css:t.icon},S&&{fontSize:S}),v))}));a.Ts&&(v.displayName="Select");var y=function(e){return l.createElement("svg",s({viewBox:"0 0 24 24"},e),l.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},g=(0,i.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),x=function(e){var n=e.children,t=void 0===n?l.createElement(y,null):n,r=d(e,h),i=l.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return l.createElement(g,s({},r,{className:"chakra-select__icon-wrapper"}),l.isValidElement(t)?i:null)};a.Ts&&(x.displayName="SelectIcon")}}]);
//# sourceMappingURL=4242.8a3c3126.chunk.js.map