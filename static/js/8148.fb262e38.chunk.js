"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[8148],{1023:function(e,t,a){var n=a(2791),r=a(5798),i=a(4398),s=a.n(i),l=a(184);t.Z=function(e){var t=e.onChange,a=e.value,i=e.placeholder,o=e.prefix,c=e.digits,d=(0,n.useRef)(null);return(0,n.useLayoutEffect)((function(){d.current&&s()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==o&&void 0!==o?o:"$ ",placeholder:i,rightAlign:!1,digits:c,numericInput:!0}).mask(d.current)}),[o,c,i]),(0,l.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:d,onChange:function(e){var a=e.target.value;t(a)},value:a})}},219:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(1413),r=a(2791),i=a(5048),s=a(1951),l=a(3629),o=a(4565),c=a(5719),d=a(4888),u=a(5304),m=a(7514),x=a(9439),h=a(2504),f=a(8735),y=a(3445),p=a(3393),v=a(2020),j=a(9513),g=a.n(j),D=a(5649),k=a(4144),T="TransactionFilter_filter_header__a8wBs",M="TransactionFilter_input_picker__+ZtyG",C="TransactionFilter_amountInputs__PwwNL",N=(a(8639),a(1023)),Z=a(184),b=function(e){var t=e.showTransactionTypeFilter,a=e.showTimePeriodFilter,i=e.showAmountFilter,s=(e.showCardsFilter,e.filters),l=e.onApply,o=(0,v.$)().t,c=(0,r.useState)(!1),d=(0,x.Z)(c,2),u=d[0],m=d[1],j=(0,r.useState)(!1),b=(0,x.Z)(j,2),w=b[0],_=b[1],S=(0,r.useState)(!1),z=(0,x.Z)(S,2),F=z[0],A=z[1],P=(0,r.useState)(!1),I=(0,x.Z)(P,2),Y=(I[0],I[1],(0,r.useState)(new Date)),U=(0,x.Z)(Y,2),E=U[0],B=U[1],W=(0,r.useState)(new Date),R=(0,x.Z)(W,2),X=R[0],L=R[1],$=(0,r.useState)(),G=(0,x.Z)($,2),H=G[0],O=G[1],Q=(0,r.useState)(),q=(0,x.Z)(Q,2),J=q[0],K=q[1],V=(0,r.useState)({physical:!1,virtual:!0}),ee=(0,x.Z)(V,2),te=(ee[0],ee[1],(0,r.useState)({min:"",max:""})),ae=(0,x.Z)(te,2),ne=ae[0],re=ae[1];return(0,r.useEffect)((function(){s&&(s.transactionType&&O(s.transactionType),s.timePeriod&&K(s.timePeriod),s.amount&&re(s.amount),s.startDate&&B(new Date(s.startDate)),s.endDate&&L(new Date(s.endDate)))}),[s]),(0,Z.jsx)("div",{className:"page",children:(0,Z.jsx)(D.Z,{heading:"Filter",showBack:!0,footer:(0,Z.jsx)(h.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",onClick:function(){l&&l({transactionType:H,timePeriod:J,amount:ne,startDate:E,endDate:X})},children:o("filter.ctaText")}),children:(0,Z.jsxs)(f.xu,{children:[t?(0,Z.jsxs)(f.xu,{"data-testid":"transaction-type-filter",children:[(0,Z.jsxs)(f.Ug,{className:T,onClick:function(){return m(!u)},children:[(0,Z.jsx)(f.xv,{variant:"large",children:o("filter.transactionType")}),u?(0,Z.jsx)(k.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,Z.jsx)(k.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,Z.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:u?(0,Z.jsx)(y.Ee,{onChange:function(e){return e&&O(e)},value:H,children:(0,Z.jsxs)(f.gC,{alignItems:"flex-start",pb:"20px",children:[(0,Z.jsx)(y.Y8,{value:"credit",variant:"primary",children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.credits")})}),(0,Z.jsx)(y.Y8,{variant:"primary",value:"debit",children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.debits")})}),(0,Z.jsx)(y.Y8,{variant:"primary",value:"card",children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.cardTransactions")})})]})}):null})]}):null,a?(0,Z.jsxs)(f.xu,{"data-testid":"date-filter",children:[(0,Z.jsxs)(f.Ug,{className:T,onClick:function(){return _(!w)},children:[(0,Z.jsx)(f.xv,{variant:"large",children:o("filter.timePeriod")}),w?(0,Z.jsx)(k.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,Z.jsx)(k.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,Z.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:w?(0,Z.jsx)(y.Ee,{children:(0,Z.jsxs)(f.gC,{alignItems:"flex-start",pb:"20px",children:[(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return K("thisWeek"===J?void 0:"thisWeek")},isChecked:"thisWeek"===J,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.thisWeek")})}),(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return K("thisMonth"===J?void 0:"thisMonth")},isChecked:"thisMonth"===J,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.thisMonth")})}),(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return K("lastMonth"===J?void 0:"lastMonth")},isChecked:"lastMonth"===J,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.lastMonth")})}),(0,Z.jsx)(y.Y8,{variant:"primary",onChange:function(){return K("custom"===J?void 0:"custom")},isChecked:"custom"===J,children:(0,Z.jsx)(f.xv,{variant:"regular",className:"text-dark",children:o("filter.custom")})}),"custom"===J?(0,Z.jsxs)(f.Ug,{pt:"20px",children:[(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.from")}),(0,Z.jsx)(g(),{className:M,selected:E,onChange:function(e){return B(e)},placeholderText:o("filter.startDate")})]}),(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.to")}),(0,Z.jsx)(g(),{className:M,selected:X,onChange:function(e){return L(e)},placeholderText:o("filter.endDate")})]})]}):null]})}):null})]}):null,i?(0,Z.jsxs)(f.xu,{"data-testid":"amount-filter",children:[(0,Z.jsxs)(f.Ug,{className:T,onClick:function(){return A(!F)},children:[(0,Z.jsx)(f.xv,{variant:"large",children:o("filter.amount")}),F?(0,Z.jsx)(k.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,Z.jsx)(k.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,Z.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:F?(0,Z.jsxs)(f.Ug,{className:C,children:[(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.from")}),(0,Z.jsx)(N.Z,{value:ne.min,onChange:function(e){return re((0,n.Z)((0,n.Z)({},ne),{},{min:e||""}))}})]}),(0,Z.jsxs)(p.NI,{variant:"primary",children:[(0,Z.jsx)(p.lX,{variant:"primary",children:o("filter.to")}),(0,Z.jsx)(N.Z,{value:ne.max,onChange:function(e){return re((0,n.Z)((0,n.Z)({},ne),{},{max:e||""}))}})]})]}):null})]}):null,null]})})})},w=a(4661),_=a(3692),S=function(){var e=(0,u.CG)((function(e){return e.transaction.filters.tmpStates}),i.wU),t=(0,u.Qo)(),a=(0,w.y)().close,x=(0,r.useMemo)((function(){var t={},a=(0,n.Z)({},e);return"credit"!==t.txnType&&"debit"!==t.txnType&&"card"!==t.txnType||(a.transactionType=t.txnType),t.startDate&&(a.startDate=t.startDate),t.endDate&&(a.endDate=t.endDate),t.timePeriod&&(a.timePeriod=t.timePeriod),t.minAmount&&(a.amount.min=t.minAmount),t.maxAmount&&(a.amount.max=t.maxAmount),a}),[e]);return(0,Z.jsx)(b,{showAmountFilter:!0,showCardsFilter:!0,showTimePeriodFilter:!0,showTransactionTypeFilter:!0,filters:x,onApply:function(e){var n=e.transactionType,r=e.amount,i=e.timePeriod,u=e.startDate,x=e.endDate,h={};"credit"!==n&&"debit"!==n&&"card"!==n||(h.txnType=n);var f=new Date,y=new Date(f.getFullYear(),f.getMonth(),0);switch(i){case"thisWeek":h.startDate=(0,s.default)((0,l.default)(f),"yyyy-MM-dd"),h.endDate=(0,s.default)((0,o.default)(f),"yyyy-MM-dd");break;case"thisMonth":h.startDate=(0,s.default)((0,c.default)(f),"yyyy-MM-dd"),h.endDate=(0,s.default)((0,d.default)(f),"yyyy-MM-dd");break;case"lastMonth":h.startDate=(0,s.default)((0,c.default)(y),"yyyy-MM-dd"),h.endDate=(0,s.default)((0,d.default)(y),"yyyy-MM-dd");break;case"custom":h.startDate=(0,s.default)(u,"yyyy-MM-dd"),h.endDate=(0,s.default)(x,"yyyy-MM-dd")}""!==r.min&&(h.minAmount=r.min),""!==r.max&&(h.maxAmount=r.max),t((0,m.L5)({data:h,tmpStates:{transactionType:n,amount:r,timePeriod:i,startDate:u,endDate:x}})),setTimeout((function(){_.T.dispatch(_.z.TRANSACTION_REFRESH,{data:h,tmpStates:{transactionType:n,amount:r,timePeriod:i,startDate:u,endDate:x}})}),0),a()}})}}}]);
//# sourceMappingURL=8148.fb262e38.chunk.js.map