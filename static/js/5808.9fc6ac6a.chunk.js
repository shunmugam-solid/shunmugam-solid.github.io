"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[5808],{6864:function(n,e,a){a.d(e,{Z:function(){return u}});a(2791);var c=a(4946),t=a(8735),r=a(2504),s="ConfirmModal_modal__fS-v4",i="ConfirmModal_modalHeader__M3BcQ",o="ConfirmModal_modalBody__uHbgc",l="ConfirmModal_modalClose__Xh2Cs",d=a(184),u=function(n){var e=n.title,a=n.description,u=n.cancelButton,x=n.submitButton,f=n.showModal,h=n.onCancel,_=n.onOk;return(0,d.jsxs)(c.u_,{isOpen:f,size:"sm",isCentered:!0,onClose:function(){return h},children:[(0,d.jsx)(c.ZA,{}),(0,d.jsxs)(c.hz,{className:"".concat(s),children:[(0,d.jsx)(c.xB,{className:"".concat(i),children:e}),(0,d.jsx)(c.ol,{onClick:h,className:"".concat(l)}),(0,d.jsx)(c.fe,{className:"".concat(o),children:(0,d.jsx)(t.xv,{children:a})}),(0,d.jsxs)(c.mz,{children:[(0,d.jsx)(r.zx,{colorScheme:"branding",variant:"outline",mr:3,onClick:h,children:u||"Cancel"}),(0,d.jsx)(r.zx,{onClick:_,variant:"primary",children:x||"Submit"})]})]})]})}},2872:function(n,e,a){a.r(e),a.d(e,{default:function(){return z}});var c=a(9439),t=a(2791),r=a(2020),s=a(8735),i=a(5798),o=a(5048),l=a(4771),d=a(4144),u=a(8709),x=a(5304),f=a(7208),h=a(80),_=a(3046),m=a(2504),j=a(1098),v=a(6864),p=a(2019),C=a(184),g=t.memo((function(n){var e=n.data,a=n.onRefresh,i=e,l=(0,r.$)().t,d=(0,x.Qo)(),u=(0,t.useState)(!1),g=(0,c.Z)(u,2),b=g[0],Z=g[1],N=(0,x.CG)((function(n){return n.core.programConfig}),o.wU),S=(0,t.useMemo)((function(){return null===N||void 0===N?void 0:N.brand.cardArtVirtual}),[i,N]),w=(0,t.useCallback)((function(){d((0,f.M_)(i.id)).then((function(){Z(!1),(0,h.c0)("Success","Sent card successfully cancelled","success"),a()})).catch(h.WH)}),[f.M_,h.c0,h.WH]);return(0,C.jsxs)(s.xu,{className:"".concat(j.Z.card_image_info," ").concat(j.Z.cardList__card_image_info_white," ").concat(j.Z.sent_card," ").concat("active"!==i.cardStatus?j.Z.is_cancelled:""),children:[(0,C.jsx)(_.Ee,{className:j.Z.card_image,alt:"logo",src:S,fallbackSrc:p.Z,"data-testid":"card-img"}),(0,C.jsxs)(s.xu,{className:j.Z.card_details,children:[(0,C.jsxs)(s.xu,{pt:"14px",pb:"18px",mb:"auto",children:[(0,C.jsx)(s.xv,{color:"#ffffff",fontWeight:"500",fontSize:"10px",children:l("cards_list.virtual")}),(0,C.jsxs)(s.xv,{color:"#A1A1A1",fontSize:"10px",children:["$"," ",i.availableLimit]})]}),(0,C.jsxs)(s.xv,{color:"#ffffff",fontWeight:"700",fontSize:"15px",pb:"8px",children:["**** **** ****"," ",i.last4]}),(0,C.jsxs)(s.Ug,{children:[(0,C.jsxs)(s.xu,{alignItems:"flex-start",mr:"40px",children:[(0,C.jsx)(s.xv,{color:"#A1A1A1",fontSize:"10px",children:l("cards_list.expDate")}),(0,C.jsxs)(s.xv,{color:"#ffffff",fontSize:"13px",children:[i.expiryMonth,"/",i.expiryYear]})]}),(0,C.jsxs)(s.xu,{alignItems:"flex-start",children:[(0,C.jsx)(s.xv,{color:"#A1A1A1",fontSize:"10px",children:l("cards_list.cvv")}),(0,C.jsx)(s.xv,{color:"#ffffff",fontSize:"13px",children:i.expiryYear})]})]}),(0,C.jsx)(s.xu,{mt:"auto",children:(0,C.jsx)(s.xv,{color:"#ffffff",fontWeight:"700",fontSize:"9px",children:i.label})})]}),"active"===i.cardStatus&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.xu,{pt:"14px",pb:"18px",className:j.Z.cancel_card,children:(0,C.jsx)(m.zx,{width:"100%",variant:"primar",onClick:function(){Z(!0)},children:l("cards_list.cancelCard")})}),(0,C.jsx)(v.Z,{showModal:b,title:"Cancel card",description:"This cannot be undone.",cancelButton:"No",submitButton:"Yes",onCancel:function(){Z(!1)},onOk:w})]})]})})),b=a(1778),Z=a(9270),N=a(5808),S=a(729),w=a(9578),A=a(6559),M=a(2942),k=a(1605),z=function(){var n=(0,r.$)().t,e=(0,x.Qo)(),a=(0,t.useRef)(1),_=(0,t.useRef)(!1),m=(0,t.useState)(""),j=(0,c.Z)(m,2),v=j[0],p=j[1],z=(0,x.CG)((function(n){return n.card}),o.wU),D=z.sentCards,L=z.cardLoading,y=(0,x.CG)((function(n){return n.account.selectedAccount}),o.wU),E=(0,x.CG)((function(n){return n.business.selectedBusiness}),o.wU),U=(0,t.useState)(D.data),B=(0,c.Z)(U,2),R=B[0],G=B[1],H=(0,b._f)("sentCard"),W=H.showSearch,T=void 0===W||W,I=H.showAddCard,P=void 0===I||I,V=H.cardsPerView,O=void 0===V?20:V,Q=H.pagination,X=void 0===Q||Q,Y=H.showExtendedDetails,$=void 0===Y||Y,F=H.showCompactView,q=void 0!==F&&F,J=(0,x.CG)((function(n){return n.core.programConfig}),o.wU),K=(0,t.useCallback)((function(){y&&e((0,f.P1)(y.id,O,(a.current-1)*O,0===v.length?void 0:v)).then((function(n){0===n.total&&0===v.length&&(0,w.bG)(M.CW.NO_DATA,{from:"sentCard"}),G(n.data)})).catch(h.WH)}),[y,O,a,v]);(0,t.useEffect)((function(){y&&""!==y.businessId&&!E&&e((0,Z.NB)(y.businessId)).then((function(n){return e((0,N.Ny)(n))}))}),[y,E]);var nn=(0,t.useCallback)((function(){if(v&&0!==v.length){var n=D.data.filter((function(n){return n.card.last4.includes(v)}));G(n)}else G(D.data)}),[K,a,D,v]);(0,t.useEffect)((function(){(0,h.pt)(null===J||void 0===J?void 0:J.brand.cardArtVirtual),K(),(0,w.kM)("sendCardListRefresh",(function(){return new Promise((function(n){a.current=1,K(),n(!0)}))}))}),[y]),(0,S.bX)((function(){_.current&&nn()}),1e3,[_,nn]);var en=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,C.jsx)(s.xu,{className:"".concat(u.Z.cardList__add_container," default-bg ").concat(e?u.Z.cardList__add_container_horizontal:""),maxW:0===R.length?"320px":"none",onClick:function(){(0,w.bG)(M.TU.ADD_SEND_CARD_PRESSED)},children:(0,C.jsxs)(s.M5,{className:u.Z.cardList__add,children:[(0,C.jsx)(d.Z,{icon:"icon-add",className:"icon-customizable",size:40}),(0,C.jsx)(s.xv,{variant:"regular",pt:"10px",children:n("cards_list.addAVisaCard")})]})})};return(0,C.jsx)(s.M5,{className:"page",height:"100%",children:L&&1===a.current&&!_.current?(0,C.jsx)(A.Z,{name:"CardList",showHeader:!q}):(0,C.jsxs)(s.xu,{width:"100%",flexDirection:"column",height:"100%",display:"flex",children:[(0,C.jsxs)(s.xu,{p:"15px",children:[(0,C.jsx)(s.Ug,{width:"100%",justifyContent:"space-between",mb:"16px",children:(0,C.jsx)(s.X6,{variant:"navTitle",mr:"auto",children:n("cards_list.sentCards")})}),T?(0,C.jsxs)(s.Ug,{mt:"16px",children:[(0,C.jsxs)(s.xu,{className:u.Z.cardList__search,children:[(0,C.jsx)(d.Z,{icon:"icon-search",className:u.Z.cardList__search__icon,size:18}),(0,C.jsx)(i.II,{placeholder:n("cards_list.searchCards"),variant:"primary",className:u.Z.cardList__search__input,onChange:function(n){_.current=!0,p(n.target.value)},value:v})]}),P&&T&&!q?(0,C.jsxs)(s.M5,{className:"".concat(u.Z.contactAddContainer," button-icon-bg"),onClick:function(){(0,w.bG)(M.TU.ADD_SEND_CARD_PRESSED)},children:[(0,C.jsx)(d.Z,{className:"dark-color",icon:"icon-plus",size:16}),(0,C.jsx)(s.xv,{className:"".concat(u.Z.contactAddTxt," dark-color"),children:n("select_contact.add")})]}):null]}):null]}),L&&_.current?(0,C.jsx)(A.Z,{name:"CardList",showHeader:!1}):(0,C.jsx)("div",{className:u.Z.scrollableDiv,id:"scrollableDiv",children:(0,C.jsx)(l.Z,{dataLength:R.length,next:function(){a.current+=1,K()},hasMore:X&&D.data.length<D.total&&0!==D.total,loader:(0,C.jsx)(s.M5,{my:3,children:(0,C.jsx)(k.Z,{showModal:!1,show:!0})}),endMessage:L?null:(0,C.jsx)(s.M5,{py:2,children:(0,C.jsx)(s.xv,{variant:"regular",className:"text-light",textAlign:"center",children:n(0===D.total?P&&q?"":"cards_list.noData":"cards_list.noMoreCards")})}),scrollableTarget:"scrollableDiv",children:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,C.jsxs)(s.xu,{className:u.Z.autoCardHeight,children:[P&&q?en(n):null,R.map((function(n){return(0,C.jsx)(s.xu,{border:$?"1px solid var(--border-color-1)":"none",className:u.Z.cardList__card_container,children:(0,C.jsx)(g,{data:n.card,onRefresh:nn})},n.card.id)}))]})}()})})]})})}}}]);
//# sourceMappingURL=5808.9fc6ac6a.chunk.js.map