"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[4252],{1023:function(e,n,t){var r=t(2791),a=t(5798),i=t(4398),l=t.n(i),c=t(184);n.Z=function(e){var n=e.onChange,t=e.value,i=e.placeholder,o=e.prefix,u=e.digits,s=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){s.current&&l()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==o&&void 0!==o?o:"$ ",placeholder:i,rightAlign:!1,digits:u,numericInput:!0}).mask(s.current)}),[o,u,i]),(0,c.jsx)(a.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:s,onChange:function(e){var t=e.target.value;n(t)},value:t})}},4126:function(e,n,t){t.d(n,{D:function(){return a},p:function(){return i}});var r=t(552),a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"quantity",a=r.Z.getState().crypto.supportedCurrencies.data.find((function(n){return n.currency===e}));if(a){var i=a.limits[n];return"quantity"===t?i.minimumQty:i.minimumAmount||"0"}return"0"},i=function(e,n){var t=r.Z.getState().crypto.supportedCurrencies.data.find((function(n){return n.currency===e}));if(t){var a,i,l=(null===(a=t.limits[n].minimumQty)||void 0===a||null===(i=a.split(".")[1])||void 0===i?void 0:i.length)||2;return 0!==l?l:2}return 6}},4252:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(9439),a=t(2791),i=t(2020),l=t(1938),c=t(2504),o=t(8735),u=t(3393),s=t(7640),d=t(5798),p=t(5048),m=t(7689),f=t(5649),h="SellAmount_inputRightElement__qTFlY",v="SellAmount_currencyInput__+Wrwi",y=t(9578),g=t(5304),_=t(3741),x=t(4126),E=t(3717),I=t(80),N=t(2966),b=t(1778),S=t(2942),j=t(1023),C=t(184),w=function(){var e=(0,i.$)().t,n=(0,g.Qo)(),t=(0,m.s0)(),w=(0,l.mq)("FormControl",{variant:"primary"}),k=(0,g.CG)((function(e){return e.account}),p.wU),A=k.accounts,z=k.selectedAccount,G=(0,g.CG)((function(e){return e.crypto}),p.wU),R=G.selectedAccount,T=G.supportedCurrencies,O=(0,b._f)("sellCrypto").showBack,L=(0,a.useState)((null===z||void 0===z?void 0:z.id)||""),Z=(0,r.Z)(L,2),q=Z[0],P=Z[1],$=(0,a.useState)(""),B=(0,r.Z)($,2),H=B[0],M=B[1],Y=(0,a.useState)("quantity"),D=(0,r.Z)(Y,2),U=D[0],F=D[1],Q=(0,a.useState)(""),W=(0,r.Z)(Q,2),X=W[0],V=W[1],K=(0,a.useMemo)((function(){return A.filter((function(e){return"cardAccount"!==e.type}))}),[A]),J=(0,a.useMemo)((function(){return"quantity"===U&&null!==R&&void 0!==R&&R.currency?(0,x.p)(null===R||void 0===R?void 0:R.currency,"sell"):2}),[U,R,T]),ee=(0,a.useMemo)((function(){return null!==R&&void 0!==R&&R.currency?(0,x.D)(null===R||void 0===R?void 0:R.currency,"sell",U):0}),[U,R,T]),ne=(0,a.useMemo)((function(){return"0.".concat("0".repeat(J))}),[J]),te=(0,a.useMemo)((function(){return""!==H&&parseFloat(H)>0&&""!==U&&""!==q&&""!==X}),[H,U,q,X]);(0,a.useEffect)((function(){n((0,E._Y)())}),[]),(0,a.useEffect)((function(){n((0,_.Sg)(null,void 0,50))}),[]);var re=(0,a.useCallback)((function(){te&&R&&n((0,E.vh)({walletId:R.id,cryptoCurrency:R.currency,amount:"amount"===U?H:void 0,quantity:"quantity"===U?H:void 0})).then((function(){var e;n((0,N.YP)({selectedAccount:q,selectedAccountLabel:(null===(e=K.find((function(e){return e.id===q})))||void 0===e?void 0:e.label)||"",amount:H,type:U,description:X})),t("/crypto/sell/preview")})).catch(I.WH)}),[te,H,U,q,X,null===R||void 0===R?void 0:R.currency]);return(0,C.jsx)("div",{className:"page",children:(0,C.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),re()},children:(0,C.jsx)(f.Z,{heading:e("crypto_sell_account.title"),showBack:O,footer:(0,C.jsx)(c.zx,{disabled:!te,width:"100%",variant:"primary",type:"submit",children:e("crypto_sell_account.ctaText")}),onBack:function(){(0,y.bG)(S.CW.BACK_PRESSED,{from:"sellCrypto"})},children:(0,C.jsxs)(o.xu,{width:"100%",paddingTop:"15px",children:[(0,C.jsxs)(u.NI,{variant:"primary",style:w,children:[(0,C.jsx)(u.lX,{variant:"primary",children:e("crypto_sell_account.fundingAccount")}),(0,C.jsx)(s.Ph,{placeholder:e("crypto_sell_account.select"),variant:"primary",value:q,onChange:function(e){return P(e.target.value)},children:K.map((function(e){return(0,C.jsx)("option",{value:e.id,children:e.label},"account-".concat(e.id))}))})]}),(0,C.jsxs)(u.NI,{variant:"primary",style:w,children:[(0,C.jsx)(u.lX,{variant:"primary",children:e("crypto_sell_account.amountQuantity")}),(0,C.jsxs)(d.BZ,{className:v,children:[(0,C.jsx)(j.Z,{prefix:"",digits:J,placeholder:ne,value:H,onChange:function(e){M(e)}}),(0,C.jsx)(d.xH,{className:h,children:(0,C.jsxs)(s.Ph,{boxShadow:"none !important",outline:"none",fontSize:"14px",border:"0",value:U,onChange:function(e){return F(e.target.value)},children:[(0,C.jsx)("option",{value:"quantity",children:null===R||void 0===R?void 0:R.currency}),(0,C.jsx)("option",{value:"amount",children:"USD"})]})})]}),(0,C.jsx)(o.xv,{variant:"small",className:"text-light",textAlign:"right",children:"Min: ".concat(ee," ").concat("quantity"===U?null===R||void 0===R?void 0:R.currency:"USD")})]}),(0,C.jsxs)(u.NI,{variant:"primary",style:w,children:[(0,C.jsx)(u.lX,{variant:"primary",children:e("crypto_sell_account.desc")}),(0,C.jsx)(d.II,{value:X,onChange:function(e){return V(e.target.value)},placeholder:e("crypto_sell_account.desc"),variant:"primary"})]})]})})})})}},5798:function(e,n,t){t.d(n,{BZ:function(){return v},II:function(){return d},xH:function(){return k}});var r=t(3393),a=t(1938),i=t(6831),l=t(2791),c=t(9611);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var s=["htmlSize"],d=(0,a.Gp)((function(e,n){var t=e.htmlSize,c=u(e,s),d=(0,a.jC)("Input",c),p=(0,a.Lr)(c),m=(0,r.Yp)(p),f=(0,i.cx)("chakra-input",e.className);return l.createElement(a.m$.input,o({size:t},m,{__css:d.field,ref:n,className:f}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var p=["children","className"],m=(0,a.eC)("InputGroup"),f=m[0],h=m[1],v=(0,a.Gp)((function(e,n){var t=(0,a.jC)("Input",e),r=(0,a.Lr)(e),s=r.children,d=r.className,m=u(r,p),h=(0,i.cx)("chakra-input__group",d),v={},y=(0,c.WR)(s),g=t.field;y.forEach((function(e){if(t){var n,r;if(g&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(n=g.height)?n:g.h;if(g&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(r=g.height)?r:g.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var _=y.map((function(n){var t,r,a=(0,i.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(r=n.props)?void 0:r.variant)||e.variant});return"Input"!==n.type.id?l.cloneElement(n,a):l.cloneElement(n,Object.assign(a,v,n.props))}));return l.createElement(a.m$.div,o({className:h,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},m),l.createElement(f,{value:t},_))}));i.Ts&&(v.displayName="InputGroup");var y=["placement"],g={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},_=(0,a.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),x=(0,a.Gp)((function(e,n){var t,r=e.placement,a=void 0===r?"left":r,i=u(e,y),c=null!=(t=g[a])?t:{},s=h();return l.createElement(_,o({ref:n},i,{__css:o({},s.addon,c)}))}));i.Ts&&(x.displayName="InputAddon");var E=(0,a.Gp)((function(e,n){return l.createElement(x,o({ref:n,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(E.displayName="InputLeftAddon"),E.id="InputLeftAddon";var I=(0,a.Gp)((function(e,n){return l.createElement(x,o({ref:n,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(I.displayName="InputRightAddon"),I.id="InputRightAddon";var N=["placement"],b=["className"],S=["className"],j=(0,a.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),C=(0,a.Gp)((function(e,n){var t,r,a,i=e.placement,c=void 0===i?"left":i,s=u(e,N),d=h(),p=d.field,m=o(((a={})["left"===c?"insetStart":"insetEnd"]="0",a.width=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,a.height=null!=(r=null==p?void 0:p.height)?r:null==p?void 0:p.h,a.fontSize=null==p?void 0:p.fontSize,a),d.element);return l.createElement(j,o({ref:n,__css:m},s))}));C.id="InputElement",i.Ts&&(C.displayName="InputElement");var w=(0,a.Gp)((function(e,n){var t=e.className,r=u(e,b),a=(0,i.cx)("chakra-input__left-element",t);return l.createElement(C,o({ref:n,placement:"left",className:a},r))}));w.id="InputLeftElement",i.Ts&&(w.displayName="InputLeftElement");var k=(0,a.Gp)((function(e,n){var t=e.className,r=u(e,S),a=(0,i.cx)("chakra-input__right-element",t);return l.createElement(C,o({ref:n,placement:"right",className:a},r))}));k.id="InputRightElement",i.Ts&&(k.displayName="InputRightElement")},7640:function(e,n,t){t.d(n,{Ph:function(){return v}});var r=t(3393),a=t(1938),i=t(7160),l=t(6831),c=t(6198),o=t.n(c),u=t(2791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var p=["children","placeholder","className"],m=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],f=["children"],h=(0,a.Gp)((function(e,n){var t=e.children,r=e.placeholder,i=e.className,c=d(e,p);return u.createElement(a.m$.select,s({},c,{ref:n,className:(0,l.cx)("chakra-select",i)}),r&&u.createElement("option",{value:""},r),t)}));l.Ts&&(h.displayName="SelectField");var v=(0,a.Gp)((function(e,n){var t=(0,a.jC)("Select",e),c=(0,a.Lr)(e),p=c.rootProps,f=c.placeholder,v=c.icon,y=c.color,g=c.height,x=c.h,E=c.minH,I=c.minHeight,N=c.iconColor,b=c.iconSize,S=d(c,m),j=(0,l.Vl)(S,i.oE),C=j[0],w=j[1],k=(0,r.Yp)(w),A={width:"100%",height:"fit-content",position:"relative",color:y},z=o()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return u.createElement(a.m$.div,s({className:"chakra-select__wrapper",__css:A},C,p),u.createElement(h,s({ref:n,height:null!=x?x:g,minH:null!=E?E:I,placeholder:f},k,{__css:z}),e.children),u.createElement(_,s({"data-disabled":(0,l.PB)(k.disabled)},(N||y)&&{color:N||y},{__css:t.icon},b&&{fontSize:b}),v))}));l.Ts&&(v.displayName="Select");var y=function(e){return u.createElement("svg",s({viewBox:"0 0 24 24"},e),u.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},g=(0,a.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),_=function(e){var n=e.children,t=void 0===n?u.createElement(y,null):n,r=d(e,f),a=u.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return u.createElement(g,s({},r,{className:"chakra-select__icon-wrapper"}),u.isValidElement(t)?a:null)};l.Ts&&(_.displayName="SelectIcon")}}]);
//# sourceMappingURL=4252.fc379fd1.chunk.js.map