"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[4476],{1023:function(n,e,a){var t=a(2791),r=a(5798),i=a(4398),d=a.n(i),s=a(184);e.Z=function(n){var e=n.onChange,a=n.value,i=n.placeholder,l=n.prefix,c=n.digits,o=(0,t.useRef)(null);return(0,t.useLayoutEffect)((function(){o.current&&d()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==l&&void 0!==l?l:"$ ",placeholder:i,rightAlign:!1,digits:c,numericInput:!0}).mask(o.current)}),[l,c,i]),(0,s.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:o,onChange:function(n){var a=n.target.value;e(a)},value:a})}},5694:function(n,e,a){a.d(e,{V:function(){return r}});var t=a(2560),r=function(n){return{type:t.Q,payload:n}}},4785:function(n,e,a){a.d(e,{DN:function(){return c},ee:function(){return d},nc:function(){return o},rc:function(){return s},zt:function(){return l}});var t=a(286),r=a(80),i=a(5694),d=function(n){return function(e){return new Promise((function(a,d){(0,r.V_)(!0),t.Z.post("v1/send/intrabank",n).then((function(n){var t=n.data;e((0,i.V)(t)),a(t)})).catch(d).finally((function(){(0,r.V_)(!1)}))}))}},s=function(n){return function(e){return new Promise((function(a,d){(0,r.V_)(!0),t.Z.post("v1/send/ach",n).then((function(n){var t=n.data;e((0,i.V)(t)),a(t)})).catch(d).finally((function(){(0,r.V_)(!1)}))}))}},l=function(n){return function(e){return new Promise((function(a,d){(0,r.V_)(!0),t.Z.post("v1/send/wire",n).then((function(n){var t=n.data;e((0,i.V)(t)),a(t)})).catch(d).finally((function(){(0,r.V_)(!1)}))}))}},c=function(n){return function(e){return new Promise((function(a,d){(0,r.V_)(!0),t.Z.post("v1/send/card",n).then((function(n){var t=n.data;e((0,i.V)(t)),a(t)})).catch(d).finally((function(){(0,r.V_)(!1)}))}))}},o=function(n){return function(e){return new Promise((function(a,d){(0,r.V_)(!0),t.Z.post("v1/send/check",n).then((function(n){var t=n.data;e((0,i.V)(t)),a(t)})).catch(d).finally((function(){(0,r.V_)(!1)}))}))}}},4476:function(n,e,a){a.r(e);var t=a(1413),r=a(9439),i=a(2791),d=a(1938),s=a(2504),l=a(8735),c=a(3393),o=a(5798),u=a(9916),p=(a(7781),a(2020)),m=a(5048),v=a(7689),f=a(5649),h=a(5304),y=a(4785),g=a(7770),_=a(80),I=a(5919),x=a(1778),Z=a(9578),j=a(2942),C=a(1023),N=a(184);e.default=function(){var n,e,a,E,S,b=(0,p.$)().t,k=(0,h.Qo)(),w=(0,v.s0)(),V=(0,d.mq)("Input",{variant:"primary"}),G=(0,x.qu)(),R=G.gmapKey,T=void 0===R?"":R,z=G.startScreen,A=void 0===z?"options":z,L=(0,x._f)("sendCard").showBack,X=(0,h.CG)((function(n){return n.account.selectedAccount}),m.wU),P=(0,h.CG)((function(n){return n.contact.selectedContact}),m.wU),U=(0,i.useState)({name:(null===P||void 0===P?void 0:P.name)||"",email:(null===P||void 0===P?void 0:P.email)||"",phone:(null===P||void 0===P?void 0:P.phone)||"",address:(null===P||void 0===P||null===(n=P.card)||void 0===n?void 0:n.address)||{line1:"",line2:"",city:"",state:"",country:"US",postalCode:"",addressType:"card"}}),O=(0,r.Z)(U,2),$=O[0],B=O[1],W=(0,i.useState)({amount:"",description:"",contactId:(null===P||void 0===P?void 0:P.id)||"",accountId:(null===X||void 0===X?void 0:X.id)||""}),D=(0,r.Z)(W,2),H=D[0],K=D[1],M=(0,i.useMemo)((function(){return 0!==$.name.length&&0!==$.email.length&&(0,u.tm)($.phone)&&0!==H.amount.length&&parseFloat(H.amount)>=.01&&0!==H.description.length&&!!$.address&&!!$.address.line1&&!!$.address.city&&!!$.address.state&&!!$.address.country&&!!$.address.postalCode&&0!==$.address.line1.length&&0!==$.address.city.length&&0!==$.address.state.length&&0!==$.address.country.length&&0!==$.address.postalCode.length}),[$,H]),q=(0,i.useCallback)((function(){null!==P&&void 0!==P&&P.id&&M&&k((0,g.Tk)(P.id,{accountId:P.accountId,name:$.name,email:$.email,phone:$.phone,card:{address:(0,t.Z)((0,t.Z)({},$.address),{},{addressType:"card",country:"US"})}})).then((function(){k((0,y.DN)((0,t.Z)((0,t.Z)({},H),{},{type:"virtual"}))).then((function(){w("/payments/success")})).catch(_.WH)})).catch(_.WH)}),[M,H,$]);return(0,N.jsx)("div",{className:"page",children:(0,N.jsx)(f.Z,{heading:b("payments_send_card.title"),footer:(0,N.jsx)(s.zx,{width:"100%",variant:"primary",disabled:!M,onClick:q,children:b("payments_send_card.ctaText")}),showBack:"sendCard"!==A||L,onBack:function(){(0,Z.bG)(j.CW.BACK_PRESSED,{from:"sendCard"}),"sendCard"!==A&&w(-1)},children:(0,N.jsxs)(l.xu,{width:"100%",paddingTop:"15px",children:[(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.name")}),(0,N.jsx)(o.II,{variant:"primary",value:(null===$||void 0===$?void 0:$.name)||"",onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{name:n.target.value}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.email")}),(0,N.jsx)(o.II,{variant:"primary",value:$.email,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{email:n.target.value}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.phone")}),(0,N.jsx)(u.ZP,{"data-testid":"mobileInput",style:V.field,className:"country-input",international:!0,limitMaxLength:!0,value:$.phone,defaultCountry:"US",countryCallingCodeEditable:!1,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{phone:n||""}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.address1")}),(0,N.jsx)(I.Z,{restrictedCountry:"US",placeholder:b("payments_send_card.address1"),googleApiKey:T,address:(null===$||void 0===$?void 0:$.address)||void 0,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{address:(0,t.Z)((0,t.Z)({},$.address),n)}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.address2")}),(0,N.jsx)(o.II,{variant:"primary",placeholder:b("payments_send_card.address2"),value:null===$||void 0===$||null===(e=$.address)||void 0===e?void 0:e.line2,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{address:(0,t.Z)((0,t.Z)({},$.address),{},{line2:n.target.value})}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.addressCity")}),(0,N.jsx)(o.II,{variant:"primary",placeholder:b("payments_send_card.addressCity"),value:null===$||void 0===$||null===(a=$.address)||void 0===a?void 0:a.city,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{address:(0,t.Z)((0,t.Z)({},$.address),{},{city:n.target.value})}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.addressState")}),(0,N.jsx)(o.II,{variant:"primary",placeholder:b("payments_send_card.addressState"),value:null===$||void 0===$||null===(E=$.address)||void 0===E?void 0:E.state,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{address:(0,t.Z)((0,t.Z)({},$.address),{},{state:n.target.value})}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.addressZipcode")}),(0,N.jsx)(o.II,{variant:"primary",placeholder:b("payments_send_card.addressZipcode"),value:null===$||void 0===$||null===(S=$.address)||void 0===S?void 0:S.postalCode,onChange:function(n){B((0,t.Z)((0,t.Z)({},$),{},{address:(0,t.Z)((0,t.Z)({},$.address),{},{postalCode:n.target.value})}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.amount")}),(0,N.jsx)(C.Z,{value:H.amount,onChange:function(n){K((0,t.Z)((0,t.Z)({},H),{},{amount:n||""}))}})]}),(0,N.jsxs)(c.NI,{variant:"primary",children:[(0,N.jsx)(c.lX,{variant:"primary",children:b("payments_send_card.purpose")}),(0,N.jsx)(o.II,{variant:"primary",value:H.description,onChange:function(n){K((0,t.Z)((0,t.Z)({},H),{},{description:n.target.value}))}})]})]})})})}},5798:function(n,e,a){a.d(e,{BZ:function(){return h},II:function(){return u},xH:function(){return k}});var t=a(3393),r=a(1938),i=a(6831),d=a(2791),s=a(9611);function l(){return l=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},l.apply(this,arguments)}function c(n,e){if(null==n)return{};var a,t,r={},i=Object.keys(n);for(t=0;t<i.length;t++)a=i[t],e.indexOf(a)>=0||(r[a]=n[a]);return r}var o=["htmlSize"],u=(0,r.Gp)((function(n,e){var a=n.htmlSize,s=c(n,o),u=(0,r.jC)("Input",s),p=(0,r.Lr)(s),m=(0,t.Yp)(p),v=(0,i.cx)("chakra-input",n.className);return d.createElement(r.m$.input,l({size:a},m,{__css:u.field,ref:e,className:v}))}));i.Ts&&(u.displayName="Input"),u.id="Input";var p=["children","className"],m=(0,r.eC)("InputGroup"),v=m[0],f=m[1],h=(0,r.Gp)((function(n,e){var a=(0,r.jC)("Input",n),t=(0,r.Lr)(n),o=t.children,u=t.className,m=c(t,p),f=(0,i.cx)("chakra-input__group",u),h={},y=(0,s.WR)(o),g=a.field;y.forEach((function(n){if(a){var e,t;if(g&&"InputLeftElement"===n.type.id)h.paddingStart=null!=(e=g.height)?e:g.h;if(g&&"InputRightElement"===n.type.id)h.paddingEnd=null!=(t=g.height)?t:g.h;"InputRightAddon"===n.type.id&&(h.borderEndRadius=0),"InputLeftAddon"===n.type.id&&(h.borderStartRadius=0)}}));var _=y.map((function(e){var a,t,r=(0,i.YU)({size:(null==(a=e.props)?void 0:a.size)||n.size,variant:(null==(t=e.props)?void 0:t.variant)||n.variant});return"Input"!==e.type.id?d.cloneElement(e,r):d.cloneElement(e,Object.assign(r,h,e.props))}));return d.createElement(r.m$.div,l({className:f,ref:e,__css:{width:"100%",display:"flex",position:"relative"}},m),d.createElement(v,{value:a},_))}));i.Ts&&(h.displayName="InputGroup");var y=["placement"],g={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},_=(0,r.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),I=(0,r.Gp)((function(n,e){var a,t=n.placement,r=void 0===t?"left":t,i=c(n,y),s=null!=(a=g[r])?a:{},o=f();return d.createElement(_,l({ref:e},i,{__css:l({},o.addon,s)}))}));i.Ts&&(I.displayName="InputAddon");var x=(0,r.Gp)((function(n,e){return d.createElement(I,l({ref:e,placement:"left"},n,{className:(0,i.cx)("chakra-input__left-addon",n.className)}))}));i.Ts&&(x.displayName="InputLeftAddon"),x.id="InputLeftAddon";var Z=(0,r.Gp)((function(n,e){return d.createElement(I,l({ref:e,placement:"right"},n,{className:(0,i.cx)("chakra-input__right-addon",n.className)}))}));i.Ts&&(Z.displayName="InputRightAddon"),Z.id="InputRightAddon";var j=["placement"],C=["className"],N=["className"],E=(0,r.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),S=(0,r.Gp)((function(n,e){var a,t,r,i=n.placement,s=void 0===i?"left":i,o=c(n,j),u=f(),p=u.field,m=l(((r={})["left"===s?"insetStart":"insetEnd"]="0",r.width=null!=(a=null==p?void 0:p.height)?a:null==p?void 0:p.h,r.height=null!=(t=null==p?void 0:p.height)?t:null==p?void 0:p.h,r.fontSize=null==p?void 0:p.fontSize,r),u.element);return d.createElement(E,l({ref:e,__css:m},o))}));S.id="InputElement",i.Ts&&(S.displayName="InputElement");var b=(0,r.Gp)((function(n,e){var a=n.className,t=c(n,C),r=(0,i.cx)("chakra-input__left-element",a);return d.createElement(S,l({ref:e,placement:"left",className:r},t))}));b.id="InputLeftElement",i.Ts&&(b.displayName="InputLeftElement");var k=(0,r.Gp)((function(n,e){var a=n.className,t=c(n,N),r=(0,i.cx)("chakra-input__right-element",a);return d.createElement(S,l({ref:e,placement:"right",className:r},t))}));k.id="InputRightElement",i.Ts&&(k.displayName="InputRightElement")},7781:function(){}}]);
//# sourceMappingURL=4476.34efd123.chunk.js.map