"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[6861,219],{1023:function(e,t,n){var a=n(2791),r=n(5798),i=n(4398),s=n.n(i),l=n(184);t.Z=function(e){var t=e.onChange,n=e.value,i=e.placeholder,u=e.prefix,o=e.digits,c=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){c.current&&s()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==u&&void 0!==u?u:"$ ",placeholder:i,rightAlign:!1,digits:o,numericInput:!0}).mask(c.current)}),[u,o,i]),(0,l.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:c,onChange:function(e){var n=e.target.value;t(n)},value:n})}},3692:function(e,t,n){n.d(t,{T:function(){return r},z:function(){return a}});var a=function(e){return e.LOGOUT="logout",e.CARD_REFRESH="card_refresh",e.TRANSACTION_REFRESH="transaction_refresh",e}({}),r={_events:{},dispatch:function(e,t){this._events[e]&&this._events[e].forEach((function(e){return e(t)}))},subscribe:function(e,t){var n=this;this._events[e]||(this._events[e]=[]);var a=this._events[e].push(t);return function(){n.unsubscribe(e,a-1)}},unsubscribe:function(e,t){this._events[e]&&(void 0!==t&&this._events[e][t]?this._events[e].splice(t,1,(function(){})):delete this._events[e])}}},219:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(1413),r=n(2791),i=n(5048),s=n(1951),l=n(3629),u=n(4565),o=n(5719),c=n(4888),d=n(5304),m=n(7514),f=n(9439),h=n(2504),p=n(8735),v=n(3445),x=n(3393),y=n(2020),g=n(9513),N=n.n(g),j=n(5649),D=n(4144),T="TransactionFilter_filter_header__a8wBs",w="TransactionFilter_input_picker__+ZtyG",b="TransactionFilter_amountInputs__PwwNL",C=(n(8639),n(1778)),_=n(1023),I=n(184),k=function(e){var t=e.showTransactionTypeFilter,n=e.showTimePeriodFilter,i=e.showAmountFilter,s=(e.showCardsFilter,e.filters),l=e.onApply,u=(0,y.$)().t,o=(0,r.useState)(!1),c=(0,f.Z)(o,2),d=c[0],m=c[1],g=(0,r.useState)(!1),k=(0,f.Z)(g,2),E=k[0],S=k[1],Z=(0,r.useState)(!1),M=(0,f.Z)(Z,2),z=M[0],F=M[1],A=(0,r.useState)(!1),R=(0,f.Z)(A,2),U=(R[0],R[1],(0,r.useState)(new Date)),P=(0,f.Z)(U,2),Y=P[0],G=P[1],L=(0,r.useState)(new Date),O=(0,f.Z)(L,2),$=O[0],W=O[1],B=(0,C.qu)().accountType,H=void 0===B?"cash":B,X=(0,r.useState)(),J=(0,f.Z)(X,2),q=J[0],Q=J[1],V=(0,r.useState)(),K=(0,f.Z)(V,2),ee=K[0],te=K[1],ne=(0,r.useState)({physical:!1,virtual:!0}),ae=(0,f.Z)(ne,2),re=(ae[0],ae[1],(0,r.useState)({min:"",max:""})),ie=(0,f.Z)(re,2),se=ie[0],le=ie[1];return(0,r.useEffect)((function(){s&&(s.transactionType&&Q(s.transactionType),s.timePeriod&&te(s.timePeriod),s.amount&&le(s.amount),s.startDate&&G(new Date(s.startDate)),s.endDate&&W(new Date(s.endDate)))}),[s]),(0,I.jsx)("div",{className:"page",children:(0,I.jsx)(j.Z,{heading:"Filter",showBack:!0,footer:(0,I.jsx)(h.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",onClick:function(){l&&l({transactionType:q,timePeriod:ee,amount:se,startDate:Y,endDate:$})},children:u("filter.ctaText")}),children:(0,I.jsxs)(p.xu,{children:[t?(0,I.jsxs)(p.xu,{"data-testid":"transaction-type-filter",children:[(0,I.jsxs)(p.Ug,{className:T,onClick:function(){return m(!d)},children:[(0,I.jsx)(p.xv,{variant:"large",children:u("filter.transactionType")}),d?(0,I.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,I.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,I.jsx)(p.xu,{borderBottom:"1px solid var(--border-color-1)",children:d?(0,I.jsx)(v.Ee,{onChange:function(e){return e&&Q(e)},value:q,children:(0,I.jsxs)(p.gC,{alignItems:"flex-start",pb:"20px",children:[(0,I.jsx)(v.Y8,{value:"credit",variant:"primary",children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.credits")})}),(0,I.jsx)(v.Y8,{variant:"primary",value:"debit",children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.debits")})}),"cash"===H?(0,I.jsx)(v.Y8,{variant:"primary",value:"card",children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.cardTransactions")})}):null]})}):null})]}):null,n?(0,I.jsxs)(p.xu,{"data-testid":"date-filter",children:[(0,I.jsxs)(p.Ug,{className:T,onClick:function(){return S(!E)},children:[(0,I.jsx)(p.xv,{variant:"large",children:u("filter.timePeriod")}),E?(0,I.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,I.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,I.jsx)(p.xu,{borderBottom:"1px solid var(--border-color-1)",children:E?(0,I.jsx)(v.Ee,{children:(0,I.jsxs)(p.gC,{alignItems:"flex-start",pb:"20px",children:[(0,I.jsx)(v.Y8,{variant:"primary",onChange:function(){return te("thisWeek"===ee?void 0:"thisWeek")},isChecked:"thisWeek"===ee,children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.thisWeek")})}),(0,I.jsx)(v.Y8,{variant:"primary",onChange:function(){return te("thisMonth"===ee?void 0:"thisMonth")},isChecked:"thisMonth"===ee,children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.thisMonth")})}),(0,I.jsx)(v.Y8,{variant:"primary",onChange:function(){return te("lastMonth"===ee?void 0:"lastMonth")},isChecked:"lastMonth"===ee,children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.lastMonth")})}),(0,I.jsx)(v.Y8,{variant:"primary",onChange:function(){return te("custom"===ee?void 0:"custom")},isChecked:"custom"===ee,children:(0,I.jsx)(p.xv,{variant:"regular",className:"text-dark",children:u("filter.custom")})}),"custom"===ee?(0,I.jsxs)(p.Ug,{pt:"20px",children:[(0,I.jsxs)(x.NI,{variant:"primary",children:[(0,I.jsx)(x.lX,{variant:"primary",children:u("filter.from")}),(0,I.jsx)(N(),{className:w,selected:Y,onChange:function(e){return G(e)},placeholderText:u("filter.startDate")})]}),(0,I.jsxs)(x.NI,{variant:"primary",children:[(0,I.jsx)(x.lX,{variant:"primary",children:u("filter.to")}),(0,I.jsx)(N(),{className:w,selected:$,onChange:function(e){return W(e)},placeholderText:u("filter.endDate")})]})]}):null]})}):null})]}):null,i?(0,I.jsxs)(p.xu,{"data-testid":"amount-filter",children:[(0,I.jsxs)(p.Ug,{className:T,onClick:function(){return F(!z)},children:[(0,I.jsx)(p.xv,{variant:"large",children:u("filter.amount")}),z?(0,I.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,I.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,I.jsx)(p.xu,{borderBottom:"1px solid var(--border-color-1)",children:z?(0,I.jsxs)(p.Ug,{className:b,children:[(0,I.jsxs)(x.NI,{variant:"primary",children:[(0,I.jsx)(x.lX,{variant:"primary",children:u("filter.from")}),(0,I.jsx)(_.Z,{value:se.min,onChange:function(e){return le((0,a.Z)((0,a.Z)({},se),{},{min:e||""}))}})]}),(0,I.jsxs)(x.NI,{variant:"primary",children:[(0,I.jsx)(x.lX,{variant:"primary",children:u("filter.to")}),(0,I.jsx)(_.Z,{value:se.max,onChange:function(e){return le((0,a.Z)((0,a.Z)({},se),{},{max:e||""}))}})]})]}):null})]}):null,null]})})})},E=n(4661),S=n(3692),Z=function(){var e=(0,C.Vd)("transactions"),t=e.showAmountFilter,n=e.showCardsFilter,f=e.showTimePeriodFilter,h=e.showTransactionTypeFilter,p=(0,d.CG)((function(e){return e.transaction.filters.tmpStates}),i.wU),v=(0,d.Qo)(),x=(0,E.y)().close,y=(0,r.useMemo)((function(){var e={},t=(0,a.Z)({},p);return"credit"!==e.txnType&&"debit"!==e.txnType&&"card"!==e.txnType||(t.transactionType=e.txnType),e.startDate&&(t.startDate=e.startDate),e.endDate&&(t.endDate=e.endDate),e.timePeriod&&(t.timePeriod=e.timePeriod),e.minAmount&&(t.amount.min=e.minAmount),e.maxAmount&&(t.amount.max=e.maxAmount),t}),[p]);return(0,I.jsx)(k,{showAmountFilter:t,showCardsFilter:n,showTimePeriodFilter:f,showTransactionTypeFilter:h,filters:y,onApply:function(e){var t=e.transactionType,n=e.amount,a=e.timePeriod,r=e.startDate,i=e.endDate,d={};"credit"!==t&&"debit"!==t&&"card"!==t||(d.txnType=t);var f=new Date,h=new Date(f.getFullYear(),f.getMonth(),0);switch(a){case"thisWeek":d.startDate=(0,s.default)((0,l.default)(f),"yyyy-MM-dd"),d.endDate=(0,s.default)((0,u.default)(f),"yyyy-MM-dd");break;case"thisMonth":d.startDate=(0,s.default)((0,o.default)(f),"yyyy-MM-dd"),d.endDate=(0,s.default)((0,c.default)(f),"yyyy-MM-dd");break;case"lastMonth":d.startDate=(0,s.default)((0,o.default)(h),"yyyy-MM-dd"),d.endDate=(0,s.default)((0,c.default)(h),"yyyy-MM-dd");break;case"custom":d.startDate=(0,s.default)(r,"yyyy-MM-dd"),d.endDate=(0,s.default)(i,"yyyy-MM-dd")}""!==n.min&&(d.minAmount=n.min),""!==n.max&&(d.maxAmount=n.max),v((0,m.L5)({data:d,tmpStates:{transactionType:t,amount:n,timePeriod:a,startDate:r,endDate:i}})),S.T.dispatch(S.z.TRANSACTION_REFRESH,{data:d,tmpStates:{transactionType:t,amount:n,timePeriod:a,startDate:r,endDate:i}}),x()}})}},5798:function(e,t,n){n.d(t,{BZ:function(){return v},II:function(){return d},xH:function(){return k}});var a=n(3393),r=n(1938),i=n(6831),s=n(2791),l=n(9611);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var c=["htmlSize"],d=(0,r.Gp)((function(e,t){var n=e.htmlSize,l=o(e,c),d=(0,r.jC)("Input",l),m=(0,r.Lr)(l),f=(0,a.Yp)(m),h=(0,i.cx)("chakra-input",e.className);return s.createElement(r.m$.input,u({size:n},f,{__css:d.field,ref:t,className:h}))}));i.Ts&&(d.displayName="Input"),d.id="Input";var m=["children","className"],f=(0,r.eC)("InputGroup"),h=f[0],p=f[1],v=(0,r.Gp)((function(e,t){var n=(0,r.jC)("Input",e),a=(0,r.Lr)(e),c=a.children,d=a.className,f=o(a,m),p=(0,i.cx)("chakra-input__group",d),v={},x=(0,l.WR)(c),y=n.field;x.forEach((function(e){if(n){var t,a;if(y&&"InputLeftElement"===e.type.id)v.paddingStart=null!=(t=y.height)?t:y.h;if(y&&"InputRightElement"===e.type.id)v.paddingEnd=null!=(a=y.height)?a:y.h;"InputRightAddon"===e.type.id&&(v.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(v.borderStartRadius=0)}}));var g=x.map((function(t){var n,a,r=(0,i.YU)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?s.cloneElement(t,r):s.cloneElement(t,Object.assign(r,v,t.props))}));return s.createElement(r.m$.div,u({className:p,ref:t,__css:{width:"100%",display:"flex",position:"relative"}},f),s.createElement(h,{value:n},g))}));i.Ts&&(v.displayName="InputGroup");var x=["placement"],y={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},g=(0,r.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),N=(0,r.Gp)((function(e,t){var n,a=e.placement,r=void 0===a?"left":a,i=o(e,x),l=null!=(n=y[r])?n:{},c=p();return s.createElement(g,u({ref:t},i,{__css:u({},c.addon,l)}))}));i.Ts&&(N.displayName="InputAddon");var j=(0,r.Gp)((function(e,t){return s.createElement(N,u({ref:t,placement:"left"},e,{className:(0,i.cx)("chakra-input__left-addon",e.className)}))}));i.Ts&&(j.displayName="InputLeftAddon"),j.id="InputLeftAddon";var D=(0,r.Gp)((function(e,t){return s.createElement(N,u({ref:t,placement:"right"},e,{className:(0,i.cx)("chakra-input__right-addon",e.className)}))}));i.Ts&&(D.displayName="InputRightAddon"),D.id="InputRightAddon";var T=["placement"],w=["className"],b=["className"],C=(0,r.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),_=(0,r.Gp)((function(e,t){var n,a,r,i=e.placement,l=void 0===i?"left":i,c=o(e,T),d=p(),m=d.field,f=u(((r={})["left"===l?"insetStart":"insetEnd"]="0",r.width=null!=(n=null==m?void 0:m.height)?n:null==m?void 0:m.h,r.height=null!=(a=null==m?void 0:m.height)?a:null==m?void 0:m.h,r.fontSize=null==m?void 0:m.fontSize,r),d.element);return s.createElement(C,u({ref:t,__css:f},c))}));_.id="InputElement",i.Ts&&(_.displayName="InputElement");var I=(0,r.Gp)((function(e,t){var n=e.className,a=o(e,w),r=(0,i.cx)("chakra-input__left-element",n);return s.createElement(_,u({ref:t,placement:"left",className:r},a))}));I.id="InputLeftElement",i.Ts&&(I.displayName="InputLeftElement");var k=(0,r.Gp)((function(e,t){var n=e.className,a=o(e,b),r=(0,i.cx)("chakra-input__right-element",n);return s.createElement(_,u({ref:t,placement:"right",className:r},a))}));k.id="InputRightElement",i.Ts&&(k.displayName="InputRightElement")},2729:function(e,t,n){n.d(t,{qk:function(){return i},vh:function(){return r},yJ:function(){return a}});Math.pow(10,8);var a=6e4,r=36e5,i=1e3},9831:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var a=n(2729),r=n(4522),i=n(9297);function s(e,t){var n;(0,r.Z)(1,arguments);var s=(0,i.Z)(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var p,v=function(e){var t,n={},a=e.split(l.dateTimeDelimiter);if(a.length>2)return n;/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],l.timeZoneDelimiter.test(n.date)&&(n.date=e.split(l.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var r=l.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e);if(v.date){var x=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};var r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(v.date,s);p=function(e,t){if(null===t)return new Date(NaN);var n=e.match(u);if(!n)return new Date(NaN);var a=!!n[4],r=d(n[1]),i=d(n[2])-1,s=d(n[3]),l=d(n[4]),o=d(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,l,o)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var r=a.getUTCDay()||7,i=7*(t-1)+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}(t,l,o):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(f[t]||(h(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,r)?(c.setUTCFullYear(t,i,Math.max(r,s)),c):new Date(NaN)}(x.restDateString,x.year)}if(!p||isNaN(p.getTime()))return new Date(NaN);var y,g=p.getTime(),N=0;if(v.time&&(N=function(e){var t=e.match(o);if(!t)return NaN;var n=m(t[1]),r=m(t[2]),i=m(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*a.vh+r*a.yJ+1e3*i}(v.time),isNaN(N)))return new Date(NaN);if(!v.timezone){var j=new Date(g+N),D=new Date(0);return D.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()),D.setHours(j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds()),D}return y=function(e){if("Z"===e)return 0;var t=e.match(c);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*a.vh+i*a.yJ)}(v.timezone),isNaN(y)?new Date(NaN):new Date(g+N+y)}var l={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400===0||e%4===0&&e%100!==0}}}]);
//# sourceMappingURL=6861.69f50ff4.chunk.js.map