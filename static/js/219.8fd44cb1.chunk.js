"use strict";(self.webpackChunkdrop_in_ui=self.webpackChunkdrop_in_ui||[]).push([[219,8148],{1023:function(t,e,a){var n=a(2791),r=a(5798),i=a(4398),s=a.n(i),l=a(184);e.Z=function(t){var e=t.onChange,a=t.value,i=t.placeholder,c=t.prefix,o=t.digits,u=(0,n.useRef)(null);return(0,n.useLayoutEffect)((function(){u.current&&s()("currency",{autoUnmask:!0,allowMinus:!1,prefix:null!==c&&void 0!==c?c:"$ ",placeholder:i,rightAlign:!1,digits:o,numericInput:!0}).mask(u.current)}),[c,o,i]),(0,l.jsx)(r.II,{"data-testid":"currency-input",variant:"primary",placeholder:i||"$ 0.00",ref:u,onChange:function(t){var a=t.target.value;e(a)},value:a})}},3692:function(t,e,a){a.d(e,{T:function(){return r},z:function(){return n}});var n=function(t){return t.LOGOUT="logout",t.CARD_REFRESH="card_refresh",t.TRANSACTION_REFRESH="transaction_refresh",t.CONTACT_REFRESH="contact_refresh",t}({}),r={_events:{},dispatch:function(t,e){this._events[t]&&this._events[t].forEach((function(t){return t(e)}))},subscribe:function(t,e){var a=this;this._events[t]||(this._events[t]=[]);var n=this._events[t].push(e);return function(){a.unsubscribe(t,n-1)}},unsubscribe:function(t,e){this._events[t]&&(void 0!==e&&this._events[t][e]?this._events[t].splice(e,1,(function(){})):delete this._events[t])}}},219:function(t,e,a){a.r(e),a.d(e,{default:function(){return S}});var n=a(1413),r=a(2791),i=a(5048),s=a(1951),l=a(3629),c=a(4565),o=a(5719),u=a(4888),d=a(5304),h=a(7514),m=a(9439),x=a(2504),f=a(8735),v=a(3445),p=a(3393),y=a(2020),j=a(9513),g=a.n(j),T=a(5425),D=a(4144),_="TransactionFilter_filter_header__a8wBs",b="TransactionFilter_input_picker__+ZtyG",k="TransactionFilter_amountInputs__PwwNL",C=(a(8639),a(1023)),N=a(184),M=function(t){var e=t.showTransactionTypeFilter,a=t.showTimePeriodFilter,i=t.showAmountFilter,s=(t.showCardsFilter,t.filters),l=t.onApply,c=(0,y.$)().t,o=(0,r.useState)(!1),u=(0,m.Z)(o,2),d=u[0],h=u[1],j=(0,r.useState)(!1),M=(0,m.Z)(j,2),Z=M[0],w=M[1],S=(0,r.useState)(!1),A=(0,m.Z)(S,2),F=A[0],z=A[1],E=(0,r.useState)(!1),P=(0,m.Z)(E,2),I=(P[0],P[1],(0,r.useState)(new Date)),R=(0,m.Z)(I,2),U=R[0],Y=R[1],B=(0,r.useState)(new Date),O=(0,m.Z)(B,2),W=O[0],H=O[1],L=(0,r.useState)(),X=(0,m.Z)(L,2),G=X[0],$=X[1],Q=(0,r.useState)(),q=(0,m.Z)(Q,2),J=q[0],K=q[1],V=(0,r.useState)({physical:!1,virtual:!0}),tt=(0,m.Z)(V,2),et=(tt[0],tt[1],(0,r.useState)({min:"",max:""})),at=(0,m.Z)(et,2),nt=at[0],rt=at[1];return(0,r.useEffect)((function(){s&&(s.transactionType&&$(s.transactionType),s.timePeriod&&K(s.timePeriod),s.amount&&rt(s.amount),s.startDate&&Y(new Date(s.startDate)),s.endDate&&H(new Date(s.endDate)))}),[s]),(0,N.jsx)("div",{className:"page",children:(0,N.jsx)(T.Z,{heading:"Filter",showBack:!0,footer:(0,N.jsx)(x.zx,{"data-testid":"submit-btn",width:"100%",variant:"primary",onClick:function(){l&&l({transactionType:G,timePeriod:J,amount:nt,startDate:U,endDate:W})},children:c("filter.ctaText")}),children:(0,N.jsxs)(f.xu,{children:[e?(0,N.jsxs)(f.xu,{"data-testid":"transaction-type-filter",children:[(0,N.jsxs)(f.Ug,{className:_,onClick:function(){return h(!d)},children:[(0,N.jsx)(f.xv,{variant:"large",children:c("filter.transactionType")}),d?(0,N.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,N.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,N.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:d?(0,N.jsx)(v.Ee,{onChange:function(t){return t&&$(t)},value:G,children:(0,N.jsxs)(f.gC,{alignItems:"flex-start",pb:"20px",children:[(0,N.jsx)(v.Y8,{value:"credit",variant:"primary",children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.credits")})}),(0,N.jsx)(v.Y8,{variant:"primary",value:"debit",children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.debits")})}),(0,N.jsx)(v.Y8,{variant:"primary",value:"card",children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.cardTransactions")})})]})}):null})]}):null,a?(0,N.jsxs)(f.xu,{"data-testid":"date-filter",children:[(0,N.jsxs)(f.Ug,{className:_,onClick:function(){return w(!Z)},children:[(0,N.jsx)(f.xv,{variant:"large",children:c("filter.timePeriod")}),Z?(0,N.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,N.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,N.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:Z?(0,N.jsx)(v.Ee,{children:(0,N.jsxs)(f.gC,{alignItems:"flex-start",pb:"20px",children:[(0,N.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("thisWeek"===J?void 0:"thisWeek")},isChecked:"thisWeek"===J,children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.thisWeek")})}),(0,N.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("thisMonth"===J?void 0:"thisMonth")},isChecked:"thisMonth"===J,children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.thisMonth")})}),(0,N.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("lastMonth"===J?void 0:"lastMonth")},isChecked:"lastMonth"===J,children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.lastMonth")})}),(0,N.jsx)(v.Y8,{variant:"primary",onChange:function(){return K("custom"===J?void 0:"custom")},isChecked:"custom"===J,children:(0,N.jsx)(f.xv,{variant:"regular",className:"text-dark",children:c("filter.custom")})}),"custom"===J?(0,N.jsxs)(f.Ug,{pt:"20px",children:[(0,N.jsxs)(p.NI,{variant:"primary",children:[(0,N.jsx)(p.lX,{variant:"primary",children:c("filter.from")}),(0,N.jsx)(g(),{className:b,selected:U,onChange:function(t){return Y(t)},placeholderText:c("filter.startDate")})]}),(0,N.jsxs)(p.NI,{variant:"primary",children:[(0,N.jsx)(p.lX,{variant:"primary",children:c("filter.to")}),(0,N.jsx)(g(),{className:b,selected:W,onChange:function(t){return H(t)},placeholderText:c("filter.endDate")})]})]}):null]})}):null})]}):null,i?(0,N.jsxs)(f.xu,{"data-testid":"amount-filter",children:[(0,N.jsxs)(f.Ug,{className:_,onClick:function(){return z(!F)},children:[(0,N.jsx)(f.xv,{variant:"large",children:c("filter.amount")}),F?(0,N.jsx)(D.Z,{className:"icon-customizable",icon:"icon-minus",size:20}):(0,N.jsx)(D.Z,{className:"icon-customizable",icon:"icon-plus",size:20})]}),(0,N.jsx)(f.xu,{borderBottom:"1px solid var(--border-color-1)",children:F?(0,N.jsxs)(f.Ug,{className:k,children:[(0,N.jsxs)(p.NI,{variant:"primary",children:[(0,N.jsx)(p.lX,{variant:"primary",children:c("filter.from")}),(0,N.jsx)(C.Z,{value:nt.min,onChange:function(t){return rt((0,n.Z)((0,n.Z)({},nt),{},{min:t||""}))}})]}),(0,N.jsxs)(p.NI,{variant:"primary",children:[(0,N.jsx)(p.lX,{variant:"primary",children:c("filter.to")}),(0,N.jsx)(C.Z,{value:nt.max,onChange:function(t){return rt((0,n.Z)((0,n.Z)({},nt),{},{max:t||""}))}})]})]}):null})]}):null,null]})})})},Z=a(4661),w=a(3692),S=function(){var t=(0,d.CG)((function(t){return t.transaction.filters.tmpStates}),i.wU),e=(0,d.Qo)(),a=(0,Z.y)().close,m=(0,r.useMemo)((function(){var e={},a=(0,n.Z)({},t);return"credit"!==e.txnType&&"debit"!==e.txnType&&"card"!==e.txnType||(a.transactionType=e.txnType),e.startDate&&(a.startDate=e.startDate),e.endDate&&(a.endDate=e.endDate),e.timePeriod&&(a.timePeriod=e.timePeriod),e.minAmount&&(a.amount.min=e.minAmount),e.maxAmount&&(a.amount.max=e.maxAmount),a}),[t]);return(0,N.jsx)(M,{showAmountFilter:!0,showCardsFilter:!0,showTimePeriodFilter:!0,showTransactionTypeFilter:!0,filters:m,onApply:function(t){var n=t.transactionType,r=t.amount,i=t.timePeriod,d=t.startDate,m=t.endDate,x={};"credit"!==n&&"debit"!==n&&"card"!==n||(x.txnType=n);var f=new Date,v=new Date(f.getFullYear(),f.getMonth(),0);switch(i){case"thisWeek":x.startDate=(0,s.default)((0,l.default)(f),"yyyy-MM-dd"),x.endDate=(0,s.default)((0,c.default)(f),"yyyy-MM-dd");break;case"thisMonth":x.startDate=(0,s.default)((0,o.default)(f),"yyyy-MM-dd"),x.endDate=(0,s.default)((0,u.default)(f),"yyyy-MM-dd");break;case"lastMonth":x.startDate=(0,s.default)((0,o.default)(v),"yyyy-MM-dd"),x.endDate=(0,s.default)((0,u.default)(v),"yyyy-MM-dd");break;case"custom":x.startDate=(0,s.default)(d,"yyyy-MM-dd"),x.endDate=(0,s.default)(m,"yyyy-MM-dd")}""!==r.min&&(x.minAmount=r.min),""!==r.max&&(x.maxAmount=r.max),e((0,h.L5)({data:x,tmpStates:{transactionType:n,amount:r,timePeriod:i,startDate:d,endDate:m}})),setTimeout((function(){w.T.dispatch(w.z.TRANSACTION_REFRESH,{data:x,tmpStates:{transactionType:n,amount:r,timePeriod:i,startDate:d,endDate:m}})}),0),a()}})}}}]);
//# sourceMappingURL=219.8fd44cb1.chunk.js.map