{"version":3,"file":"kyb-business-status.1706518242124.js","mappings":"uJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAuB,oBAAEI,EAAG,MAAM,CAACE,YAAY,+DAA+D,CAAEN,EAAe,YAAEI,EAAG,OAAO,CAACE,YAAY,+BAA+BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,QAAQC,KAAK,kBAAkB,KAAKV,EAAIW,KAC3T,aAAvCX,EAAIY,oBAAoBC,IAAIC,OAC5BV,EAAG,MAAM,CAACE,YAAY,8KAA8K,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAAC,CAACF,EAAG,kBAAkB,CAACW,MAAM,CAAC,iBAAiB,UAAU,UAAY,6BAA6B,MAAO,KAAQX,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,6BAA6B,OAAOd,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,4CAA4C,OAAOd,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,YAAY,CAACE,YAAY,8CAA8CS,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQP,EAAImB,2BAA2B,CAACnB,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,gDAAgD,QAAQ,KAAK,KAA6C,aAAvClB,EAAIY,oBAAoBC,IAAIC,OAAuBV,EAAG,MAAM,CAACE,YAAY,8KAA8K,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,kBAAkB,CAACW,MAAM,CAAC,iBAAiB,UAAU,UAAY,4BAA4B,MAAO,KAAQX,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,6BAA6B,OAAOd,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,mCAAmC,OAAOd,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,YAAY,CAACE,YAAY,8CAA8CS,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQP,EAAIoB,aAAa,CAACpB,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,mCAAmC,QAAQ,IAAI,KAA6C,cAAvClB,EAAIY,oBAAoBC,IAAIC,QAA0Bd,EAAIqB,UAAWjB,EAAG,MAAM,CAACE,YAAY,oKAAoK,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,kBAAkB,CAACW,MAAM,CAAC,iBAAiB,YAAY,UAAY,2BAA2B,MAAO,KAAQX,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,4BAA4B,OAAOd,EAAG,MAAM,CAACE,YAAY,oCAAoC,KAAKF,EAAG,MAAM,CAACE,YAAY,+KAA+K,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,kBAAkB,CAACW,MAAM,CAAC,iBAAiB,YAAY,UAAY,2BAA2B,MAAO,KAAQX,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,6BAA6B,OAAOd,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,mCAAmC,OAAOd,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,YAAY,CAACE,YAAY,8CAA8CS,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQP,EAAIsB,WAAW,CAACtB,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,GAAG,mCAAmC,QAAQ,IAAI,OAAOlB,EAAIW,IAAI,EACxiGY,EAAkB,G,mBC6GtB,GACAC,KAAAA,iBACAC,WAAAA,CACAC,gBAAAA,EAAAA,GAEAC,SAAAA,KACA,kEACA,uDACAC,cACA,OACA,6BACA,4BACA,6BAEA,GAEAC,OACA,OACAR,WAAAA,EACAS,WAAAA,EACAC,MAAAA,KAEA,EACAC,gBACA,YACAC,aAAAA,KAAAA,MAEA,EACAC,UAEA,iCACA,KACA,wBACA,CACA,0BACA,uBACAC,MAAAC,IACA,gBAEA,eACA,+BACA,4BACA,yBACA,EACA,KAEAC,OAAAC,IACAC,QAAAA,IAAAA,GACA,2BAEAC,SAAA,KACAC,EAAAA,OAAAA,GAEA,CACA,EACAC,QAAAA,KACA,uDACA,2CACA,mDACA,2BAIAC,SAAAA,EAAAA,GAAAA,GACA,+BACA,sBACAR,MAAAN,IAEA,UACA,4BACA,8BACA,mBACA,kBACA,kBACA,4BACA,mBACA,OAEA,kBACA,4BAEA,sBACA,OAIA,kBACA,+BACA,4BAEA,sBACA,MAEA,IAEAQ,OAAAC,IACA,2BAEAE,SAAA,KACA,wBAEA,EACArB,2BAEA,8BACAyB,WAAAA,KAAAA,oBAAAA,GACAC,KAAAA,qBAGA,mCAEA,EACAC,yBACA,mCACA,EACA1B,aACA,0BACA,cACAe,MAAA,KACA,4BAEAE,OAAAC,IACAC,QAAAA,IAAAA,GACA,2BAEAC,SAAA,KACAC,EAAAA,OAAAA,GAEA,IChP8S,I,UCQ1SM,GAAY,OACd,EACAhD,EACAwB,GACA,EACA,KACA,KACA,MAIF,EAAewB,EAAiB,O","sources":["webpack://Solid/./src/modules/kyb/views/BusinessStatus.vue?df07","webpack://Solid/src/modules/kyb/views/BusinessStatus.vue","webpack://Solid/./src/modules/kyb/views/BusinessStatus.vue?754d","webpack://Solid/./src/modules/kyb/views/BusinessStatus.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.getSelectedBusiness)?_c('div',{staticClass:\"kybStatus widgetContainer widgetContainer--center  bg-white\"},[(_vm.showBackBtn)?_c('span',{staticClass:\"icon-Arrow-big-left back-btn\",on:{\"click\":function($event){return _vm.$router.push('/account/create')}}}):_vm._e(),(\n      _vm.getSelectedBusiness.kyb.status === 'approved'\n    )?_c('div',{staticClass:\"\\n      widgetContainer widgetContainer--center\\n      bg-white\\n      widgetContainer--scrollable widgetContainer--full-screen\\n      appStatus appStatus--approved\\n    \"},[_c('div',{staticClass:\"widgetContainer__body\"},[[_c('LottieAnimation',{attrs:{\"animation-name\":\"success\",\"reference\":\"business-status-approved-1\",\"loop\":true}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_approved_title'))+\" \")]),_c('p',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_approved_description_soleProp'))+\" \")]),_c('div',{staticClass:\"widgetContainer__footer--fixed\"},[_c('el-button',{staticClass:\"welcome__get-started el-button__brand brand\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.proceedToAccountCreation}},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_approved_buttonTitle_without_sign'))+\" \")])],1)]],2)]):(_vm.getSelectedBusiness.kyb.status === 'declined')?_c('div',{staticClass:\"\\n      widgetContainer widgetContainer--center\\n      bg-white\\n      widgetContainer--scrollable widgetContainer--full-screen\\n      appStatus appStatus--declined\\n    \"},[_c('div',{staticClass:\"widgetContainer__body\"},[_c('LottieAnimation',{attrs:{\"animation-name\":\"failure\",\"reference\":\"business-status-failure-1\",\"loop\":true}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_declined_title'))+\" \")]),_c('p',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_declined_description'))+\" \")]),_c('div',{staticClass:\"widgetContainer__footer--fixed\"},[_c('el-button',{staticClass:\"welcome__get-started el-button__brand brand\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.logoutUser}},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_declined_buttonTitle'))+\" \")])],1)],1)]):(_vm.getSelectedBusiness.kyb.status === 'submitted' && _vm.isLoading)?_c('div',{staticClass:\"\\n      widgetContainer widgetContainer--center\\n      bg-white\\n      widgetContainer--full-screen\\n      verifying\\n      appStatus appStatus--verifying\\n    \"},[_c('div',{staticClass:\"widgetContainer__body\"},[_c('LottieAnimation',{attrs:{\"animation-name\":\"searching\",\"reference\":\"business-status-review-1\",\"loop\":true}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_waiting_title'))+\" \")]),_c('div',{staticClass:\"widgetContainer__footer--fixed\"})],1)]):_c('div',{staticClass:\"\\n      widgetContainer widgetContainer--center\\n      bg-white\\n      widgetContainer--scrollable widgetContainer--full-screen\\n      appStatus appStatus--verifying\\n    \"},[_c('div',{staticClass:\"widgetContainer__body\"},[_c('LottieAnimation',{attrs:{\"animation-name\":\"searching\",\"reference\":\"business-status-review-2\",\"loop\":true}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_inReview_title'))+\" \")]),_c('p',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_inReview_description'))+\" \")]),_c('div',{staticClass:\"widgetContainer__footer--fixed\"},[_c('el-button',{staticClass:\"welcome__get-started el-button__brand brand\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openHelp}},[_vm._v(\" \"+_vm._s(_vm.$t('kybStatus_inReview_buttonTitle'))+\" \")])],1)],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"getSelectedBusiness\" class=\"kybStatus widgetContainer widgetContainer--center  bg-white\">\n    <span\n      class=\"icon-Arrow-big-left back-btn\"\n      @click=\"$router.push('/account/create')\"\n      v-if=\"showBackBtn\" />\n    <div\n      class=\"\n        widgetContainer widgetContainer--center\n        bg-white\n        widgetContainer--scrollable widgetContainer--full-screen\n        appStatus appStatus--approved\n      \"\n      v-if=\"\n        getSelectedBusiness.kyb.status === 'approved'\n      \">\n      <div class=\"widgetContainer__body\">\n        <template>\n          <LottieAnimation animation-name=\"success\" reference=\"business-status-approved-1\" :loop=\"true\" />\n          <p class=\"title\">\n            {{ $t('kybStatus_approved_title') }}\n          </p>\n          <p class=\"description\">\n            {{ $t('kybStatus_approved_description_soleProp') }}\n          </p>\n          <div class=\"widgetContainer__footer--fixed\">\n            <el-button\n              type=\"primary\"\n              class=\"welcome__get-started el-button__brand brand\"\n              @click=\"proceedToAccountCreation\">\n              {{ $t('kybStatus_approved_buttonTitle_without_sign') }}\n            </el-button>\n          </div>\n        </template>\n      </div>\n    </div>\n\n    <div\n      class=\"\n        widgetContainer widgetContainer--center\n        bg-white\n        widgetContainer--scrollable widgetContainer--full-screen\n        appStatus appStatus--declined\n      \"\n      v-else-if=\"getSelectedBusiness.kyb.status === 'declined'\">\n      <div class=\"widgetContainer__body\">\n        <LottieAnimation animation-name=\"failure\" reference=\"business-status-failure-1\" :loop=\"true\" />\n        <p class=\"title\">\n          {{ $t('kybStatus_declined_title') }}\n        </p>\n        <p class=\"description\">\n          {{ $t('kybStatus_declined_description') }}\n        </p>\n        <div class=\"widgetContainer__footer--fixed\">\n          <el-button type=\"primary\" class=\"welcome__get-started el-button__brand brand\" @click=\"logoutUser\">\n            {{ $t('kybStatus_declined_buttonTitle') }}\n          </el-button>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"\n        widgetContainer widgetContainer--center\n        bg-white\n        widgetContainer--full-screen\n        verifying\n        appStatus appStatus--verifying\n      \"\n      v-else-if=\"getSelectedBusiness.kyb.status === 'submitted' && isLoading\">\n      <div class=\"widgetContainer__body\">\n        <LottieAnimation animation-name=\"searching\" reference=\"business-status-review-1\" :loop=\"true\" />\n        <p class=\"title\">\n          {{ $t('kybStatus_waiting_title') }}\n        </p>\n        <div class=\"widgetContainer__footer--fixed\" /> <!-- Keeps alignment -->\n      </div>\n    </div>\n\n    <div\n      class=\"\n        widgetContainer widgetContainer--center\n        bg-white\n        widgetContainer--scrollable widgetContainer--full-screen\n        appStatus appStatus--verifying\n      \"\n      v-else>\n      <div class=\"widgetContainer__body\">\n        <LottieAnimation animation-name=\"searching\" reference=\"business-status-review-2\" :loop=\"true\" />\n        <p class=\"title\">\n          {{ $t('kybStatus_inReview_title') }}\n        </p>\n        <p class=\"description\">\n          {{ $t('kybStatus_inReview_description') }}\n        </p>\n        <div class=\"widgetContainer__footer--fixed\">\n          <el-button\n            type=\"primary\"\n            class=\"welcome__get-started el-button__brand brand\"\n            @click=\"openHelp\">\n            {{ $t('kybStatus_inReview_buttonTitle') }}\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\nimport LottieAnimation from '@/components/LottieAnimation.vue';\n\nexport default {\n  name: 'BusinessStatus',\n  components: {\n    LottieAnimation\n  },\n  computed: {\n    ...mapGetters('account', ['getAllAccount', 'getSelectedAccountType']),\n    ...mapGetters('kyb', ['getSelectedBusiness', 'getKybDetails']),\n    showBackBtn() {\n      return (\n        this.$businessChecking === true &&\n        this.$personalChecking === true &&\n        this.getAllAccount.length !== 0\n      );\n    }\n  },\n  data() {\n    return {\n      isLoading: true,\n      retryCount: 0,\n      timer: null\n    };\n  },\n  beforeDestroy() {\n    if(this.timer) {\n      clearTimeout(this.timer);\n    }\n  },\n  created() {\n    /** @type {import('@m/kyb/store/state').kybState['selectedBusinessType']}*/\n    const selectedBusiness = this.getSelectedBusiness;\n    if (selectedBusiness) {\n      this.fetchKyb(selectedBusiness.id);\n    } else {\n      const loader = this.showLoader();\n      this.listAllBusiness()\n        .then((r) => {\n          if (r.total !== 0) {\n            /** @type {import('@m/kyb/store/state').kybState['bussinessDetails']} */\n            const businessList = r.data;\n            this.setSelectedBusiness(businessList[0]);\n            this.timer = setTimeout(() => {\n              this.fetchKyb(businessList[0].id);\n            }, 0);\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.apiErrorMessage(e);\n        })\n        .finally(() => {\n          loader.close();\n        });\n    }\n  },\n  methods: {\n    ...mapActions('kyb', ['fetchBusiness', 'listAllBusiness']),\n    ...mapMutations('kyb', ['setSelectedBusiness']),\n    ...mapMutations('account', ['updateCreateAccountData']),\n    ...mapActions('user', ['logout']),\n    /**\n     * @param {string} businessId\n     */\n    fetchKyb(businessId, showLoader = true) {\n      const loader = showLoader ? this.showLoader() : {};\n      this.fetchBusiness(businessId)\n        .then((data) => {\n          /** @type {import('@m/kyb/store/state').kybState['selectedBusinessType']} */\n          const businessData = data;\n          this.setSelectedBusiness(businessData);\n          if (businessData && businessData.kyb.status === 'submitted') {\n            if (this.retryCount < 5) {\n              this.isLoading = true;\n              this.retryCount++;\n              this.timer = setTimeout(() => {\n                this.fetchKyb(businessId);\n              }, 5000);\n            } else {\n              this.isLoading = false;\n              this.timer = setTimeout(() => {\n                // without loading indicator\n                this.fetchKyb(businessId, false);\n              }, 5000);\n            }\n          } else {\n            \n            this.isLoading = false;\n            if (businessData && businessData.kyb.status !== 'approved') {\n              this.timer = setTimeout(() => {\n                // without loading indicator\n                this.fetchKyb(businessId, false);\n              }, 5000);\n            }\n          }\n        })\n        .catch((e) => {\n          this.apiErrorMessage(e);\n        })\n        .finally(() => {\n          if (showLoader && loader.close) loader.close();\n        });\n    },\n    proceedToAccountCreation() {\n      \n      this.updateCreateAccountData({\n        businessId: this.getSelectedBusiness.id,\n        type: 'businessChecking'\n      });\n      \n      this.$router.push('/account/setup');\n      \n    },\n    proceedToDeclareOwners() {\n      this.$router.push('/kyb/ownership');\n    },\n    logoutUser() {\n      const loader = this.showLoader();\n      this.logout()\n        .then(() => {\n          this.goToWelcomeScreen();\n        })\n        .catch((e) => {\n          console.log(e);\n          this.apiErrorMessage(e);\n        })\n        .finally(() => {\n          loader.close();\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.kybStatus {\n  .back-btn {\n    padding: 30px 0 0 10px;\n    cursor: pointer;\n  }\n  .welcome__illustration {\n    display: block;\n  }\n  .kybStatus_footer {\n    position: absolute;\n    bottom: 0;\n    padding: 16px 12px;\n    width: 370px;\n    background-color: white;\n    .el-button {\n      width: 100%;\n    }\n  }\n  .welcome__get-started {\n    min-width: 100%;\n    min-height: 40px;\n  }\n\n  .welcome__logo {\n    margin-bottom: 40px;\n  }\n\n  .welcome__description {\n    padding-bottom: 80px;\n  }\n\n  .is-circle {\n    min-height: 40px;\n  }\n}\n.widgetContainer.appStatus {\n  margin-top: 0;\n\n  .description {\n    padding-bottom: 100px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BusinessStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BusinessStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessStatus.vue?vue&type=template&id=7964bdc3&\"\nimport script from \"./BusinessStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessStatus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessStatus.vue?vue&type=style&index=0&id=7964bdc3&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","push","_e","getSelectedBusiness","kyb","status","attrs","_v","_s","$t","proceedToAccountCreation","logoutUser","isLoading","openHelp","staticRenderFns","name","components","LottieAnimation","computed","showBackBtn","data","retryCount","timer","beforeDestroy","clearTimeout","created","then","r","catch","e","console","finally","loader","methods","fetchKyb","businessId","type","proceedToDeclareOwners","component"],"sourceRoot":""}