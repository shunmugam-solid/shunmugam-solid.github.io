"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[9244],{9244:function(t,i,s){s.r(i),s.d(i,{default:function(){return c}});var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"widgetContainer cardDetails bg-white"},[s("div",{staticClass:"navigationHeader"},[s("div",{staticClass:"navigationHeader__inner"},[s("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:t.drawerBack}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("ATM_list"))+" ")])])]),s("div",{staticClass:"widgetContainer__body"},[t.havePermission?0!==t.atms.total?s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"widgetContainer--scrollable",attrs:{"infinite-scroll-disabled":t.disabledLoadMore,"infinite-scroll-immediate":!1}},[s("ul",{staticClass:"atm-list"},t._l(t.atms.data,(function(i){return s("li",{key:i.id,staticClass:"atm-list__item"},[s("div",{staticClass:"initialsInfoContact initialCaps"},[s("span",[t._v(t._s(i.name.charAt(0)))])]),s("div",{staticClass:"details"},[s("p",{staticClass:"name initialCaps"},[t._v(" "+t._s(i.name)+" ")]),s("p",{staticClass:"description initialCaps"},[t._v(" "+t._s(i.description)+" ")])])])})),0),t.loading&&1!==t.page?s("div",{staticClass:"infinite-loading"},[s("p",[t._v("Loading...")])]):t._e()]):s("div",{staticClass:"noData"},[s("p",[t._v(" "+t._s(t.$t("no_ATM"))+" ")])]):s("div",{staticClass:"noData"},[s("p",[t._v(t._s(t.$t("location_permission")))])])])])},e=[],l=s(629),o={name:"FindATM",data(){return{lat:null,long:null,page:1,limit:100,loading:!1,havePermission:!1,atms:{data:[],total:0}}},created(){if(navigator.geolocation){const t=this.showLoader();navigator.geolocation.getCurrentPosition((i=>{i&&i.coords&&i.coords.latitude&&i.coords.longitude&&(this.lat=i.coords.latitude,this.long=i.coords.longitude,this.havePermission=!0,t.close(),this.fetchATMs())}),(i=>{console.log(i),this.havePermission=!1,t.close()}))}else{this.havePermission=!1;let t="Geolocation is not supported by this browser.";console.log(t)}},computed:{...(0,l.Se)("card",["getSelectedCard"]),disabledLoadMore(){return!0===this.loading||this.atms.total<=this.page*this.limit}},methods:{...(0,l.nv)("card",["findNearATM"]),fetchATMs(){const t=this.showLoader();this.findNearATM({cardId:this.getSelectedCard.id,lat:this.lat,long:this.long,limit:this.limit,page:this.page}).then((t=>{1===this.page?this.atms=t:this.atms.data.push(...t.data)})).finally((()=>{t.close()}))},load(){!1===this.loading&&this.atms.total>this.page*this.limit&&(this.page++,this.fetchATMs())}}},n=o,d=s(3736),r=(0,d.Z)(n,a,e,!1,null,null,null),c=r.exports}}]);
//# sourceMappingURL=9244.1705666157445.js.map