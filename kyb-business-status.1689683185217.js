"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[3487],{3988:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getSelectedBusiness?s("div",{staticClass:"kybStatus widgetContainer widgetContainer--center  bg-white"},[t.showBackBtn?s("span",{staticClass:"icon-Arrow-big-left back-btn",on:{click:function(e){return t.$router.push("/account/create")}}}):t._e(),"approved"===t.getSelectedBusiness.kyb.status?s("div",{staticClass:"\n      widgetContainer widgetContainer--center\n      bg-white\n      widgetContainer--scrollable widgetContainer--full-screen\n      appStatus appStatus--approved\n    "},[s("div",{staticClass:"widgetContainer__body"},[["soleProprietor","singleMemberLLC"].includes(t.getSelectedBusiness.entityType)?[s("LottieAnimation",{attrs:{"animation-name":"success",reference:"business-status-approved-1",loop:!0}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("kybStatus_approved_title"))+" ")]),s("p",{staticClass:"description"},[t._v(" "+t._s(t.$t("kybStatus_approved_description_soleProp"))+" ")]),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"welcome__get-started el-button__brand brand",attrs:{type:"primary"},on:{click:t.proceedToAccountCreation}},[t._v(" "+t._s(t.$t("kybStatus_approved_buttonTitle_without_sign"))+" ")])],1)]:[s("LottieAnimation",{attrs:{"animation-name":"success",reference:"business-status-approved-2",loop:!0}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("kybStatus_approved_title"))+" ")]),s("p",{staticClass:"description"},[t._v(" "+t._s(t.$t("kybStatus_approved_description_Multimember"))+" ")]),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"welcome__get-started el-button__brand brand",attrs:{type:"primary"},on:{click:t.proceedToDeclareOwners}},[t._v(" "+t._s(t.$t("kybStatus_approved_buttonTitle_Multimember"))+" ")])],1)]],2)]):"declined"===t.getSelectedBusiness.kyb.status?s("div",{staticClass:"\n      widgetContainer widgetContainer--center\n      bg-white\n      widgetContainer--scrollable widgetContainer--full-screen\n      appStatus appStatus--declined\n    "},[s("div",{staticClass:"widgetContainer__body"},[s("LottieAnimation",{attrs:{"animation-name":"failure",reference:"business-status-failure-1",loop:!0}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("kybStatus_declined_title"))+" ")]),s("p",{staticClass:"description"},[t._v(" "+t._s(t.$t("kybStatus_declined_description"))+" ")]),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"welcome__get-started el-button__brand brand",attrs:{type:"primary"},on:{click:t.logoutUser}},[t._v(" "+t._s(t.$t("kybStatus_declined_buttonTitle"))+" ")])],1)],1)]):"submitted"===t.getSelectedBusiness.kyb.status&&t.isLoading?s("div",{staticClass:"\n      widgetContainer widgetContainer--center\n      bg-white\n      widgetContainer--full-screen\n      verifying\n      appStatus appStatus--verifying\n    "},[s("div",{staticClass:"widgetContainer__body"},[s("LottieAnimation",{attrs:{"animation-name":"searching",reference:"business-status-review-1",loop:!0}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("kybStatus_waiting_title"))+" ")]),s("div",{staticClass:"widgetContainer__footer--fixed"})],1)]):s("div",{staticClass:"\n      widgetContainer widgetContainer--center\n      bg-white\n      widgetContainer--scrollable widgetContainer--full-screen\n      appStatus appStatus--verifying\n    "},[s("div",{staticClass:"widgetContainer__body"},[s("LottieAnimation",{attrs:{"animation-name":"searching",reference:"business-status-review-2",loop:!0}}),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("kybStatus_inReview_title"))+" ")]),s("p",{staticClass:"description"},[t._v(" "+t._s(t.$t("kybStatus_inReview_description"))+" ")]),s("div",{staticClass:"widgetContainer__footer--fixed"},[s("el-button",{staticClass:"welcome__get-started el-button__brand brand",attrs:{type:"primary"},on:{click:t.openHelp}},[t._v(" "+t._s(t.$t("kybStatus_inReview_buttonTitle"))+" ")])],1)],1)])]):t._e()},n=[],a=s(629),o=s(6537),r={name:"BusinessStatus",components:{LottieAnimation:o.Z},computed:{...(0,a.Se)("account",["getAllAccount","getSelectedAccountType"]),...(0,a.Se)("kyb",["getSelectedBusiness","getKybDetails"]),showBackBtn(){return!0===this.$businessChecking&&!0===this.$personalChecking&&0!==this.getAllAccount.length}},data(){return{isLoading:!0,retryCount:0,timer:null}},beforeDestroy(){this.timer&&clearTimeout(this.timer)},created(){const t=this.getSelectedBusiness;if(t)this.fetchKyb(t.id);else{const t=this.showLoader();this.listAllBusiness().then((t=>{if(0!==t.total){const e=t.data;this.setSelectedBusiness(e[0]),this.timer=setTimeout((()=>{this.fetchKyb(e[0].id)}),0)}})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{t.close()}))}},methods:{...(0,a.nv)("kyb",["fetchBusiness","listAllBusiness"]),...(0,a.OI)("kyb",["setSelectedBusiness"]),...(0,a.OI)("account",["updateCreateAccountData"]),...(0,a.nv)("user",["logout"]),fetchKyb(t,e=!0){const s=e?this.showLoader():{};this.fetchBusiness(t).then((e=>{const s=e;this.setSelectedBusiness(s),s&&"submitted"===s.kyb.status?this.retryCount<5?(this.isLoading=!0,this.retryCount++,this.timer=setTimeout((()=>{this.fetchKyb(t)}),5e3)):(this.isLoading=!1,this.timer=setTimeout((()=>{this.fetchKyb(t,!1)}),5e3)):(this.isLoading=!1,s&&"approved"!==s.kyb.status&&(this.timer=setTimeout((()=>{this.fetchKyb(t,!1)}),5e3)))})).catch((t=>{this.apiErrorMessage(t)})).finally((()=>{e&&s.close&&s.close()}))},proceedToAccountCreation(){this.updateCreateAccountData({businessId:this.getSelectedBusiness.id,type:"businessChecking"}),this.$router.push("/account/setup")},proceedToDeclareOwners(){this.$router.push("/kyb/ownership")},logoutUser(){const t=this.showLoader();this.logout().then((()=>{this.goToWelcomeScreen()})).catch((t=>{console.log(t),this.apiErrorMessage(t)})).finally((()=>{t.close()}))}}},c=r,l=s(3736),u=(0,l.Z)(c,i,n,!1,null,null,null),d=u.exports}}]);
//# sourceMappingURL=kyb-business-status.1689683185217.js.map