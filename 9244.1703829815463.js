"use strict";(self["webpackChunkSolid"]=self["webpackChunkSolid"]||[]).push([[9244],{9244:function(t,i,a){a.r(i),a.d(i,{default:function(){return c}});var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"widgetContainer cardDetails bg-white"},[a("div",{staticClass:"navigationHeader"},[a("div",{staticClass:"navigationHeader__inner"},[a("span",{staticClass:"icon-Arrow-big-left cancel",on:{click:t.drawerBack}}),a("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("ATM_list"))+" ")])])]),a("div",{staticClass:"widgetContainer__body"},[t.havePermission?0!==t.atms.total?a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"widgetContainer--scrollable",attrs:{"infinite-scroll-disabled":t.disabledLoadMore,"infinite-scroll-immediate":!1}},[a("ul",{staticClass:"atm-list"},t._l(t.atms.data,(function(i){return a("li",{key:i.id,staticClass:"atm-list__item"},[a("div",{staticClass:"initialsInfoContact initialCaps"},[a("span",[t._v(t._s(i.name.charAt(0)))])]),a("div",{staticClass:"details"},[a("p",{staticClass:"name initialCaps"},[t._v(" "+t._s(i.name)+" ")]),a("p",{staticClass:"description initialCaps"},[t._v(" "+t._s(i.description)+" ")])])])})),0),t.loading&&1!==t.page?a("div",{staticClass:"infinite-loading"},[a("p",[t._v("Loading...")])]):t._e()]):a("div",{staticClass:"noData"},[a("p",[t._v(" "+t._s(t.$t("no_ATM"))+" ")])]):a("div",{staticClass:"noData"},[a("p",[t._v(t._s(t.$t("location_permission")))])])])])},e=[],l=a(629),n={name:"FindATM",data(){return{lat:null,long:null,page:1,limit:100,loading:!1,havePermission:!1,atms:{data:[],total:0}}},created(){if(navigator.geolocation){const t=this.showLoader();navigator.geolocation.getCurrentPosition((i=>{i&&i.coords&&i.coords.latitude&&i.coords.longitude&&(this.lat=i.coords.latitude,this.long=i.coords.longitude,this.havePermission=!0,t.close(),this.fetchATMs())}),(i=>{this.havePermission=!1,t.close()}))}else{this.havePermission=!1}},computed:{...(0,l.Se)("card",["getSelectedCard"]),disabledLoadMore(){return!0===this.loading||this.atms.total<=this.page*this.limit}},methods:{...(0,l.nv)("card",["findNearATM"]),fetchATMs(){const t=this.showLoader();this.findNearATM({cardId:this.getSelectedCard.id,lat:this.lat,long:this.long,limit:this.limit,page:this.page}).then((t=>{1===this.page?this.atms=t:this.atms.data.push(...t.data)})).finally((()=>{t.close()}))},load(){!1===this.loading&&this.atms.total>this.page*this.limit&&(this.page++,this.fetchATMs())}}},o=n,d=a(3736),r=(0,d.Z)(o,s,e,!1,null,null,null),c=r.exports}}]);
//# sourceMappingURL=9244.1703829815463.js.map